(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qc={exports:{}},wo={},Xc={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function H1(){if(H0)return tt;H0=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),b=Symbol.iterator;function R(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,G={};function Y(z,le,Fe){this.props=z,this.context=le,this.refs=G,this.updater=Fe||T}Y.prototype.isReactComponent={},Y.prototype.setState=function(z,le){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,le,"setState")},Y.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function se(){}se.prototype=Y.prototype;function ne(z,le,Fe){this.props=z,this.context=le,this.refs=G,this.updater=Fe||T}var ae=ne.prototype=new se;ae.constructor=ne,v(ae,Y.prototype),ae.isPureReactComponent=!0;var be=Array.isArray,j=Object.prototype.hasOwnProperty,ie={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function M(z,le,Fe){var F,Oe={},$e=null,Ee=null;if(le!=null)for(F in le.ref!==void 0&&(Ee=le.ref),le.key!==void 0&&($e=""+le.key),le)j.call(le,F)&&!ce.hasOwnProperty(F)&&(Oe[F]=le[F]);var de=arguments.length-2;if(de===1)Oe.children=Fe;else if(1<de){for(var we=Array(de),B=0;B<de;B++)we[B]=arguments[B+2];Oe.children=we}if(z&&z.defaultProps)for(F in de=z.defaultProps,de)Oe[F]===void 0&&(Oe[F]=de[F]);return{$$typeof:r,type:z,key:$e,ref:Ee,props:Oe,_owner:ie.current}}function $(z,le){return{$$typeof:r,type:z.type,key:le,ref:z.ref,props:z.props,_owner:z._owner}}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function he(z){var le={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Fe){return le[Fe]})}var ve=/\/+/g;function _(z,le){return typeof z=="object"&&z!==null&&z.key!=null?he(""+z.key):le.toString(36)}function P(z,le,Fe,F,Oe){var $e=typeof z;($e==="undefined"||$e==="boolean")&&(z=null);var Ee=!1;if(z===null)Ee=!0;else switch($e){case"string":case"number":Ee=!0;break;case"object":switch(z.$$typeof){case r:case n:Ee=!0}}if(Ee)return Ee=z,Oe=Oe(Ee),z=F===""?"."+_(Ee,0):F,be(Oe)?(Fe="",z!=null&&(Fe=z.replace(ve,"$&/")+"/"),P(Oe,le,Fe,"",function(B){return B})):Oe!=null&&(W(Oe)&&(Oe=$(Oe,Fe+(!Oe.key||Ee&&Ee.key===Oe.key?"":(""+Oe.key).replace(ve,"$&/")+"/")+z)),le.push(Oe)),1;if(Ee=0,F=F===""?".":F+":",be(z))for(var de=0;de<z.length;de++){$e=z[de];var we=F+_($e,de);Ee+=P($e,le,Fe,we,Oe)}else if(we=R(z),typeof we=="function")for(z=we.call(z),de=0;!($e=z.next()).done;)$e=$e.value,we=F+_($e,de++),Ee+=P($e,le,Fe,we,Oe);else if($e==="object")throw le=String(z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Ee}function L(z,le,Fe){if(z==null)return z;var F=[],Oe=0;return P(z,F,"","",function($e){return le.call(Fe,$e,Oe++)}),F}function J(z){if(z._status===-1){var le=z._result;le=le(),le.then(function(Fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=Fe)},function(Fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=Fe)}),z._status===-1&&(z._status=0,z._result=le)}if(z._status===1)return z._result.default;throw z._result}var fe={current:null},re={transition:null},xe={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:re,ReactCurrentOwner:ie};function _e(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:L,forEach:function(z,le,Fe){L(z,function(){le.apply(this,arguments)},Fe)},count:function(z){var le=0;return L(z,function(){le++}),le},toArray:function(z){return L(z,function(le){return le})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},tt.Component=Y,tt.Fragment=i,tt.Profiler=l,tt.PureComponent=ne,tt.StrictMode=o,tt.Suspense=w,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,tt.act=_e,tt.cloneElement=function(z,le,Fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var F=v({},z.props),Oe=z.key,$e=z.ref,Ee=z._owner;if(le!=null){if(le.ref!==void 0&&($e=le.ref,Ee=ie.current),le.key!==void 0&&(Oe=""+le.key),z.type&&z.type.defaultProps)var de=z.type.defaultProps;for(we in le)j.call(le,we)&&!ce.hasOwnProperty(we)&&(F[we]=le[we]===void 0&&de!==void 0?de[we]:le[we])}var we=arguments.length-2;if(we===1)F.children=Fe;else if(1<we){de=Array(we);for(var B=0;B<we;B++)de[B]=arguments[B+2];F.children=de}return{$$typeof:r,type:z.type,key:Oe,ref:$e,props:F,_owner:Ee}},tt.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:d,_context:z},z.Consumer=z},tt.createElement=M,tt.createFactory=function(z){var le=M.bind(null,z);return le.type=z,le},tt.createRef=function(){return{current:null}},tt.forwardRef=function(z){return{$$typeof:u,render:z}},tt.isValidElement=W,tt.lazy=function(z){return{$$typeof:k,_payload:{_status:-1,_result:z},_init:J}},tt.memo=function(z,le){return{$$typeof:N,type:z,compare:le===void 0?null:le}},tt.startTransition=function(z){var le=re.transition;re.transition={};try{z()}finally{re.transition=le}},tt.unstable_act=_e,tt.useCallback=function(z,le){return fe.current.useCallback(z,le)},tt.useContext=function(z){return fe.current.useContext(z)},tt.useDebugValue=function(){},tt.useDeferredValue=function(z){return fe.current.useDeferredValue(z)},tt.useEffect=function(z,le){return fe.current.useEffect(z,le)},tt.useId=function(){return fe.current.useId()},tt.useImperativeHandle=function(z,le,Fe){return fe.current.useImperativeHandle(z,le,Fe)},tt.useInsertionEffect=function(z,le){return fe.current.useInsertionEffect(z,le)},tt.useLayoutEffect=function(z,le){return fe.current.useLayoutEffect(z,le)},tt.useMemo=function(z,le){return fe.current.useMemo(z,le)},tt.useReducer=function(z,le,Fe){return fe.current.useReducer(z,le,Fe)},tt.useRef=function(z){return fe.current.useRef(z)},tt.useState=function(z){return fe.current.useState(z)},tt.useSyncExternalStore=function(z,le,Fe){return fe.current.useSyncExternalStore(z,le,Fe)},tt.useTransition=function(){return fe.current.useTransition()},tt.version="18.3.1",tt}var G0;function ed(){return G0||(G0=1,Xc.exports=H1()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function G1(){if(W0)return wo;W0=1;var r=ed(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(u,w,N){var k,b={},R=null,T=null;N!==void 0&&(R=""+N),w.key!==void 0&&(R=""+w.key),w.ref!==void 0&&(T=w.ref);for(k in w)o.call(w,k)&&!d.hasOwnProperty(k)&&(b[k]=w[k]);if(u&&u.defaultProps)for(k in w=u.defaultProps,w)b[k]===void 0&&(b[k]=w[k]);return{$$typeof:n,type:u,key:R,ref:T,props:b,_owner:l.current}}return wo.Fragment=i,wo.jsx=p,wo.jsxs=p,wo}var L0;function W1(){return L0||(L0=1,Qc.exports=G1()),Qc.exports}var C=W1(),Ve=ed();const L1=Jf(Ve);var tl={},Jc={exports:{}},lr={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function K1(){return K0||(K0=1,function(r){function n(re,xe){var _e=re.length;re.push(xe);e:for(;0<_e;){var z=_e-1>>>1,le=re[z];if(0<l(le,xe))re[z]=xe,re[_e]=le,_e=z;else break e}}function i(re){return re.length===0?null:re[0]}function o(re){if(re.length===0)return null;var xe=re[0],_e=re.pop();if(_e!==xe){re[0]=_e;e:for(var z=0,le=re.length,Fe=le>>>1;z<Fe;){var F=2*(z+1)-1,Oe=re[F],$e=F+1,Ee=re[$e];if(0>l(Oe,_e))$e<le&&0>l(Ee,Oe)?(re[z]=Ee,re[$e]=_e,z=$e):(re[z]=Oe,re[F]=_e,z=F);else if($e<le&&0>l(Ee,_e))re[z]=Ee,re[$e]=_e,z=$e;else break e}}return xe}function l(re,xe){var _e=re.sortIndex-xe.sortIndex;return _e!==0?_e:re.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var p=Date,u=p.now();r.unstable_now=function(){return p.now()-u}}var w=[],N=[],k=1,b=null,R=3,T=!1,v=!1,G=!1,Y=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(re){for(var xe=i(N);xe!==null;){if(xe.callback===null)o(N);else if(xe.startTime<=re)o(N),xe.sortIndex=xe.expirationTime,n(w,xe);else break;xe=i(N)}}function be(re){if(G=!1,ae(re),!v)if(i(w)!==null)v=!0,J(j);else{var xe=i(N);xe!==null&&fe(be,xe.startTime-re)}}function j(re,xe){v=!1,G&&(G=!1,se(M),M=-1),T=!0;var _e=R;try{for(ae(xe),b=i(w);b!==null&&(!(b.expirationTime>xe)||re&&!he());){var z=b.callback;if(typeof z=="function"){b.callback=null,R=b.priorityLevel;var le=z(b.expirationTime<=xe);xe=r.unstable_now(),typeof le=="function"?b.callback=le:b===i(w)&&o(w),ae(xe)}else o(w);b=i(w)}if(b!==null)var Fe=!0;else{var F=i(N);F!==null&&fe(be,F.startTime-xe),Fe=!1}return Fe}finally{b=null,R=_e,T=!1}}var ie=!1,ce=null,M=-1,$=5,W=-1;function he(){return!(r.unstable_now()-W<$)}function ve(){if(ce!==null){var re=r.unstable_now();W=re;var xe=!0;try{xe=ce(!0,re)}finally{xe?_():(ie=!1,ce=null)}}else ie=!1}var _;if(typeof ne=="function")_=function(){ne(ve)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,L=P.port2;P.port1.onmessage=ve,_=function(){L.postMessage(null)}}else _=function(){Y(ve,0)};function J(re){ce=re,ie||(ie=!0,_())}function fe(re,xe){M=Y(function(){re(r.unstable_now())},xe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){v||T||(v=!0,J(j))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return i(w)},r.unstable_next=function(re){switch(R){case 1:case 2:case 3:var xe=3;break;default:xe=R}var _e=R;R=xe;try{return re()}finally{R=_e}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,xe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var _e=R;R=re;try{return xe()}finally{R=_e}},r.unstable_scheduleCallback=function(re,xe,_e){var z=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?z+_e:z):_e=z,re){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=_e+le,re={id:k++,callback:xe,priorityLevel:re,startTime:_e,expirationTime:le,sortIndex:-1},_e>z?(re.sortIndex=_e,n(N,re),i(w)===null&&re===i(N)&&(G?(se(M),M=-1):G=!0,fe(be,_e-z))):(re.sortIndex=le,n(w,re),v||T||(v=!0,J(j))),re},r.unstable_shouldYield=he,r.unstable_wrapCallback=function(re){var xe=R;return function(){var _e=R;R=xe;try{return re.apply(this,arguments)}finally{R=_e}}}}(tf)),tf}var D0;function D1(){return D0||(D0=1,ef.exports=K1()),ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Y1(){if(Y0)return lr;Y0=1;var r=ed(),n=D1();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},b={};function R(e){return w.call(b,e)?!0:w.call(k,e)?!1:N.test(e)?b[e]=!0:(k[e]=!0,!1)}function T(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v(e,t,s,a){if(t===null||typeof t>"u"||T(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function G(e,t,s,a,f,y,A){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=y,this.removeEmptyString=A}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new G(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new G(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new G(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new G(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new G(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function ne(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(se,ne);Y[t]=new G(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(se,ne);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(se,ne);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0,!0)});function ae(e,t,s,a){var f=Y.hasOwnProperty(t)?Y[t]:null;(f!==null?f.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v(t,s,f,a)&&(s=null),a||f===null?R(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):f.mustUseProperty?e[f.propertyName]=s===null?f.type===3?!1:"":s:(t=f.attributeName,a=f.attributeNamespace,s===null?e.removeAttribute(t):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var be=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),ie=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),he=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),re=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,z;function le(e){if(z===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return`
`+z+e}var Fe=!1;function F(e,t){if(!e||Fe)return"";Fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ge){var a=ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(ge){a=ge}e.call(t.prototype)}else{try{throw Error()}catch(ge){a=ge}e()}}catch(ge){if(ge&&a&&typeof ge.stack=="string"){for(var f=ge.stack.split(`
`),y=a.stack.split(`
`),A=f.length-1,H=y.length-1;1<=A&&0<=H&&f[A]!==y[H];)H--;for(;1<=A&&0<=H;A--,H--)if(f[A]!==y[H]){if(A!==1||H!==1)do if(A--,H--,0>H||f[A]!==y[H]){var X=`
`+f[A].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=A&&0<=H);break}}}finally{Fe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?le(e):""}function Oe(e){switch(e.tag){case 5:return le(e.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1),e;case 11:return e=F(e.type.render,!1),e;case 1:return e=F(e.type,!0),e;default:return""}}function $e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case ie:return"Portal";case $:return"Profiler";case M:return"StrictMode";case _:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case he:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:$e(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return $e(e(t))}catch{}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B(e){var t=we(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,y=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(A){a=""+A,y.call(this,A)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function O(e){e._valueTracker||(e._valueTracker=B(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=we(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function D(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K(e,t){var s=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Z(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=de(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x(e,t){t=t.checked,t!=null&&ae(e,"checked",t,!1)}function h(e,t){x(e,t);var s=de(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S(e,t.type,s):t.hasOwnProperty("defaultValue")&&S(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function S(e,t,s){(t!=="number"||D(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var I=Array.isArray;function q(e,t,s,a){if(e=e.options,t){t={};for(var f=0;f<s.length;f++)t["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=t.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&a&&(e[s].defaultSelected=!0)}else{for(s=""+de(s),t=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function oe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Se(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(i(92));if(I(s)){if(1<s.length)throw Error(i(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:de(s)}}function Ie(e,t){var s=de(t.value),a=de(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Me(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var m,g=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,f){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,f)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(m=m||document.createElement("div"),m.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=m.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function U(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(e){ye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ee[t]=ee[e]})});function pe(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ee.hasOwnProperty(e)&&ee[e]?(""+t).trim():t+"px"}function De(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,f=pe(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,f):e[s]=f}}var Be=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(e,t){if(t){if(Be[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function We(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function ot(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ai=null,zr=null,Vr=null;function $i(e){if(e=ro(e)){if(typeof ai!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ya(t),ai(e.stateNode,e.type,t))}}function zi(e){zr?Vr?Vr.push(e):Vr=[e]:zr=e}function Ar(){if(zr){var e=zr,t=Vr;if(Vr=zr=null,$i(e),t)for(e=0;e<t.length;e++)$i(t[e])}}function fu(e,t){return e(t)}function du(){}var Go=!1;function hu(e,t,s){if(Go)return e(t,s);Go=!0;try{return fu(e,t,s)}finally{Go=!1,(zr!==null||Vr!==null)&&(du(),Ar())}}function pt(e,t){var s=e.stateNode;if(s===null)return null;var a=ya(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var Wo=!1;if(u)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Wo=!1}function gd(e,t,s,a,f,y,A,H,X){var ge=Array.prototype.slice.call(arguments,3);try{t.apply(s,ge)}catch(Te){this.onError(Te)}}var li=!1,qi=null,Hi=!1,Ms=null,vt={onError:function(e){li=!0,qi=e}};function pu(e,t,s,a,f,y,A,H,X){li=!1,qi=null,gd.apply(vt,arguments)}function mu(e,t,s,a,f,y,A,H,X){if(pu.apply(this,arguments),li){if(li){var ge=qi;li=!1,qi=null}else throw Error(i(198));Hi||(Hi=!0,Ms=ge)}}function nn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Lo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ko(e){if(nn(e)!==e)throw Error(i(188))}function yu(e){var t=e.alternate;if(!t){if(t=nn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,a=t;;){var f=s.return;if(f===null)break;var y=f.alternate;if(y===null){if(a=f.return,a!==null){s=a;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===s)return Ko(f),e;if(y===a)return Ko(f),t;y=y.sibling}throw Error(i(188))}if(s.return!==a.return)s=f,a=y;else{for(var A=!1,H=f.child;H;){if(H===s){A=!0,s=f,a=y;break}if(H===a){A=!0,a=f,s=y;break}H=H.sibling}if(!A){for(H=y.child;H;){if(H===s){A=!0,s=y,a=f;break}if(H===a){A=!0,a=y,s=f;break}H=H.sibling}if(!A)throw Error(i(189))}}if(s.alternate!==a)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function Do(e){return e=yu(e),e!==null?Yo(e):null}function Yo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yo(e);if(t!==null)return t;e=e.sibling}return null}var at=n.unstable_scheduleCallback,Zo=n.unstable_cancelCallback,gu=n.unstable_shouldYield,Q=n.unstable_requestPaint,Le=n.unstable_now,rt=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,ui=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,wd=n.unstable_LowPriority,vd=n.unstable_IdlePriority,Qo=null,Hr=null;function ng(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Qo,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:og,ig=Math.log,sg=Math.LN2;function og(e){return e>>>=0,e===0?32:31-(ig(e)/sg|0)|0}var Xo=64,Jo=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ea(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,f=e.suspendedLanes,y=e.pingedLanes,A=s&268435455;if(A!==0){var H=A&~f;H!==0?a=js(H):(y&=A,y!==0&&(a=js(y)))}else A=s&~f,A!==0?a=js(A):y!==0&&(a=js(y));if(a===0)return 0;if(t!==0&&t!==a&&(t&f)===0&&(f=a&-a,y=t&-t,f>=y||f===16&&(y&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Br(t),f=1<<s,a|=e[s],t&=~f;return a}function ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lg(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,y=e.pendingLanes;0<y;){var A=31-Br(y),H=1<<A,X=f[A];X===-1?((H&s)===0||(H&a)!==0)&&(f[A]=ag(H,t)):X<=t&&(e.expiredLanes|=H),y&=~H}}function wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=Xo;return Xo<<=1,(Xo&4194240)===0&&(Xo=64),e}function vu(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function $s(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=s}function ug(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var f=31-Br(s),y=1<<f;t[f]=0,a[f]=-1,e[f]=-1,s&=~y}}function xu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Br(s),f=1<<a;f&t|e[a]&t&&(e[a]|=t),s&=~f}}var lt=0;function _d(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var bd,_u,Ed,Sd,Nd,bu=!1,ta=[],Tn=null,An=null,Bn=null,zs=new Map,Vs=new Map,kn=[],cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function qs(e,t,s,a,f,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:y,targetContainers:[f]},t!==null&&(t=ro(t),t!==null&&_u(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function fg(e,t,s,a,f){switch(t){case"focusin":return Tn=qs(Tn,e,t,s,a,f),!0;case"dragenter":return An=qs(An,e,t,s,a,f),!0;case"mouseover":return Bn=qs(Bn,e,t,s,a,f),!0;case"pointerover":var y=f.pointerId;return zs.set(y,qs(zs.get(y)||null,e,t,s,a,f)),!0;case"gotpointercapture":return y=f.pointerId,Vs.set(y,qs(Vs.get(y)||null,e,t,s,a,f)),!0}return!1}function Ad(e){var t=ci(e.target);if(t!==null){var s=nn(t);if(s!==null){if(t=s.tag,t===13){if(t=Lo(s),t!==null){e.blockedOn=t,Nd(e.priority,function(){Ed(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Xe=a,s.target.dispatchEvent(a),Xe=null}else return t=ro(s),t!==null&&_u(t),e.blockedOn=s,!1;t.shift()}return!0}function Bd(e,t,s){ra(e)&&s.delete(t)}function dg(){bu=!1,Tn!==null&&ra(Tn)&&(Tn=null),An!==null&&ra(An)&&(An=null),Bn!==null&&ra(Bn)&&(Bn=null),zs.forEach(Bd),Vs.forEach(Bd)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dg)))}function Gs(e){function t(f){return Hs(f,e)}if(0<ta.length){Hs(ta[0],e);for(var s=1;s<ta.length;s++){var a=ta[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Tn!==null&&Hs(Tn,e),An!==null&&Hs(An,e),Bn!==null&&Hs(Bn,e),zs.forEach(t),Vs.forEach(t),s=0;s<kn.length;s++)a=kn[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<kn.length&&(s=kn[0],s.blockedOn===null);)Ad(s),s.blockedOn===null&&kn.shift()}var Gi=be.ReactCurrentBatchConfig,na=!0;function hg(e,t,s,a){var f=lt,y=Gi.transition;Gi.transition=null;try{lt=1,Eu(e,t,s,a)}finally{lt=f,Gi.transition=y}}function pg(e,t,s,a){var f=lt,y=Gi.transition;Gi.transition=null;try{lt=4,Eu(e,t,s,a)}finally{lt=f,Gi.transition=y}}function Eu(e,t,s,a){if(na){var f=Su(e,t,s,a);if(f===null)Vu(e,t,a,ia,s),Td(e,a);else if(fg(f,e,t,s,a))a.stopPropagation();else if(Td(e,a),t&4&&-1<cg.indexOf(e)){for(;f!==null;){var y=ro(f);if(y!==null&&bd(y),y=Su(e,t,s,a),y===null&&Vu(e,t,a,ia,s),y===f)break;f=y}f!==null&&a.stopPropagation()}else Vu(e,t,a,null,s)}}var ia=null;function Su(e,t,s,a){if(ia=null,e=ot(a),e=ci(e),e!==null)if(t=nn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Lo(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ia=e,null}function kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rt()){case Je:return 1;case ui:return 4;case qr:case wd:return 16;case vd:return 536870912;default:return 16}default:return 16}}var Rn=null,Nu=null,sa=null;function Rd(){if(sa)return sa;var e,t=Nu,s=t.length,a,f="value"in Rn?Rn.value:Rn.textContent,y=f.length;for(e=0;e<s&&t[e]===f[e];e++);var A=s-e;for(a=1;a<=A&&t[s-a]===f[y-a];a++);return sa=f.slice(e,1<a?1-a:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aa(){return!0}function Id(){return!1}function dr(e){function t(s,a,f,y,A){this._reactName=s,this._targetInst=f,this.type=a,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(s=e[H],this[H]=s?s(y):y[H]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?aa:Id,this.isPropagationStopped=Id,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=dr(Wi),Ws=_e({},Wi,{view:0,detail:0}),mg=dr(Ws),Au,Bu,Ls,la=_e({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Au=e.screenX-Ls.screenX,Bu=e.screenY-Ls.screenY):Bu=Au=0,Ls=e),Au)},movementY:function(e){return"movementY"in e?e.movementY:Bu}}),Fd=dr(la),yg=_e({},la,{dataTransfer:0}),gg=dr(yg),wg=_e({},Ws,{relatedTarget:0}),ku=dr(wg),vg=_e({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=dr(vg),_g=_e({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bg=dr(_g),Eg=_e({},Wi,{data:0}),Od=dr(Eg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tg[e])?!!t[e]:!1}function Ru(){return Ag}var Bg=_e({},Ws,{key:function(e){if(e.key){var t=Sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ng[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kg=dr(Bg),Rg=_e({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=dr(Rg),Ig=_e({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),Fg=dr(Ig),Og=_e({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pg=dr(Og),Ug=_e({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=dr(Ug),Mg=[9,13,27,32],Iu=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var jg=u&&"TextEvent"in window&&!Ks,Ud=u&&(!Iu||Ks&&8<Ks&&11>=Ks),Cd=" ",Md=!1;function jd(e,t){switch(e){case"keyup":return Mg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function $g(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Md=!0,Cd);case"textInput":return e=t.data,e===Cd&&Md?null:e;default:return null}}function zg(e,t){if(Li)return e==="compositionend"||!Iu&&jd(e,t)?(e=Rd(),sa=Nu=Rn=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var Vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vg[e.type]:t==="textarea"}function Vd(e,t,s,a){zi(a),t=ha(t,"onChange"),0<t.length&&(s=new Tu("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ds=null,Ys=null;function qg(e){sh(e,0)}function ua(e){var t=Qi(e);if(V(t))return e}function Hg(e,t){if(e==="change")return t}var qd=!1;if(u){var Fu;if(u){var Ou="oninput"in document;if(!Ou){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Ou=typeof Hd.oninput=="function"}Fu=Ou}else Fu=!1;qd=Fu&&(!document.documentMode||9<document.documentMode)}function Gd(){Ds&&(Ds.detachEvent("onpropertychange",Wd),Ys=Ds=null)}function Wd(e){if(e.propertyName==="value"&&ua(Ys)){var t=[];Vd(t,Ys,e,ot(e)),hu(qg,t)}}function Gg(e,t,s){e==="focusin"?(Gd(),Ds=t,Ys=s,Ds.attachEvent("onpropertychange",Wd)):e==="focusout"&&Gd()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(Ys)}function Lg(e,t){if(e==="click")return ua(t)}function Kg(e,t){if(e==="input"||e==="change")return ua(t)}function Dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kr=typeof Object.is=="function"?Object.is:Dg;function Zs(e,t){if(kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var f=s[a];if(!w.call(t,f)||!kr(e[f],t[f]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var s=Ld(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ld(s)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yd(){for(var e=window,t=D();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=D(e.document)}return t}function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yg(e){var t=Yd(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Dd(s.ownerDocument.documentElement,s)){if(a!==null&&Pu(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=s.textContent.length,y=Math.min(a.start,f);a=a.end===void 0?y:Math.min(a.end,f),!e.extend&&y>a&&(f=a,a=y,y=f),f=Kd(s,y);var A=Kd(s,a);f&&A&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),y>a?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zg=u&&"documentMode"in document&&11>=document.documentMode,Ki=null,Uu=null,Qs=null,Cu=!1;function Zd(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cu||Ki==null||Ki!==D(a)||(a=Ki,"selectionStart"in a&&Pu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Qs&&Zs(Qs,a)||(Qs=a,a=ha(Uu,"onSelect"),0<a.length&&(t=new Tu("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Ki)))}function ca(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Di={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},Mu={},Qd={};u&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function fa(e){if(Mu[e])return Mu[e];if(!Di[e])return e;var t=Di[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Qd)return Mu[e]=t[s];return e}var Xd=fa("animationend"),Jd=fa("animationiteration"),eh=fa("animationstart"),th=fa("transitionend"),rh=new Map,nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){rh.set(e,t),d(t,[e])}for(var ju=0;ju<nh.length;ju++){var $u=nh[ju],Qg=$u.toLowerCase(),Xg=$u[0].toUpperCase()+$u.slice(1);In(Qg,"on"+Xg)}In(Xd,"onAnimationEnd"),In(Jd,"onAnimationIteration"),In(eh,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(th,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function ih(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,mu(a,t,void 0,e),e.currentTarget=null}function sh(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],f=a.event;a=a.listeners;e:{var y=void 0;if(t)for(var A=a.length-1;0<=A;A--){var H=a[A],X=H.instance,ge=H.currentTarget;if(H=H.listener,X!==y&&f.isPropagationStopped())break e;ih(f,H,ge),y=X}else for(A=0;A<a.length;A++){if(H=a[A],X=H.instance,ge=H.currentTarget,H=H.listener,X!==y&&f.isPropagationStopped())break e;ih(f,H,ge),y=X}}}if(Hi)throw e=Ms,Hi=!1,Ms=null,e}function dt(e,t){var s=t[Ku];s===void 0&&(s=t[Ku]=new Set);var a=e+"__bubble";s.has(a)||(oh(t,e,2,!1),s.add(a))}function zu(e,t,s){var a=0;t&&(a|=4),oh(s,e,a,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[da]){e[da]=!0,o.forEach(function(s){s!=="selectionchange"&&(Jg.has(s)||zu(s,!1,e),zu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,zu("selectionchange",!1,t))}}function oh(e,t,s,a){switch(kd(t)){case 1:var f=hg;break;case 4:f=pg;break;default:f=Eu}s=f.bind(null,t,s,e),f=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,s,{capture:!0,passive:f}):e.addEventListener(t,s,!0):f!==void 0?e.addEventListener(t,s,{passive:f}):e.addEventListener(t,s,!1)}function Vu(e,t,s,a,f){var y=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var A=a.tag;if(A===3||A===4){var H=a.stateNode.containerInfo;if(H===f||H.nodeType===8&&H.parentNode===f)break;if(A===4)for(A=a.return;A!==null;){var X=A.tag;if((X===3||X===4)&&(X=A.stateNode.containerInfo,X===f||X.nodeType===8&&X.parentNode===f))return;A=A.return}for(;H!==null;){if(A=ci(H),A===null)return;if(X=A.tag,X===5||X===6){a=y=A;continue e}H=H.parentNode}}a=a.return}hu(function(){var ge=y,Te=ot(s),Ae=[];e:{var Ne=rh.get(e);if(Ne!==void 0){var Ue=Tu,ze=e;switch(e){case"keypress":if(oa(s)===0)break e;case"keydown":case"keyup":Ue=kg;break;case"focusin":ze="focus",Ue=ku;break;case"focusout":ze="blur",Ue=ku;break;case"beforeblur":case"afterblur":Ue=ku;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Fg;break;case Xd:case Jd:case eh:Ue=xg;break;case th:Ue=Pg;break;case"scroll":Ue=mg;break;case"wheel":Ue=Cg;break;case"copy":case"cut":case"paste":Ue=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Pd}var qe=(t&4)!==0,Et=!qe&&e==="scroll",ue=qe?Ne!==null?Ne+"Capture":null:Ne;qe=[];for(var te=ge,me;te!==null;){me=te;var ke=me.stateNode;if(me.tag===5&&ke!==null&&(me=ke,ue!==null&&(ke=pt(te,ue),ke!=null&&qe.push(eo(te,ke,me)))),Et)break;te=te.return}0<qe.length&&(Ne=new Ue(Ne,ze,null,s,Te),Ae.push({event:Ne,listeners:qe}))}}if((t&7)===0){e:{if(Ne=e==="mouseover"||e==="pointerover",Ue=e==="mouseout"||e==="pointerout",Ne&&s!==Xe&&(ze=s.relatedTarget||s.fromElement)&&(ci(ze)||ze[sn]))break e;if((Ue||Ne)&&(Ne=Te.window===Te?Te:(Ne=Te.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ue?(ze=s.relatedTarget||s.toElement,Ue=ge,ze=ze?ci(ze):null,ze!==null&&(Et=nn(ze),ze!==Et||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Ue=null,ze=ge),Ue!==ze)){if(qe=Fd,ke="onMouseLeave",ue="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Pd,ke="onPointerLeave",ue="onPointerEnter",te="pointer"),Et=Ue==null?Ne:Qi(Ue),me=ze==null?Ne:Qi(ze),Ne=new qe(ke,te+"leave",Ue,s,Te),Ne.target=Et,Ne.relatedTarget=me,ke=null,ci(Te)===ge&&(qe=new qe(ue,te+"enter",ze,s,Te),qe.target=me,qe.relatedTarget=Et,ke=qe),Et=ke,Ue&&ze)t:{for(qe=Ue,ue=ze,te=0,me=qe;me;me=Yi(me))te++;for(me=0,ke=ue;ke;ke=Yi(ke))me++;for(;0<te-me;)qe=Yi(qe),te--;for(;0<me-te;)ue=Yi(ue),me--;for(;te--;){if(qe===ue||ue!==null&&qe===ue.alternate)break t;qe=Yi(qe),ue=Yi(ue)}qe=null}else qe=null;Ue!==null&&ah(Ae,Ne,Ue,qe,!1),ze!==null&&Et!==null&&ah(Ae,Et,ze,qe,!0)}}e:{if(Ne=ge?Qi(ge):window,Ue=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Ne.type==="file")var He=Hg;else if(zd(Ne))if(qd)He=Kg;else{He=Wg;var Ye=Gg}else(Ue=Ne.nodeName)&&Ue.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(He=Lg);if(He&&(He=He(e,ge))){Vd(Ae,He,s,Te);break e}Ye&&Ye(e,Ne,ge),e==="focusout"&&(Ye=Ne._wrapperState)&&Ye.controlled&&Ne.type==="number"&&S(Ne,"number",Ne.value)}switch(Ye=ge?Qi(ge):window,e){case"focusin":(zd(Ye)||Ye.contentEditable==="true")&&(Ki=Ye,Uu=ge,Qs=null);break;case"focusout":Qs=Uu=Ki=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Zd(Ae,s,Te);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":Zd(Ae,s,Te)}var Ze;if(Iu)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Li?jd(e,s)&&(Qe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Qe="onCompositionStart");Qe&&(Ud&&s.locale!=="ko"&&(Li||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Li&&(Ze=Rd()):(Rn=Te,Nu="value"in Rn?Rn.value:Rn.textContent,Li=!0)),Ye=ha(ge,Qe),0<Ye.length&&(Qe=new Od(Qe,e,null,s,Te),Ae.push({event:Qe,listeners:Ye}),Ze?Qe.data=Ze:(Ze=$d(s),Ze!==null&&(Qe.data=Ze)))),(Ze=jg?$g(e,s):zg(e,s))&&(ge=ha(ge,"onBeforeInput"),0<ge.length&&(Te=new Od("onBeforeInput","beforeinput",null,s,Te),Ae.push({event:Te,listeners:ge}),Te.data=Ze))}sh(Ae,t)})}function eo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ha(e,t){for(var s=t+"Capture",a=[];e!==null;){var f=e,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=pt(e,s),y!=null&&a.unshift(eo(e,y,f)),y=pt(e,t),y!=null&&a.push(eo(e,y,f))),e=e.return}return a}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ah(e,t,s,a,f){for(var y=t._reactName,A=[];s!==null&&s!==a;){var H=s,X=H.alternate,ge=H.stateNode;if(X!==null&&X===a)break;H.tag===5&&ge!==null&&(H=ge,f?(X=pt(s,y),X!=null&&A.unshift(eo(s,X,H))):f||(X=pt(s,y),X!=null&&A.push(eo(s,X,H)))),s=s.return}A.length!==0&&e.push({event:t,listeners:A})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace(e1,`
`).replace(t1,"")}function pa(e,t,s){if(t=lh(t),lh(e)!==t&&s)throw Error(i(425))}function ma(){}var qu=null,Hu=null;function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(i1)}:Wu;function i1(e){setTimeout(function(){throw e})}function Lu(e,t){var s=t,a=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(a===0){e.removeChild(f),Gs(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=f}while(s);Gs(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Zi,to="__reactProps$"+Zi,sn="__reactContainer$"+Zi,Ku="__reactEvents$"+Zi,s1="__reactListeners$"+Zi,o1="__reactHandles$"+Zi;function ci(e){var t=e[Gr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[sn]||s[Gr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ch(e);e!==null;){if(s=e[Gr])return s;e=ch(e)}return t}e=s,s=e.parentNode}return null}function ro(e){return e=e[Gr]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ya(e){return e[to]||null}var Du=[],Xi=-1;function On(e){return{current:e}}function ht(e){0>Xi||(e.current=Du[Xi],Du[Xi]=null,Xi--)}function ft(e,t){Xi++,Du[Xi]=e.current,e.current=t}var Pn={},Ht=On(Pn),nr=On(!1),fi=Pn;function Ji(e,t){var s=e.type.contextTypes;if(!s)return Pn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in s)f[y]=t[y];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function ir(e){return e=e.childContextTypes,e!=null}function ga(){ht(nr),ht(Ht)}function fh(e,t,s){if(Ht.current!==Pn)throw Error(i(168));ft(Ht,t),ft(nr,s)}function dh(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var f in a)if(!(f in t))throw Error(i(108,Ee(e)||"Unknown",f));return _e({},s,a)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,fi=Ht.current,ft(Ht,e),ft(nr,nr.current),!0}function hh(e,t,s){var a=e.stateNode;if(!a)throw Error(i(169));s?(e=dh(e,t,fi),a.__reactInternalMemoizedMergedChildContext=e,ht(nr),ht(Ht),ft(Ht,e)):ht(nr),ft(nr,s)}var on=null,va=!1,Yu=!1;function ph(e){on===null?on=[e]:on.push(e)}function a1(e){va=!0,ph(e)}function Un(){if(!Yu&&on!==null){Yu=!0;var e=0,t=lt;try{var s=on;for(lt=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}on=null,va=!1}catch(f){throw on!==null&&(on=on.slice(e+1)),at(Je,Un),f}finally{lt=t,Yu=!1}}return null}var es=[],ts=0,xa=null,_a=0,wr=[],vr=0,di=null,an=1,ln="";function hi(e,t){es[ts++]=_a,es[ts++]=xa,xa=e,_a=t}function mh(e,t,s){wr[vr++]=an,wr[vr++]=ln,wr[vr++]=di,di=e;var a=an;e=ln;var f=32-Br(a)-1;a&=~(1<<f),s+=1;var y=32-Br(t)+f;if(30<y){var A=f-f%5;y=(a&(1<<A)-1).toString(32),a>>=A,f-=A,an=1<<32-Br(t)+f|s<<f|a,ln=y+e}else an=1<<y|s<<f|a,ln=e}function Zu(e){e.return!==null&&(hi(e,1),mh(e,1,0))}function Qu(e){for(;e===xa;)xa=es[--ts],es[ts]=null,_a=es[--ts],es[ts]=null;for(;e===di;)di=wr[--vr],wr[vr]=null,ln=wr[--vr],wr[vr]=null,an=wr[--vr],wr[vr]=null}var hr=null,pr=null,mt=!1,Rr=null;function yh(e,t){var s=Er(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function gh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,pr=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=di!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Er(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,hr=e,pr=null,!0):!1;default:return!1}}function Xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ju(e){if(mt){var t=pr;if(t){var s=t;if(!gh(e,t)){if(Xu(e))throw Error(i(418));t=Fn(s.nextSibling);var a=hr;t&&gh(e,t)?yh(a,s):(e.flags=e.flags&-4097|2,mt=!1,hr=e)}}else{if(Xu(e))throw Error(i(418));e.flags=e.flags&-4097|2,mt=!1,hr=e}}}function wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function ba(e){if(e!==hr)return!1;if(!mt)return wh(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gu(e.type,e.memoizedProps)),t&&(t=pr)){if(Xu(e))throw vh(),Error(i(418));for(;t;)yh(e,t),t=Fn(t.nextSibling)}if(wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){pr=Fn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=hr?Fn(e.stateNode.nextSibling):null;return!0}function vh(){for(var e=pr;e;)e=Fn(e.nextSibling)}function rs(){pr=hr=null,mt=!1}function ec(e){Rr===null?Rr=[e]:Rr.push(e)}var l1=be.ReactCurrentBatchConfig;function no(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var a=s.stateNode}if(!a)throw Error(i(147,e));var f=a,y=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===y?t.ref:(t=function(A){var H=f.refs;A===null?delete H[y]:H[y]=A},t._stringRef=y,t)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xh(e){var t=e._init;return t(e._payload)}function _h(e){function t(ue,te){if(e){var me=ue.deletions;me===null?(ue.deletions=[te],ue.flags|=16):me.push(te)}}function s(ue,te){if(!e)return null;for(;te!==null;)t(ue,te),te=te.sibling;return null}function a(ue,te){for(ue=new Map;te!==null;)te.key!==null?ue.set(te.key,te):ue.set(te.index,te),te=te.sibling;return ue}function f(ue,te){return ue=Hn(ue,te),ue.index=0,ue.sibling=null,ue}function y(ue,te,me){return ue.index=me,e?(me=ue.alternate,me!==null?(me=me.index,me<te?(ue.flags|=2,te):me):(ue.flags|=2,te)):(ue.flags|=1048576,te)}function A(ue){return e&&ue.alternate===null&&(ue.flags|=2),ue}function H(ue,te,me,ke){return te===null||te.tag!==6?(te=Wc(me,ue.mode,ke),te.return=ue,te):(te=f(te,me),te.return=ue,te)}function X(ue,te,me,ke){var He=me.type;return He===ce?Te(ue,te,me.props.children,ke,me.key):te!==null&&(te.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===J&&xh(He)===te.type)?(ke=f(te,me.props),ke.ref=no(ue,te,me),ke.return=ue,ke):(ke=Ka(me.type,me.key,me.props,null,ue.mode,ke),ke.ref=no(ue,te,me),ke.return=ue,ke)}function ge(ue,te,me,ke){return te===null||te.tag!==4||te.stateNode.containerInfo!==me.containerInfo||te.stateNode.implementation!==me.implementation?(te=Lc(me,ue.mode,ke),te.return=ue,te):(te=f(te,me.children||[]),te.return=ue,te)}function Te(ue,te,me,ke,He){return te===null||te.tag!==7?(te=_i(me,ue.mode,ke,He),te.return=ue,te):(te=f(te,me),te.return=ue,te)}function Ae(ue,te,me){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Wc(""+te,ue.mode,me),te.return=ue,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return me=Ka(te.type,te.key,te.props,null,ue.mode,me),me.ref=no(ue,null,te),me.return=ue,me;case ie:return te=Lc(te,ue.mode,me),te.return=ue,te;case J:var ke=te._init;return Ae(ue,ke(te._payload),me)}if(I(te)||xe(te))return te=_i(te,ue.mode,me,null),te.return=ue,te;Ea(ue,te)}return null}function Ne(ue,te,me,ke){var He=te!==null?te.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return He!==null?null:H(ue,te,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case j:return me.key===He?X(ue,te,me,ke):null;case ie:return me.key===He?ge(ue,te,me,ke):null;case J:return He=me._init,Ne(ue,te,He(me._payload),ke)}if(I(me)||xe(me))return He!==null?null:Te(ue,te,me,ke,null);Ea(ue,me)}return null}function Ue(ue,te,me,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ue=ue.get(me)||null,H(te,ue,""+ke,He);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:return ue=ue.get(ke.key===null?me:ke.key)||null,X(te,ue,ke,He);case ie:return ue=ue.get(ke.key===null?me:ke.key)||null,ge(te,ue,ke,He);case J:var Ye=ke._init;return Ue(ue,te,me,Ye(ke._payload),He)}if(I(ke)||xe(ke))return ue=ue.get(me)||null,Te(te,ue,ke,He,null);Ea(te,ke)}return null}function ze(ue,te,me,ke){for(var He=null,Ye=null,Ze=te,Qe=te=0,Pt=null;Ze!==null&&Qe<me.length;Qe++){Ze.index>Qe?(Pt=Ze,Ze=null):Pt=Ze.sibling;var st=Ne(ue,Ze,me[Qe],ke);if(st===null){Ze===null&&(Ze=Pt);break}e&&Ze&&st.alternate===null&&t(ue,Ze),te=y(st,te,Qe),Ye===null?He=st:Ye.sibling=st,Ye=st,Ze=Pt}if(Qe===me.length)return s(ue,Ze),mt&&hi(ue,Qe),He;if(Ze===null){for(;Qe<me.length;Qe++)Ze=Ae(ue,me[Qe],ke),Ze!==null&&(te=y(Ze,te,Qe),Ye===null?He=Ze:Ye.sibling=Ze,Ye=Ze);return mt&&hi(ue,Qe),He}for(Ze=a(ue,Ze);Qe<me.length;Qe++)Pt=Ue(Ze,ue,Qe,me[Qe],ke),Pt!==null&&(e&&Pt.alternate!==null&&Ze.delete(Pt.key===null?Qe:Pt.key),te=y(Pt,te,Qe),Ye===null?He=Pt:Ye.sibling=Pt,Ye=Pt);return e&&Ze.forEach(function(Gn){return t(ue,Gn)}),mt&&hi(ue,Qe),He}function qe(ue,te,me,ke){var He=xe(me);if(typeof He!="function")throw Error(i(150));if(me=He.call(me),me==null)throw Error(i(151));for(var Ye=He=null,Ze=te,Qe=te=0,Pt=null,st=me.next();Ze!==null&&!st.done;Qe++,st=me.next()){Ze.index>Qe?(Pt=Ze,Ze=null):Pt=Ze.sibling;var Gn=Ne(ue,Ze,st.value,ke);if(Gn===null){Ze===null&&(Ze=Pt);break}e&&Ze&&Gn.alternate===null&&t(ue,Ze),te=y(Gn,te,Qe),Ye===null?He=Gn:Ye.sibling=Gn,Ye=Gn,Ze=Pt}if(st.done)return s(ue,Ze),mt&&hi(ue,Qe),He;if(Ze===null){for(;!st.done;Qe++,st=me.next())st=Ae(ue,st.value,ke),st!==null&&(te=y(st,te,Qe),Ye===null?He=st:Ye.sibling=st,Ye=st);return mt&&hi(ue,Qe),He}for(Ze=a(ue,Ze);!st.done;Qe++,st=me.next())st=Ue(Ze,ue,Qe,st.value,ke),st!==null&&(e&&st.alternate!==null&&Ze.delete(st.key===null?Qe:st.key),te=y(st,te,Qe),Ye===null?He=st:Ye.sibling=st,Ye=st);return e&&Ze.forEach(function(V1){return t(ue,V1)}),mt&&hi(ue,Qe),He}function Et(ue,te,me,ke){if(typeof me=="object"&&me!==null&&me.type===ce&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case j:e:{for(var He=me.key,Ye=te;Ye!==null;){if(Ye.key===He){if(He=me.type,He===ce){if(Ye.tag===7){s(ue,Ye.sibling),te=f(Ye,me.props.children),te.return=ue,ue=te;break e}}else if(Ye.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===J&&xh(He)===Ye.type){s(ue,Ye.sibling),te=f(Ye,me.props),te.ref=no(ue,Ye,me),te.return=ue,ue=te;break e}s(ue,Ye);break}else t(ue,Ye);Ye=Ye.sibling}me.type===ce?(te=_i(me.props.children,ue.mode,ke,me.key),te.return=ue,ue=te):(ke=Ka(me.type,me.key,me.props,null,ue.mode,ke),ke.ref=no(ue,te,me),ke.return=ue,ue=ke)}return A(ue);case ie:e:{for(Ye=me.key;te!==null;){if(te.key===Ye)if(te.tag===4&&te.stateNode.containerInfo===me.containerInfo&&te.stateNode.implementation===me.implementation){s(ue,te.sibling),te=f(te,me.children||[]),te.return=ue,ue=te;break e}else{s(ue,te);break}else t(ue,te);te=te.sibling}te=Lc(me,ue.mode,ke),te.return=ue,ue=te}return A(ue);case J:return Ye=me._init,Et(ue,te,Ye(me._payload),ke)}if(I(me))return ze(ue,te,me,ke);if(xe(me))return qe(ue,te,me,ke);Ea(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,te!==null&&te.tag===6?(s(ue,te.sibling),te=f(te,me),te.return=ue,ue=te):(s(ue,te),te=Wc(me,ue.mode,ke),te.return=ue,ue=te),A(ue)):s(ue,te)}return Et}var ns=_h(!0),bh=_h(!1),Sa=On(null),Na=null,is=null,tc=null;function rc(){tc=is=Na=null}function nc(e){var t=Sa.current;ht(Sa),e._currentValue=t}function ic(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ss(e,t){Na=e,tc=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(sr=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(tc!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Na===null)throw Error(i(308));is=e,Na.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var pi=null;function sc(e){pi===null?pi=[e]:pi.push(e)}function Eh(e,t,s,a){var f=t.interleaved;return f===null?(s.next=s,sc(t)):(s.next=f.next,f.next=s),t.interleaved=s,un(e,a)}function un(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(it&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,un(e,s)}return f=a.interleaved,f===null?(t.next=t,sc(a)):(t.next=f.next,f.next=t),a.interleaved=t,un(e,s)}function Ta(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,xu(e,s)}}function Nh(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var f=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var A={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};y===null?f=y=A:y=y.next=A,s=s.next}while(s!==null);y===null?f=y=t:y=y.next=t}else f=y=t;s={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Aa(e,t,s,a){var f=e.updateQueue;Cn=!1;var y=f.firstBaseUpdate,A=f.lastBaseUpdate,H=f.shared.pending;if(H!==null){f.shared.pending=null;var X=H,ge=X.next;X.next=null,A===null?y=ge:A.next=ge,A=X;var Te=e.alternate;Te!==null&&(Te=Te.updateQueue,H=Te.lastBaseUpdate,H!==A&&(H===null?Te.firstBaseUpdate=ge:H.next=ge,Te.lastBaseUpdate=X))}if(y!==null){var Ae=f.baseState;A=0,Te=ge=X=null,H=y;do{var Ne=H.lane,Ue=H.eventTime;if((a&Ne)===Ne){Te!==null&&(Te=Te.next={eventTime:Ue,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ze=e,qe=H;switch(Ne=t,Ue=s,qe.tag){case 1:if(ze=qe.payload,typeof ze=="function"){Ae=ze.call(Ue,Ae,Ne);break e}Ae=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=qe.payload,Ne=typeof ze=="function"?ze.call(Ue,Ae,Ne):ze,Ne==null)break e;Ae=_e({},Ae,Ne);break e;case 2:Cn=!0}}H.callback!==null&&H.lane!==0&&(e.flags|=64,Ne=f.effects,Ne===null?f.effects=[H]:Ne.push(H))}else Ue={eventTime:Ue,lane:Ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Te===null?(ge=Te=Ue,X=Ae):Te=Te.next=Ue,A|=Ne;if(H=H.next,H===null){if(H=f.shared.pending,H===null)break;Ne=H,H=Ne.next,Ne.next=null,f.lastBaseUpdate=Ne,f.shared.pending=null}}while(!0);if(Te===null&&(X=Ae),f.baseState=X,f.firstBaseUpdate=ge,f.lastBaseUpdate=Te,t=f.shared.interleaved,t!==null){f=t;do A|=f.lane,f=f.next;while(f!==t)}else y===null&&(f.shared.lanes=0);gi|=A,e.lanes=A,e.memoizedState=Ae}}function Th(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],f=a.callback;if(f!==null){if(a.callback=null,a=s,typeof f!="function")throw Error(i(191,f));f.call(a)}}}var io={},Wr=On(io),so=On(io),oo=On(io);function mi(e){if(e===io)throw Error(i(174));return e}function ac(e,t){switch(ft(oo,t),ft(so,e),ft(Wr,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:E(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=E(t,e)}ht(Wr),ft(Wr,t)}function os(){ht(Wr),ht(so),ht(oo)}function Ah(e){mi(oo.current);var t=mi(Wr.current),s=E(t,e.type);t!==s&&(ft(so,e),ft(Wr,s))}function lc(e){so.current===e&&(ht(Wr),ht(so))}var gt=On(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uc=[];function cc(){for(var e=0;e<uc.length;e++)uc[e]._workInProgressVersionPrimary=null;uc.length=0}var ka=be.ReactCurrentDispatcher,fc=be.ReactCurrentBatchConfig,yi=0,wt=null,Bt=null,Ft=null,Ra=!1,ao=!1,lo=0,u1=0;function Gt(){throw Error(i(321))}function dc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!kr(e[s],t[s]))return!1;return!0}function hc(e,t,s,a,f,y){if(yi=y,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?h1:p1,e=s(a,f),ao){y=0;do{if(ao=!1,lo=0,25<=y)throw Error(i(301));y+=1,Ft=Bt=null,t.updateQueue=null,ka.current=m1,e=s(a,f)}while(ao)}if(ka.current=Oa,t=Bt!==null&&Bt.next!==null,yi=0,Ft=Bt=wt=null,Ra=!1,t)throw Error(i(300));return e}function pc(){var e=lo!==0;return lo=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?wt.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function _r(){if(Bt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Ft===null?wt.memoizedState:Ft.next;if(t!==null)Ft=t,Bt=e;else{if(e===null)throw Error(i(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Ft===null?wt.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function uo(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=_r(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var a=Bt,f=a.baseQueue,y=s.pending;if(y!==null){if(f!==null){var A=f.next;f.next=y.next,y.next=A}a.baseQueue=f=y,s.pending=null}if(f!==null){y=f.next,a=a.baseState;var H=A=null,X=null,ge=y;do{var Te=ge.lane;if((yi&Te)===Te)X!==null&&(X=X.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),a=ge.hasEagerState?ge.eagerState:e(a,ge.action);else{var Ae={lane:Te,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};X===null?(H=X=Ae,A=a):X=X.next=Ae,wt.lanes|=Te,gi|=Te}ge=ge.next}while(ge!==null&&ge!==y);X===null?A=a:X.next=H,kr(a,t.memoizedState)||(sr=!0),t.memoizedState=a,t.baseState=A,t.baseQueue=X,s.lastRenderedState=a}if(e=s.interleaved,e!==null){f=e;do y=f.lane,wt.lanes|=y,gi|=y,f=f.next;while(f!==e)}else f===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function yc(e){var t=_r(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var a=s.dispatch,f=s.pending,y=t.memoizedState;if(f!==null){s.pending=null;var A=f=f.next;do y=e(y,A.action),A=A.next;while(A!==f);kr(y,t.memoizedState)||(sr=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),s.lastRenderedState=y}return[y,a]}function Bh(){}function kh(e,t){var s=wt,a=_r(),f=t(),y=!kr(a.memoizedState,f);if(y&&(a.memoizedState=f,sr=!0),a=a.queue,gc(Fh.bind(null,s,a,e),[e]),a.getSnapshot!==t||y||Ft!==null&&Ft.memoizedState.tag&1){if(s.flags|=2048,co(9,Ih.bind(null,s,a,f,t),void 0,null),Ot===null)throw Error(i(349));(yi&30)!==0||Rh(s,t,f)}return f}function Rh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ih(e,t,s,a){t.value=s,t.getSnapshot=a,Oh(t)&&Ph(e)}function Fh(e,t,s){return s(function(){Oh(t)&&Ph(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!kr(e,s)}catch{return!0}}function Ph(e){var t=un(e,1);t!==null&&Pr(t,e,1,-1)}function Uh(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},t.queue=e,e=e.dispatch=d1.bind(null,wt,e),[t.memoizedState,e]}function co(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Ch(){return _r().memoizedState}function Ia(e,t,s,a){var f=Lr();wt.flags|=e,f.memoizedState=co(1|t,s,void 0,a===void 0?null:a)}function Fa(e,t,s,a){var f=_r();a=a===void 0?null:a;var y=void 0;if(Bt!==null){var A=Bt.memoizedState;if(y=A.destroy,a!==null&&dc(a,A.deps)){f.memoizedState=co(t,s,y,a);return}}wt.flags|=e,f.memoizedState=co(1|t,s,y,a)}function Mh(e,t){return Ia(8390656,8,e,t)}function gc(e,t){return Fa(2048,8,e,t)}function jh(e,t){return Fa(4,2,e,t)}function $h(e,t){return Fa(4,4,e,t)}function zh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vh(e,t,s){return s=s!=null?s.concat([e]):null,Fa(4,4,zh.bind(null,t,e),s)}function wc(){}function qh(e,t){var s=_r();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&dc(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Hh(e,t){var s=_r();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&dc(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Gh(e,t,s){return(yi&21)===0?(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=s):(kr(s,t)||(s=xd(),wt.lanes|=s,gi|=s,e.baseState=!0),t)}function c1(e,t){var s=lt;lt=s!==0&&4>s?s:4,e(!0);var a=fc.transition;fc.transition={};try{e(!1),t()}finally{lt=s,fc.transition=a}}function Wh(){return _r().memoizedState}function f1(e,t,s){var a=Vn(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Lh(e))Kh(t,s);else if(s=Eh(e,t,s,a),s!==null){var f=Jt();Pr(s,e,a,f),Dh(s,t,a)}}function d1(e,t,s){var a=Vn(e),f={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lh(e))Kh(t,f);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var A=t.lastRenderedState,H=y(A,s);if(f.hasEagerState=!0,f.eagerState=H,kr(H,A)){var X=t.interleaved;X===null?(f.next=f,sc(t)):(f.next=X.next,X.next=f),t.interleaved=f;return}}catch{}finally{}s=Eh(e,t,f,a),s!==null&&(f=Jt(),Pr(s,e,a,f),Dh(s,t,a))}}function Lh(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function Kh(e,t){ao=Ra=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Dh(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,xu(e,s)}}var Oa={readContext:xr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},h1={readContext:xr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:Mh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ia(4194308,4,zh.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ia(4,2,e,t)},useMemo:function(e,t){var s=Lr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Lr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=f1.bind(null,wt,e),[a.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:Uh,useDebugValue:wc,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=Uh(!1),t=e[0];return e=c1.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=wt,f=Lr();if(mt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),Ot===null)throw Error(i(349));(yi&30)!==0||Rh(a,t,s)}f.memoizedState=s;var y={value:s,getSnapshot:t};return f.queue=y,Mh(Fh.bind(null,a,y,e),[e]),a.flags|=2048,co(9,Ih.bind(null,a,y,s,t),void 0,null),s},useId:function(){var e=Lr(),t=Ot.identifierPrefix;if(mt){var s=ln,a=an;s=(a&~(1<<32-Br(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=lo++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=u1++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p1={readContext:xr,useCallback:qh,useContext:xr,useEffect:gc,useImperativeHandle:Vh,useInsertionEffect:jh,useLayoutEffect:$h,useMemo:Hh,useReducer:mc,useRef:Ch,useState:function(){return mc(uo)},useDebugValue:wc,useDeferredValue:function(e){var t=_r();return Gh(t,Bt.memoizedState,e)},useTransition:function(){var e=mc(uo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:kh,useId:Wh,unstable_isNewReconciler:!1},m1={readContext:xr,useCallback:qh,useContext:xr,useEffect:gc,useImperativeHandle:Vh,useInsertionEffect:jh,useLayoutEffect:$h,useMemo:Hh,useReducer:yc,useRef:Ch,useState:function(){return yc(uo)},useDebugValue:wc,useDeferredValue:function(e){var t=_r();return Bt===null?t.memoizedState=e:Gh(t,Bt.memoizedState,e)},useTransition:function(){var e=yc(uo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:kh,useId:Wh,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function vc(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:_e({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pa={isMounted:function(e){return(e=e._reactInternals)?nn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Jt(),f=Vn(e),y=cn(a,f);y.payload=t,s!=null&&(y.callback=s),t=Mn(e,y,f),t!==null&&(Pr(t,e,f,a),Ta(t,e,f))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Jt(),f=Vn(e),y=cn(a,f);y.tag=1,y.payload=t,s!=null&&(y.callback=s),t=Mn(e,y,f),t!==null&&(Pr(t,e,f,a),Ta(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Jt(),a=Vn(e),f=cn(s,a);f.tag=2,t!=null&&(f.callback=t),t=Mn(e,f,a),t!==null&&(Pr(t,e,a,s),Ta(t,e,a))}};function Yh(e,t,s,a,f,y,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,y,A):t.prototype&&t.prototype.isPureReactComponent?!Zs(s,a)||!Zs(f,y):!0}function Zh(e,t,s){var a=!1,f=Pn,y=t.contextType;return typeof y=="object"&&y!==null?y=xr(y):(f=ir(t)?fi:Ht.current,a=t.contextTypes,y=(a=a!=null)?Ji(e,f):Pn),t=new t(s,y),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pa,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=y),t}function Qh(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function xc(e,t,s,a){var f=e.stateNode;f.props=s,f.state=e.memoizedState,f.refs={},oc(e);var y=t.contextType;typeof y=="object"&&y!==null?f.context=xr(y):(y=ir(t)?fi:Ht.current,f.context=Ji(e,y)),f.state=e.memoizedState,y=t.getDerivedStateFromProps,typeof y=="function"&&(vc(e,t,y,s),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&Pa.enqueueReplaceState(f,f.state,null),Aa(e,s,f,a),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var s="",a=t;do s+=Oe(a),a=a.return;while(a);var f=s}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:t,stack:f,digest:null}}function _c(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function bc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function Xh(e,t,s){s=cn(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Va||(Va=!0,Mc=a),bc(e,t)},s}function Jh(e,t,s){s=cn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var f=t.value;s.payload=function(){return a(f)},s.callback=function(){bc(e,t)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(s.callback=function(){bc(e,t),typeof a!="function"&&($n===null?$n=new Set([this]):$n.add(this));var A=t.stack;this.componentDidCatch(t.value,{componentStack:A!==null?A:""})}),s}function e0(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new y1;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(s)||(f.add(s),e=R1.bind(null,e,t,s),t.then(e,e))}function t0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r0(e,t,s,a,f){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=cn(-1,1),t.tag=2,Mn(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var g1=be.ReactCurrentOwner,sr=!1;function Xt(e,t,s,a){t.child=e===null?bh(t,null,s,a):ns(t,e.child,s,a)}function n0(e,t,s,a,f){s=s.render;var y=t.ref;return ss(t,f),a=hc(e,t,s,a,y,f),s=pc(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,fn(e,t,f)):(mt&&s&&Zu(t),t.flags|=1,Xt(e,t,a,f),t.child)}function i0(e,t,s,a,f){if(e===null){var y=s.type;return typeof y=="function"&&!Gc(y)&&y.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=y,s0(e,t,y,a,f)):(e=Ka(s.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,(e.lanes&f)===0){var A=y.memoizedProps;if(s=s.compare,s=s!==null?s:Zs,s(A,a)&&e.ref===t.ref)return fn(e,t,f)}return t.flags|=1,e=Hn(y,a),e.ref=t.ref,e.return=t,t.child=e}function s0(e,t,s,a,f){if(e!==null){var y=e.memoizedProps;if(Zs(y,a)&&e.ref===t.ref)if(sr=!1,t.pendingProps=a=y,(e.lanes&f)!==0)(e.flags&131072)!==0&&(sr=!0);else return t.lanes=e.lanes,fn(e,t,f)}return Ec(e,t,s,a,f)}function o0(e,t,s){var a=t.pendingProps,f=a.children,y=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(us,mr),mr|=s;else{if((s&1073741824)===0)return e=y!==null?y.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(us,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=y!==null?y.baseLanes:s,ft(us,mr),mr|=a}else y!==null?(a=y.baseLanes|s,t.memoizedState=null):a=s,ft(us,mr),mr|=a;return Xt(e,t,f,s),t.child}function a0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ec(e,t,s,a,f){var y=ir(s)?fi:Ht.current;return y=Ji(t,y),ss(t,f),s=hc(e,t,s,a,y,f),a=pc(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,fn(e,t,f)):(mt&&a&&Zu(t),t.flags|=1,Xt(e,t,s,f),t.child)}function l0(e,t,s,a,f){if(ir(s)){var y=!0;wa(t)}else y=!1;if(ss(t,f),t.stateNode===null)Ca(e,t),Zh(t,s,a),xc(t,s,a,f),a=!0;else if(e===null){var A=t.stateNode,H=t.memoizedProps;A.props=H;var X=A.context,ge=s.contextType;typeof ge=="object"&&ge!==null?ge=xr(ge):(ge=ir(s)?fi:Ht.current,ge=Ji(t,ge));var Te=s.getDerivedStateFromProps,Ae=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function";Ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(H!==a||X!==ge)&&Qh(t,A,a,ge),Cn=!1;var Ne=t.memoizedState;A.state=Ne,Aa(t,a,A,f),X=t.memoizedState,H!==a||Ne!==X||nr.current||Cn?(typeof Te=="function"&&(vc(t,s,Te,a),X=t.memoizedState),(H=Cn||Yh(t,s,H,a,Ne,X,ge))?(Ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=X),A.props=a,A.state=X,A.context=ge,a=H):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{A=t.stateNode,Sh(e,t),H=t.memoizedProps,ge=t.type===t.elementType?H:Ir(t.type,H),A.props=ge,Ae=t.pendingProps,Ne=A.context,X=s.contextType,typeof X=="object"&&X!==null?X=xr(X):(X=ir(s)?fi:Ht.current,X=Ji(t,X));var Ue=s.getDerivedStateFromProps;(Te=typeof Ue=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(H!==Ae||Ne!==X)&&Qh(t,A,a,X),Cn=!1,Ne=t.memoizedState,A.state=Ne,Aa(t,a,A,f);var ze=t.memoizedState;H!==Ae||Ne!==ze||nr.current||Cn?(typeof Ue=="function"&&(vc(t,s,Ue,a),ze=t.memoizedState),(ge=Cn||Yh(t,s,ge,a,Ne,ze,X)||!1)?(Te||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(a,ze,X),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(a,ze,X)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||H===e.memoizedProps&&Ne===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&Ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ze),A.props=a,A.state=ze,A.context=X,a=ge):(typeof A.componentDidUpdate!="function"||H===e.memoizedProps&&Ne===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&Ne===e.memoizedState||(t.flags|=1024),a=!1)}return Sc(e,t,s,a,y,f)}function Sc(e,t,s,a,f,y){a0(e,t);var A=(t.flags&128)!==0;if(!a&&!A)return f&&hh(t,s,!1),fn(e,t,y);a=t.stateNode,g1.current=t;var H=A&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&A?(t.child=ns(t,e.child,null,y),t.child=ns(t,null,H,y)):Xt(e,t,H,y),t.memoizedState=a.state,f&&hh(t,s,!0),t.child}function u0(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),ac(e,t.containerInfo)}function c0(e,t,s,a,f){return rs(),ec(f),t.flags|=256,Xt(e,t,s,a),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Tc(e){return{baseLanes:e,cachePool:null,transitions:null}}function f0(e,t,s){var a=t.pendingProps,f=gt.current,y=!1,A=(t.flags&128)!==0,H;if((H=A)||(H=e!==null&&e.memoizedState===null?!1:(f&2)!==0),H?(y=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),ft(gt,f&1),e===null)return Ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(A=a.children,e=a.fallback,y?(a=t.mode,y=t.child,A={mode:"hidden",children:A},(a&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=A):y=Da(A,a,0,null),e=_i(e,a,s,null),y.return=t,e.return=t,y.sibling=e,t.child=y,t.child.memoizedState=Tc(s),t.memoizedState=Nc,e):Ac(t,A));if(f=e.memoizedState,f!==null&&(H=f.dehydrated,H!==null))return w1(e,t,A,a,H,f,s);if(y){y=a.fallback,A=t.mode,f=e.child,H=f.sibling;var X={mode:"hidden",children:a.children};return(A&1)===0&&t.child!==f?(a=t.child,a.childLanes=0,a.pendingProps=X,t.deletions=null):(a=Hn(f,X),a.subtreeFlags=f.subtreeFlags&14680064),H!==null?y=Hn(H,y):(y=_i(y,A,s,null),y.flags|=2),y.return=t,a.return=t,a.sibling=y,t.child=a,a=y,y=t.child,A=e.child.memoizedState,A=A===null?Tc(s):{baseLanes:A.baseLanes|s,cachePool:null,transitions:A.transitions},y.memoizedState=A,y.childLanes=e.childLanes&~s,t.memoizedState=Nc,a}return y=e.child,e=y.sibling,a=Hn(y,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Ac(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ua(e,t,s,a){return a!==null&&ec(a),ns(t,e.child,null,s),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w1(e,t,s,a,f,y,A){if(s)return t.flags&256?(t.flags&=-257,a=_c(Error(i(422))),Ua(e,t,A,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(y=a.fallback,f=t.mode,a=Da({mode:"visible",children:a.children},f,0,null),y=_i(y,f,A,null),y.flags|=2,a.return=t,y.return=t,a.sibling=y,t.child=a,(t.mode&1)!==0&&ns(t,e.child,null,A),t.child.memoizedState=Tc(A),t.memoizedState=Nc,y);if((t.mode&1)===0)return Ua(e,t,A,null);if(f.data==="$!"){if(a=f.nextSibling&&f.nextSibling.dataset,a)var H=a.dgst;return a=H,y=Error(i(419)),a=_c(y,a,void 0),Ua(e,t,A,a)}if(H=(A&e.childLanes)!==0,sr||H){if(a=Ot,a!==null){switch(A&-A){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(a.suspendedLanes|A))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,un(e,f),Pr(a,e,f,-1))}return Hc(),a=_c(Error(i(421))),Ua(e,t,A,a)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=I1.bind(null,e),f._reactRetry=t,null):(e=y.treeContext,pr=Fn(f.nextSibling),hr=t,mt=!0,Rr=null,e!==null&&(wr[vr++]=an,wr[vr++]=ln,wr[vr++]=di,an=e.id,ln=e.overflow,di=t),t=Ac(t,a.children),t.flags|=4096,t)}function d0(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ic(e.return,t,s)}function Bc(e,t,s,a,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=s,y.tailMode=f)}function h0(e,t,s){var a=t.pendingProps,f=a.revealOrder,y=a.tail;if(Xt(e,t,a.children,s),a=gt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d0(e,s,t);else if(e.tag===19)d0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ft(gt,a),(t.mode&1)===0)t.memoizedState=null;else switch(f){case"forwards":for(s=t.child,f=null;s!==null;)e=s.alternate,e!==null&&Ba(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=t.child,t.child=null):(f=s.sibling,s.sibling=null),Bc(t,!1,f,s,y);break;case"backwards":for(s=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Ba(e)===null){t.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Bc(t,!0,s,null,y);break;case"together":Bc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ca(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=Hn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Hn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function v1(e,t,s){switch(t.tag){case 3:u0(t),rs();break;case 5:Ah(t);break;case 1:ir(t.type)&&wa(t);break;case 4:ac(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,f=t.memoizedProps.value;ft(Sa,a._currentValue),a._currentValue=f;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ft(gt,gt.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?f0(e,t,s):(ft(gt,gt.current&1),e=fn(e,t,s),e!==null?e.sibling:null);ft(gt,gt.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return h0(e,t,s);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ft(gt,gt.current),a)break;return null;case 22:case 23:return t.lanes=0,o0(e,t,s)}return fn(e,t,s)}var p0,kc,m0,y0;p0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},kc=function(){},m0=function(e,t,s,a){var f=e.memoizedProps;if(f!==a){e=t.stateNode,mi(Wr.current);var y=null;switch(s){case"input":f=K(e,f),a=K(e,a),y=[];break;case"select":f=_e({},f,{value:void 0}),a=_e({},a,{value:void 0}),y=[];break;case"textarea":f=oe(e,f),a=oe(e,a),y=[];break;default:typeof f.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ma)}Pe(s,a);var A;s=null;for(ge in f)if(!a.hasOwnProperty(ge)&&f.hasOwnProperty(ge)&&f[ge]!=null)if(ge==="style"){var H=f[ge];for(A in H)H.hasOwnProperty(A)&&(s||(s={}),s[A]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(l.hasOwnProperty(ge)?y||(y=[]):(y=y||[]).push(ge,null));for(ge in a){var X=a[ge];if(H=f?.[ge],a.hasOwnProperty(ge)&&X!==H&&(X!=null||H!=null))if(ge==="style")if(H){for(A in H)!H.hasOwnProperty(A)||X&&X.hasOwnProperty(A)||(s||(s={}),s[A]="");for(A in X)X.hasOwnProperty(A)&&H[A]!==X[A]&&(s||(s={}),s[A]=X[A])}else s||(y||(y=[]),y.push(ge,s)),s=X;else ge==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,H=H?H.__html:void 0,X!=null&&H!==X&&(y=y||[]).push(ge,X)):ge==="children"?typeof X!="string"&&typeof X!="number"||(y=y||[]).push(ge,""+X):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(l.hasOwnProperty(ge)?(X!=null&&ge==="onScroll"&&dt("scroll",e),y||H===X||(y=[])):(y=y||[]).push(ge,X))}s&&(y=y||[]).push("style",s);var ge=y;(t.updateQueue=ge)&&(t.flags|=4)}},y0=function(e,t,s,a){s!==a&&(t.flags|=4)};function fo(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags&14680064,a|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function x1(e,t,s){var a=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return ir(t.type)&&ga(),Wt(t),null;case 3:return a=t.stateNode,os(),ht(nr),ht(Ht),cc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rr!==null&&(zc(Rr),Rr=null))),kc(e,t),Wt(t),null;case 5:lc(t);var f=mi(oo.current);if(s=t.type,e!==null&&t.stateNode!=null)m0(e,t,s,a,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(i(166));return Wt(t),null}if(e=mi(Wr.current),ba(t)){a=t.stateNode,s=t.type;var y=t.memoizedProps;switch(a[Gr]=t,a[to]=y,e=(t.mode&1)!==0,s){case"dialog":dt("cancel",a),dt("close",a);break;case"iframe":case"object":case"embed":dt("load",a);break;case"video":case"audio":for(f=0;f<Xs.length;f++)dt(Xs[f],a);break;case"source":dt("error",a);break;case"img":case"image":case"link":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"input":Z(a,y),dt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!y.multiple},dt("invalid",a);break;case"textarea":Se(a,y),dt("invalid",a)}Pe(s,y),f=null;for(var A in y)if(y.hasOwnProperty(A)){var H=y[A];A==="children"?typeof H=="string"?a.textContent!==H&&(y.suppressHydrationWarning!==!0&&pa(a.textContent,H,e),f=["children",H]):typeof H=="number"&&a.textContent!==""+H&&(y.suppressHydrationWarning!==!0&&pa(a.textContent,H,e),f=["children",""+H]):l.hasOwnProperty(A)&&H!=null&&A==="onScroll"&&dt("scroll",a)}switch(s){case"input":O(a),c(a,y,!0);break;case"textarea":O(a),Ce(a);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(a.onclick=ma)}a=f,t.updateQueue=a,a!==null&&(t.flags|=4)}else{A=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Me(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=A.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=A.createElement(s,{is:a.is}):(e=A.createElement(s),s==="select"&&(A=e,a.multiple?A.multiple=!0:a.size&&(A.size=a.size))):e=A.createElementNS(e,s),e[Gr]=t,e[to]=a,p0(e,t,!1,!1),t.stateNode=e;e:{switch(A=We(s,a),s){case"dialog":dt("cancel",e),dt("close",e),f=a;break;case"iframe":case"object":case"embed":dt("load",e),f=a;break;case"video":case"audio":for(f=0;f<Xs.length;f++)dt(Xs[f],e);f=a;break;case"source":dt("error",e),f=a;break;case"img":case"image":case"link":dt("error",e),dt("load",e),f=a;break;case"details":dt("toggle",e),f=a;break;case"input":Z(e,a),f=K(e,a),dt("invalid",e);break;case"option":f=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},f=_e({},a,{value:void 0}),dt("invalid",e);break;case"textarea":Se(e,a),f=oe(e,a),dt("invalid",e);break;default:f=a}Pe(s,f),H=f;for(y in H)if(H.hasOwnProperty(y)){var X=H[y];y==="style"?De(e,X):y==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&g(e,X)):y==="children"?typeof X=="string"?(s!=="textarea"||X!=="")&&U(e,X):typeof X=="number"&&U(e,""+X):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(l.hasOwnProperty(y)?X!=null&&y==="onScroll"&&dt("scroll",e):X!=null&&ae(e,y,X,A))}switch(s){case"input":O(e),c(e,a,!1);break;case"textarea":O(e),Ce(e);break;case"option":a.value!=null&&e.setAttribute("value",""+de(a.value));break;case"select":e.multiple=!!a.multiple,y=a.value,y!=null?q(e,!!a.multiple,y,!1):a.defaultValue!=null&&q(e,!!a.multiple,a.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=ma)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(i(166));if(s=mi(oo.current),mi(Wr.current),ba(t)){if(a=t.stateNode,s=t.memoizedProps,a[Gr]=t,(y=a.nodeValue!==s)&&(e=hr,e!==null))switch(e.tag){case 3:pa(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(a.nodeValue,s,(e.mode&1)!==0)}y&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Gr]=t,t.stateNode=a}return Wt(t),null;case 13:if(ht(gt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&pr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)vh(),rs(),t.flags|=98560,y=!1;else if(y=ba(t),a!==null&&a.dehydrated!==null){if(e===null){if(!y)throw Error(i(318));if(y=t.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Gr]=t}else rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Wt(t),y=!1}else Rr!==null&&(zc(Rr),Rr=null),y=!0;if(!y)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(gt.current&1)!==0?kt===0&&(kt=3):Hc())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return os(),kc(e,t),e===null&&Js(t.stateNode.containerInfo),Wt(t),null;case 10:return nc(t.type._context),Wt(t),null;case 17:return ir(t.type)&&ga(),Wt(t),null;case 19:if(ht(gt),y=t.memoizedState,y===null)return Wt(t),null;if(a=(t.flags&128)!==0,A=y.rendering,A===null)if(a)fo(y,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(A=Ba(e),A!==null){for(t.flags|=128,fo(y,!1),a=A.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)y=s,e=a,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,e=A.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ft(gt,gt.current&1|2),t.child}e=e.sibling}y.tail!==null&&Le()>cs&&(t.flags|=128,a=!0,fo(y,!1),t.lanes=4194304)}else{if(!a)if(e=Ba(A),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),fo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!mt)return Wt(t),null}else 2*Le()-y.renderingStartTime>cs&&s!==1073741824&&(t.flags|=128,a=!0,fo(y,!1),t.lanes=4194304);y.isBackwards?(A.sibling=t.child,t.child=A):(s=y.last,s!==null?s.sibling=A:t.child=A,y.last=A)}return y.tail!==null?(t=y.tail,y.rendering=t,y.tail=t.sibling,y.renderingStartTime=Le(),t.sibling=null,s=gt.current,ft(gt,a?s&1|2:s&1),t):(Wt(t),null);case 22:case 23:return qc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(mr&1073741824)!==0&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function _1(e,t){switch(Qu(t),t.tag){case 1:return ir(t.type)&&ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),ht(nr),ht(Ht),cc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(ht(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(gt),null;case 4:return os(),null;case 10:return nc(t.type._context),null;case 22:case 23:return qc(),null;case 24:return null;default:return null}}var Ma=!1,Lt=!1,b1=typeof WeakSet=="function"?WeakSet:Set,je=null;function ls(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){xt(e,t,a)}else s.current=null}function Rc(e,t,s){try{s()}catch(a){xt(e,t,a)}}var g0=!1;function E1(e,t){if(qu=na,e=Yd(),Pu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var f=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var A=0,H=-1,X=-1,ge=0,Te=0,Ae=e,Ne=null;t:for(;;){for(var Ue;Ae!==s||f!==0&&Ae.nodeType!==3||(H=A+f),Ae!==y||a!==0&&Ae.nodeType!==3||(X=A+a),Ae.nodeType===3&&(A+=Ae.nodeValue.length),(Ue=Ae.firstChild)!==null;)Ne=Ae,Ae=Ue;for(;;){if(Ae===e)break t;if(Ne===s&&++ge===f&&(H=A),Ne===y&&++Te===a&&(X=A),(Ue=Ae.nextSibling)!==null)break;Ae=Ne,Ne=Ae.parentNode}Ae=Ue}s=H===-1||X===-1?null:{start:H,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hu={focusedElem:e,selectionRange:s},na=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var ze=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var qe=ze.memoizedProps,Et=ze.memoizedState,ue=t.stateNode,te=ue.getSnapshotBeforeUpdate(t.elementType===t.type?qe:Ir(t.type,qe),Et);ue.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var me=t.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ke){xt(t,t.return,ke)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return ze=g0,g0=!1,ze}function ho(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&e)===e){var y=f.destroy;f.destroy=void 0,y!==void 0&&Rc(t,s,y)}f=f.next}while(f!==a)}}function ja(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Ic(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function w0(e){var t=e.alternate;t!==null&&(e.alternate=null,w0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gr],delete t[to],delete t[Ku],delete t[s1],delete t[o1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v0(e){return e.tag===5||e.tag===3||e.tag===4}function x0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ma));else if(a!==4&&(e=e.child,e!==null))for(Fc(e,t,s),e=e.sibling;e!==null;)Fc(e,t,s),e=e.sibling}function Oc(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Oc(e,t,s),e=e.sibling;e!==null;)Oc(e,t,s),e=e.sibling}var Mt=null,Fr=!1;function jn(e,t,s){for(s=s.child;s!==null;)_0(e,t,s),s=s.sibling}function _0(e,t,s){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Qo,s)}catch{}switch(s.tag){case 5:Lt||ls(s,t);case 6:var a=Mt,f=Fr;Mt=null,jn(e,t,s),Mt=a,Fr=f,Mt!==null&&(Fr?(e=Mt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Mt.removeChild(s.stateNode));break;case 18:Mt!==null&&(Fr?(e=Mt,s=s.stateNode,e.nodeType===8?Lu(e.parentNode,s):e.nodeType===1&&Lu(e,s),Gs(e)):Lu(Mt,s.stateNode));break;case 4:a=Mt,f=Fr,Mt=s.stateNode.containerInfo,Fr=!0,jn(e,t,s),Mt=a,Fr=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){f=a=a.next;do{var y=f,A=y.destroy;y=y.tag,A!==void 0&&((y&2)!==0||(y&4)!==0)&&Rc(s,t,A),f=f.next}while(f!==a)}jn(e,t,s);break;case 1:if(!Lt&&(ls(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(H){xt(s,t,H)}jn(e,t,s);break;case 21:jn(e,t,s);break;case 22:s.mode&1?(Lt=(a=Lt)||s.memoizedState!==null,jn(e,t,s),Lt=a):jn(e,t,s);break;default:jn(e,t,s)}}function b0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new b1),t.forEach(function(a){var f=F1.bind(null,e,a);s.has(a)||(s.add(a),a.then(f,f))})}}function Or(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var f=s[a];try{var y=e,A=t,H=A;e:for(;H!==null;){switch(H.tag){case 5:Mt=H.stateNode,Fr=!1;break e;case 3:Mt=H.stateNode.containerInfo,Fr=!0;break e;case 4:Mt=H.stateNode.containerInfo,Fr=!0;break e}H=H.return}if(Mt===null)throw Error(i(160));_0(y,A,f),Mt=null,Fr=!1;var X=f.alternate;X!==null&&(X.return=null),f.return=null}catch(ge){xt(f,t,ge)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E0(t,e),t=t.sibling}function E0(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),Kr(e),a&4){try{ho(3,e,e.return),ja(3,e)}catch(qe){xt(e,e.return,qe)}try{ho(5,e,e.return)}catch(qe){xt(e,e.return,qe)}}break;case 1:Or(t,e),Kr(e),a&512&&s!==null&&ls(s,s.return);break;case 5:if(Or(t,e),Kr(e),a&512&&s!==null&&ls(s,s.return),e.flags&32){var f=e.stateNode;try{U(f,"")}catch(qe){xt(e,e.return,qe)}}if(a&4&&(f=e.stateNode,f!=null)){var y=e.memoizedProps,A=s!==null?s.memoizedProps:y,H=e.type,X=e.updateQueue;if(e.updateQueue=null,X!==null)try{H==="input"&&y.type==="radio"&&y.name!=null&&x(f,y),We(H,A);var ge=We(H,y);for(A=0;A<X.length;A+=2){var Te=X[A],Ae=X[A+1];Te==="style"?De(f,Ae):Te==="dangerouslySetInnerHTML"?g(f,Ae):Te==="children"?U(f,Ae):ae(f,Te,Ae,ge)}switch(H){case"input":h(f,y);break;case"textarea":Ie(f,y);break;case"select":var Ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Ue=y.value;Ue!=null?q(f,!!y.multiple,Ue,!1):Ne!==!!y.multiple&&(y.defaultValue!=null?q(f,!!y.multiple,y.defaultValue,!0):q(f,!!y.multiple,y.multiple?[]:"",!1))}f[to]=y}catch(qe){xt(e,e.return,qe)}}break;case 6:if(Or(t,e),Kr(e),a&4){if(e.stateNode===null)throw Error(i(162));f=e.stateNode,y=e.memoizedProps;try{f.nodeValue=y}catch(qe){xt(e,e.return,qe)}}break;case 3:if(Or(t,e),Kr(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Gs(t.containerInfo)}catch(qe){xt(e,e.return,qe)}break;case 4:Or(t,e),Kr(e);break;case 13:Or(t,e),Kr(e),f=e.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Cc=Le())),a&4&&b0(e);break;case 22:if(Te=s!==null&&s.memoizedState!==null,e.mode&1?(Lt=(ge=Lt)||Te,Or(t,e),Lt=ge):Or(t,e),Kr(e),a&8192){if(ge=e.memoizedState!==null,(e.stateNode.isHidden=ge)&&!Te&&(e.mode&1)!==0)for(je=e,Te=e.child;Te!==null;){for(Ae=je=Te;je!==null;){switch(Ne=je,Ue=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:ho(4,Ne,Ne.return);break;case 1:ls(Ne,Ne.return);var ze=Ne.stateNode;if(typeof ze.componentWillUnmount=="function"){a=Ne,s=Ne.return;try{t=a,ze.props=t.memoizedProps,ze.state=t.memoizedState,ze.componentWillUnmount()}catch(qe){xt(a,s,qe)}}break;case 5:ls(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){T0(Ae);continue}}Ue!==null?(Ue.return=Ne,je=Ue):T0(Ae)}Te=Te.sibling}e:for(Te=null,Ae=e;;){if(Ae.tag===5){if(Te===null){Te=Ae;try{f=Ae.stateNode,ge?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(H=Ae.stateNode,X=Ae.memoizedProps.style,A=X!=null&&X.hasOwnProperty("display")?X.display:null,H.style.display=pe("display",A))}catch(qe){xt(e,e.return,qe)}}}else if(Ae.tag===6){if(Te===null)try{Ae.stateNode.nodeValue=ge?"":Ae.memoizedProps}catch(qe){xt(e,e.return,qe)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===e)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===e)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===e)break e;Te===Ae&&(Te=null),Ae=Ae.return}Te===Ae&&(Te=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Or(t,e),Kr(e),a&4&&b0(e);break;case 21:break;default:Or(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(v0(s)){var a=s;break e}s=s.return}throw Error(i(160))}switch(a.tag){case 5:var f=a.stateNode;a.flags&32&&(U(f,""),a.flags&=-33);var y=x0(e);Oc(e,y,f);break;case 3:case 4:var A=a.stateNode.containerInfo,H=x0(e);Fc(e,H,A);break;default:throw Error(i(161))}}catch(X){xt(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S1(e,t,s){je=e,S0(e)}function S0(e,t,s){for(var a=(e.mode&1)!==0;je!==null;){var f=je,y=f.child;if(f.tag===22&&a){var A=f.memoizedState!==null||Ma;if(!A){var H=f.alternate,X=H!==null&&H.memoizedState!==null||Lt;H=Ma;var ge=Lt;if(Ma=A,(Lt=X)&&!ge)for(je=f;je!==null;)A=je,X=A.child,A.tag===22&&A.memoizedState!==null?A0(f):X!==null?(X.return=A,je=X):A0(f);for(;y!==null;)je=y,S0(y),y=y.sibling;je=f,Ma=H,Lt=ge}N0(e)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,je=y):N0(e)}}function N0(e){for(;je!==null;){var t=je;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Lt||ja(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Lt)if(s===null)a.componentDidMount();else{var f=t.elementType===t.type?s.memoizedProps:Ir(t.type,s.memoizedProps);a.componentDidUpdate(f,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var y=t.updateQueue;y!==null&&Th(t,y,a);break;case 3:var A=t.updateQueue;if(A!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Th(t,A,s)}break;case 5:var H=t.stateNode;if(s===null&&t.flags&4){s=H;var X=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&s.focus();break;case"img":X.src&&(s.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ge=t.alternate;if(ge!==null){var Te=ge.memoizedState;if(Te!==null){var Ae=Te.dehydrated;Ae!==null&&Gs(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Lt||t.flags&512&&Ic(t)}catch(Ne){xt(t,t.return,Ne)}}if(t===e){je=null;break}if(s=t.sibling,s!==null){s.return=t.return,je=s;break}je=t.return}}function T0(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,je=s;break}je=t.return}}function A0(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ja(4,t)}catch(X){xt(t,s,X)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var f=t.return;try{a.componentDidMount()}catch(X){xt(t,f,X)}}var y=t.return;try{Ic(t)}catch(X){xt(t,y,X)}break;case 5:var A=t.return;try{Ic(t)}catch(X){xt(t,A,X)}}}catch(X){xt(t,t.return,X)}if(t===e){je=null;break}var H=t.sibling;if(H!==null){H.return=t.return,je=H;break}je=t.return}}var N1=Math.ceil,$a=be.ReactCurrentDispatcher,Pc=be.ReactCurrentOwner,br=be.ReactCurrentBatchConfig,it=0,Ot=null,Tt=null,jt=0,mr=0,us=On(0),kt=0,po=null,gi=0,za=0,Uc=0,mo=null,or=null,Cc=0,cs=1/0,dn=null,Va=!1,Mc=null,$n=null,qa=!1,zn=null,Ha=0,yo=0,jc=null,Ga=-1,Wa=0;function Jt(){return(it&6)!==0?Le():Ga!==-1?Ga:Ga=Le()}function Vn(e){return(e.mode&1)===0?1:(it&2)!==0&&jt!==0?jt&-jt:l1.transition!==null?(Wa===0&&(Wa=xd()),Wa):(e=lt,e!==0||(e=window.event,e=e===void 0?16:kd(e.type)),e)}function Pr(e,t,s,a){if(50<yo)throw yo=0,jc=null,Error(i(185));$s(e,s,a),((it&2)===0||e!==Ot)&&(e===Ot&&((it&2)===0&&(za|=s),kt===4&&qn(e,jt)),ar(e,a),s===1&&it===0&&(t.mode&1)===0&&(cs=Le()+500,va&&Un()))}function ar(e,t){var s=e.callbackNode;lg(e,t);var a=ea(e,e===Ot?jt:0);if(a===0)s!==null&&Zo(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Zo(s),t===1)e.tag===0?a1(k0.bind(null,e)):ph(k0.bind(null,e)),n1(function(){(it&6)===0&&Un()}),s=null;else{switch(_d(a)){case 1:s=Je;break;case 4:s=ui;break;case 16:s=qr;break;case 536870912:s=vd;break;default:s=qr}s=M0(s,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function B0(e,t){if(Ga=-1,Wa=0,(it&6)!==0)throw Error(i(327));var s=e.callbackNode;if(fs()&&e.callbackNode!==s)return null;var a=ea(e,e===Ot?jt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=La(e,a);else{t=a;var f=it;it|=2;var y=I0();(Ot!==e||jt!==t)&&(dn=null,cs=Le()+500,vi(e,t));do try{B1();break}catch(H){R0(e,H)}while(!0);rc(),$a.current=y,it=f,Tt!==null?t=0:(Ot=null,jt=0,t=kt)}if(t!==0){if(t===2&&(f=wu(e),f!==0&&(a=f,t=$c(e,f))),t===1)throw s=po,vi(e,0),qn(e,a),ar(e,Le()),s;if(t===6)qn(e,a);else{if(f=e.current.alternate,(a&30)===0&&!T1(f)&&(t=La(e,a),t===2&&(y=wu(e),y!==0&&(a=y,t=$c(e,y))),t===1))throw s=po,vi(e,0),qn(e,a),ar(e,Le()),s;switch(e.finishedWork=f,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:xi(e,or,dn);break;case 3:if(qn(e,a),(a&130023424)===a&&(t=Cc+500-Le(),10<t)){if(ea(e,0)!==0)break;if(f=e.suspendedLanes,(f&a)!==a){Jt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Wu(xi.bind(null,e,or,dn),t);break}xi(e,or,dn);break;case 4:if(qn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,f=-1;0<a;){var A=31-Br(a);y=1<<A,A=t[A],A>f&&(f=A),a&=~y}if(a=f,a=Le()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*N1(a/1960))-a,10<a){e.timeoutHandle=Wu(xi.bind(null,e,or,dn),a);break}xi(e,or,dn);break;case 5:xi(e,or,dn);break;default:throw Error(i(329))}}}return ar(e,Le()),e.callbackNode===s?B0.bind(null,e):null}function $c(e,t){var s=mo;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=La(e,t),e!==2&&(t=or,or=s,t!==null&&zc(t)),e}function zc(e){or===null?or=e:or.push.apply(or,e)}function T1(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var f=s[a],y=f.getSnapshot;f=f.value;try{if(!kr(y(),f))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Uc,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Br(t),a=1<<s;e[s]=-1,t&=~a}}function k0(e){if((it&6)!==0)throw Error(i(327));fs();var t=ea(e,0);if((t&1)===0)return ar(e,Le()),null;var s=La(e,t);if(e.tag!==0&&s===2){var a=wu(e);a!==0&&(t=a,s=$c(e,a))}if(s===1)throw s=po,vi(e,0),qn(e,t),ar(e,Le()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e,or,dn),ar(e,Le()),null}function Vc(e,t){var s=it;it|=1;try{return e(t)}finally{it=s,it===0&&(cs=Le()+500,va&&Un())}}function wi(e){zn!==null&&zn.tag===0&&(it&6)===0&&fs();var t=it;it|=1;var s=br.transition,a=lt;try{if(br.transition=null,lt=1,e)return e()}finally{lt=a,br.transition=s,it=t,(it&6)===0&&Un()}}function qc(){mr=us.current,ht(us)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,r1(s)),Tt!==null)for(s=Tt.return;s!==null;){var a=s;switch(Qu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ga();break;case 3:os(),ht(nr),ht(Ht),cc();break;case 5:lc(a);break;case 4:os();break;case 13:ht(gt);break;case 19:ht(gt);break;case 10:nc(a.type._context);break;case 22:case 23:qc()}s=s.return}if(Ot=e,Tt=e=Hn(e.current,null),jt=mr=t,kt=0,po=null,Uc=za=gi=0,or=mo=null,pi!==null){for(t=0;t<pi.length;t++)if(s=pi[t],a=s.interleaved,a!==null){s.interleaved=null;var f=a.next,y=s.pending;if(y!==null){var A=y.next;y.next=f,a.next=A}s.pending=a}pi=null}return e}function R0(e,t){do{var s=Tt;try{if(rc(),ka.current=Oa,Ra){for(var a=wt.memoizedState;a!==null;){var f=a.queue;f!==null&&(f.pending=null),a=a.next}Ra=!1}if(yi=0,Ft=Bt=wt=null,ao=!1,lo=0,Pc.current=null,s===null||s.return===null){kt=1,po=t,Tt=null;break}e:{var y=e,A=s.return,H=s,X=t;if(t=jt,H.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ge=X,Te=H,Ae=Te.tag;if((Te.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ne=Te.alternate;Ne?(Te.updateQueue=Ne.updateQueue,Te.memoizedState=Ne.memoizedState,Te.lanes=Ne.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Ue=t0(A);if(Ue!==null){Ue.flags&=-257,r0(Ue,A,H,y,t),Ue.mode&1&&e0(y,ge,t),t=Ue,X=ge;var ze=t.updateQueue;if(ze===null){var qe=new Set;qe.add(X),t.updateQueue=qe}else ze.add(X);break e}else{if((t&1)===0){e0(y,ge,t),Hc();break e}X=Error(i(426))}}else if(mt&&H.mode&1){var Et=t0(A);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),r0(Et,A,H,y,t),ec(as(X,H));break e}}y=X=as(X,H),kt!==4&&(kt=2),mo===null?mo=[y]:mo.push(y),y=A;do{switch(y.tag){case 3:y.flags|=65536,t&=-t,y.lanes|=t;var ue=Xh(y,X,t);Nh(y,ue);break e;case 1:H=X;var te=y.type,me=y.stateNode;if((y.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&($n===null||!$n.has(me)))){y.flags|=65536,t&=-t,y.lanes|=t;var ke=Jh(y,H,t);Nh(y,ke);break e}}y=y.return}while(y!==null)}O0(s)}catch(He){t=He,Tt===s&&s!==null&&(Tt=s=s.return);continue}break}while(!0)}function I0(){var e=$a.current;return $a.current=Oa,e===null?Oa:e}function Hc(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||(gi&268435455)===0&&(za&268435455)===0||qn(Ot,jt)}function La(e,t){var s=it;it|=2;var a=I0();(Ot!==e||jt!==t)&&(dn=null,vi(e,t));do try{A1();break}catch(f){R0(e,f)}while(!0);if(rc(),it=s,$a.current=a,Tt!==null)throw Error(i(261));return Ot=null,jt=0,kt}function A1(){for(;Tt!==null;)F0(Tt)}function B1(){for(;Tt!==null&&!gu();)F0(Tt)}function F0(e){var t=C0(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?O0(e):Tt=t,Pc.current=null}function O0(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=x1(s,t,mr),s!==null){Tt=s;return}}else{if(s=_1(s,t),s!==null){s.flags&=32767,Tt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,Tt=null;return}}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);kt===0&&(kt=5)}function xi(e,t,s){var a=lt,f=br.transition;try{br.transition=null,lt=1,k1(e,t,s,a)}finally{br.transition=f,lt=a}return null}function k1(e,t,s,a){do fs();while(zn!==null);if((it&6)!==0)throw Error(i(327));s=e.finishedWork;var f=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var y=s.lanes|s.childLanes;if(ug(e,y),e===Ot&&(Tt=Ot=null,jt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||qa||(qa=!0,M0(qr,function(){return fs(),null})),y=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||y){y=br.transition,br.transition=null;var A=lt;lt=1;var H=it;it|=4,Pc.current=null,E1(e,s),E0(s,e),Yg(Hu),na=!!qu,Hu=qu=null,e.current=s,S1(s),Q(),it=H,lt=A,br.transition=y}else e.current=s;if(qa&&(qa=!1,zn=e,Ha=f),y=e.pendingLanes,y===0&&($n=null),ng(s.stateNode),ar(e,Le()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)f=t[s],a(f.value,{componentStack:f.stack,digest:f.digest});if(Va)throw Va=!1,e=Mc,Mc=null,e;return(Ha&1)!==0&&e.tag!==0&&fs(),y=e.pendingLanes,(y&1)!==0?e===jc?yo++:(yo=0,jc=e):yo=0,Un(),null}function fs(){if(zn!==null){var e=_d(Ha),t=br.transition,s=lt;try{if(br.transition=null,lt=16>e?16:e,zn===null)var a=!1;else{if(e=zn,zn=null,Ha=0,(it&6)!==0)throw Error(i(331));var f=it;for(it|=4,je=e.current;je!==null;){var y=je,A=y.child;if((je.flags&16)!==0){var H=y.deletions;if(H!==null){for(var X=0;X<H.length;X++){var ge=H[X];for(je=ge;je!==null;){var Te=je;switch(Te.tag){case 0:case 11:case 15:ho(8,Te,y)}var Ae=Te.child;if(Ae!==null)Ae.return=Te,je=Ae;else for(;je!==null;){Te=je;var Ne=Te.sibling,Ue=Te.return;if(w0(Te),Te===ge){je=null;break}if(Ne!==null){Ne.return=Ue,je=Ne;break}je=Ue}}}var ze=y.alternate;if(ze!==null){var qe=ze.child;if(qe!==null){ze.child=null;do{var Et=qe.sibling;qe.sibling=null,qe=Et}while(qe!==null)}}je=y}}if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,je=A;else e:for(;je!==null;){if(y=je,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ho(9,y,y.return)}var ue=y.sibling;if(ue!==null){ue.return=y.return,je=ue;break e}je=y.return}}var te=e.current;for(je=te;je!==null;){A=je;var me=A.child;if((A.subtreeFlags&2064)!==0&&me!==null)me.return=A,je=me;else e:for(A=te;je!==null;){if(H=je,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ja(9,H)}}catch(He){xt(H,H.return,He)}if(H===A){je=null;break e}var ke=H.sibling;if(ke!==null){ke.return=H.return,je=ke;break e}je=H.return}}if(it=f,Un(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Qo,e)}catch{}a=!0}return a}finally{lt=s,br.transition=t}}return!1}function P0(e,t,s){t=as(s,t),t=Xh(e,t,1),e=Mn(e,t,1),t=Jt(),e!==null&&($s(e,1,t),ar(e,t))}function xt(e,t,s){if(e.tag===3)P0(e,e,s);else for(;t!==null;){if(t.tag===3){P0(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))){e=as(s,e),e=Jh(t,e,1),t=Mn(t,e,1),e=Jt(),t!==null&&($s(t,1,e),ar(t,e));break}}t=t.return}}function R1(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&s,Ot===e&&(jt&s)===s&&(kt===4||kt===3&&(jt&130023424)===jt&&500>Le()-Cc?vi(e,0):Uc|=s),ar(e,t)}function U0(e,t){t===0&&((e.mode&1)===0?t=1:(t=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var s=Jt();e=un(e,t),e!==null&&($s(e,t,s),ar(e,s))}function I1(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),U0(e,s)}function F1(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(t),U0(e,s)}var C0;C0=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)sr=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return sr=!1,v1(e,t,s);sr=(e.flags&131072)!==0}else sr=!1,mt&&(t.flags&1048576)!==0&&mh(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ca(e,t),e=t.pendingProps;var f=Ji(t,Ht.current);ss(t,s),f=hc(null,t,a,e,f,s);var y=pc();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(a)?(y=!0,wa(t)):y=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,oc(t),f.updater=Pa,t.stateNode=f,f._reactInternals=t,xc(t,a,e,s),t=Sc(null,t,a,!0,y,s)):(t.tag=0,mt&&y&&Zu(t),Xt(null,t,f,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Ca(e,t),e=t.pendingProps,f=a._init,a=f(a._payload),t.type=a,f=t.tag=P1(a),e=Ir(a,e),f){case 0:t=Ec(null,t,a,e,s);break e;case 1:t=l0(null,t,a,e,s);break e;case 11:t=n0(null,t,a,e,s);break e;case 14:t=i0(null,t,a,Ir(a.type,e),s);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ir(a,f),Ec(e,t,a,f,s);case 1:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ir(a,f),l0(e,t,a,f,s);case 3:e:{if(u0(t),e===null)throw Error(i(387));a=t.pendingProps,y=t.memoizedState,f=y.element,Sh(e,t),Aa(t,a,null,s);var A=t.memoizedState;if(a=A.element,y.isDehydrated)if(y={element:a,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){f=as(Error(i(423)),t),t=c0(e,t,a,s,f);break e}else if(a!==f){f=as(Error(i(424)),t),t=c0(e,t,a,s,f);break e}else for(pr=Fn(t.stateNode.containerInfo.firstChild),hr=t,mt=!0,Rr=null,s=bh(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(rs(),a===f){t=fn(e,t,s);break e}Xt(e,t,a,s)}t=t.child}return t;case 5:return Ah(t),e===null&&Ju(t),a=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,A=f.children,Gu(a,f)?A=null:y!==null&&Gu(a,y)&&(t.flags|=32),a0(e,t),Xt(e,t,A,s),t.child;case 6:return e===null&&Ju(t),null;case 13:return f0(e,t,s);case 4:return ac(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ns(t,null,a,s):Xt(e,t,a,s),t.child;case 11:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ir(a,f),n0(e,t,a,f,s);case 7:return Xt(e,t,t.pendingProps,s),t.child;case 8:return Xt(e,t,t.pendingProps.children,s),t.child;case 12:return Xt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,f=t.pendingProps,y=t.memoizedProps,A=f.value,ft(Sa,a._currentValue),a._currentValue=A,y!==null)if(kr(y.value,A)){if(y.children===f.children&&!nr.current){t=fn(e,t,s);break e}}else for(y=t.child,y!==null&&(y.return=t);y!==null;){var H=y.dependencies;if(H!==null){A=y.child;for(var X=H.firstContext;X!==null;){if(X.context===a){if(y.tag===1){X=cn(-1,s&-s),X.tag=2;var ge=y.updateQueue;if(ge!==null){ge=ge.shared;var Te=ge.pending;Te===null?X.next=X:(X.next=Te.next,Te.next=X),ge.pending=X}}y.lanes|=s,X=y.alternate,X!==null&&(X.lanes|=s),ic(y.return,s,t),H.lanes|=s;break}X=X.next}}else if(y.tag===10)A=y.type===t.type?null:y.child;else if(y.tag===18){if(A=y.return,A===null)throw Error(i(341));A.lanes|=s,H=A.alternate,H!==null&&(H.lanes|=s),ic(A,s,t),A=y.sibling}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===t){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}Xt(e,t,f.children,s),t=t.child}return t;case 9:return f=t.type,a=t.pendingProps.children,ss(t,s),f=xr(f),a=a(f),t.flags|=1,Xt(e,t,a,s),t.child;case 14:return a=t.type,f=Ir(a,t.pendingProps),f=Ir(a.type,f),i0(e,t,a,f,s);case 15:return s0(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ir(a,f),Ca(e,t),t.tag=1,ir(a)?(e=!0,wa(t)):e=!1,ss(t,s),Zh(t,a,f),xc(t,a,f,s),Sc(null,t,a,!0,e,s);case 19:return h0(e,t,s);case 22:return o0(e,t,s)}throw Error(i(156,t.tag))};function M0(e,t){return at(e,t)}function O1(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,s,a){return new O1(e,t,s,a)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P1(e){if(typeof e=="function")return Gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===L)return 14}return 2}function Hn(e,t){var s=e.alternate;return s===null?(s=Er(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ka(e,t,s,a,f,y){var A=2;if(a=e,typeof e=="function")Gc(e)&&(A=1);else if(typeof e=="string")A=5;else e:switch(e){case ce:return _i(s.children,f,y,t);case M:A=8,f|=8;break;case $:return e=Er(12,s,t,f|2),e.elementType=$,e.lanes=y,e;case _:return e=Er(13,s,t,f),e.elementType=_,e.lanes=y,e;case P:return e=Er(19,s,t,f),e.elementType=P,e.lanes=y,e;case fe:return Da(s,f,y,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:A=10;break e;case he:A=9;break e;case ve:A=11;break e;case L:A=14;break e;case J:A=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Er(A,s,t,f),t.elementType=e,t.type=a,t.lanes=y,t}function _i(e,t,s,a){return e=Er(7,e,a,t),e.lanes=s,e}function Da(e,t,s,a){return e=Er(22,e,a,t),e.elementType=fe,e.lanes=s,e.stateNode={isHidden:!1},e}function Wc(e,t,s){return e=Er(6,e,null,t),e.lanes=s,e}function Lc(e,t,s){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U1(e,t,s,a,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=a,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kc(e,t,s,a,f,y,A,H,X){return e=new U1(e,t,s,H,X),t===1?(t=1,y===!0&&(t|=8)):t=0,y=Er(3,null,null,t),e.current=y,y.stateNode=e,y.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(y),e}function C1(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function j0(e){if(!e)return Pn;e=e._reactInternals;e:{if(nn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(ir(s))return dh(e,s,t)}return t}function $0(e,t,s,a,f,y,A,H,X){return e=Kc(s,a,!0,e,f,y,A,H,X),e.context=j0(null),s=e.current,a=Jt(),f=Vn(s),y=cn(a,f),y.callback=t??null,Mn(s,y,f),e.current.lanes=f,$s(e,f,a),ar(e,a),e}function Ya(e,t,s,a){var f=t.current,y=Jt(),A=Vn(f);return s=j0(s),t.context===null?t.context=s:t.pendingContext=s,t=cn(y,A),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Mn(f,t,A),e!==null&&(Pr(e,f,A,y),Ta(e,f,A)),A}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Dc(e,t){z0(e,t),(e=e.alternate)&&z0(e,t)}function M1(){return null}var V0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}Qa.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ya(e,t,null,null)},Qa.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){Ya(null,e,null,null)}),t[sn]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<kn.length&&t!==0&&t<kn[s].priority;s++);kn.splice(s,0,e),s===0&&Ad(e)}};function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q0(){}function j1(e,t,s,a,f){if(f){if(typeof a=="function"){var y=a;a=function(){var ge=Za(A);y.call(ge)}}var A=$0(t,a,e,0,null,!1,!1,"",q0);return e._reactRootContainer=A,e[sn]=A.current,Js(e.nodeType===8?e.parentNode:e),wi(),A}for(;f=e.lastChild;)e.removeChild(f);if(typeof a=="function"){var H=a;a=function(){var ge=Za(X);H.call(ge)}}var X=Kc(e,0,!1,null,null,!1,!1,"",q0);return e._reactRootContainer=X,e[sn]=X.current,Js(e.nodeType===8?e.parentNode:e),wi(function(){Ya(t,X,s,a)}),X}function Ja(e,t,s,a,f){var y=s._reactRootContainer;if(y){var A=y;if(typeof f=="function"){var H=f;f=function(){var X=Za(A);H.call(X)}}Ya(t,A,e,f)}else A=j1(s,t,e,f,a);return Za(A)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=js(t.pendingLanes);s!==0&&(xu(t,s|1),ar(t,Le()),(it&6)===0&&(cs=Le()+500,Un()))}break;case 13:wi(function(){var a=un(e,1);if(a!==null){var f=Jt();Pr(a,e,1,f)}}),Dc(e,1)}},_u=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var s=Jt();Pr(t,e,134217728,s)}Dc(e,134217728)}},Ed=function(e){if(e.tag===13){var t=Vn(e),s=un(e,t);if(s!==null){var a=Jt();Pr(s,e,t,a)}Dc(e,t)}},Sd=function(){return lt},Nd=function(e,t){var s=lt;try{return lt=e,t()}finally{lt=s}},ai=function(e,t,s){switch(t){case"input":if(h(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var f=ya(a);if(!f)throw Error(i(90));V(a),h(a,f)}}}break;case"textarea":Ie(e,s);break;case"select":t=s.value,t!=null&&q(e,!!s.multiple,t,!1)}},fu=Vc,du=wi;var $1={usingClientEntryPoint:!1,Events:[ro,Qi,ya,zi,Ar,Vc]},go={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z1={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Do(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||M1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Qo=el.inject(z1),Hr=el}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1,lr.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(t))throw Error(i(200));return C1(e,t,null,s)},lr.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var s=!1,a="",f=V0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Kc(e,1,!1,null,null,s,!1,a,f),e[sn]=t.current,Js(e.nodeType===8?e.parentNode:e),new Yc(t)},lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Do(t),e=e===null?null:e.stateNode,e},lr.flushSync=function(e){return wi(e)},lr.hydrate=function(e,t,s){if(!Xa(t))throw Error(i(200));return Ja(null,e,t,!0,s)},lr.hydrateRoot=function(e,t,s){if(!Zc(e))throw Error(i(405));var a=s!=null&&s.hydratedSources||null,f=!1,y="",A=V0;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),t=$0(t,null,e,1,s??null,f,!1,y,A),e[sn]=t.current,Js(e),a)for(e=0;e<a.length;e++)s=a[e],f=s._getVersion,f=f(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,f]:t.mutableSourceEagerHydrationData.push(s,f);return new Qa(t)},lr.render=function(e,t,s){if(!Xa(t))throw Error(i(200));return Ja(null,e,t,!1,s)},lr.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(i(40));return e._reactRootContainer?(wi(function(){Ja(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1},lr.unstable_batchedUpdates=Vc,lr.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Xa(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ja(e,t,s,!1,a)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var Z0;function Z1(){if(Z0)return Jc.exports;Z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Jc.exports=Y1(),Jc.exports}var Q0;function Q1(){if(Q0)return tl;Q0=1;var r=Z1();return tl.createRoot=r.createRoot,tl.hydrateRoot=r.hydrateRoot,tl}var X1=Q1();const J1=Jf(X1);var rf={},vo={},X0;function fm(){if(X0)return vo;X0=1,vo.byteLength=u,vo.toByteArray=N,vo.fromByteArray=R;for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=o.length;l<d;++l)r[l]=o[l],n[o.charCodeAt(l)]=l;n[45]=62,n[95]=63;function p(T){var v=T.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=T.indexOf("=");G===-1&&(G=v);var Y=G===v?0:4-G%4;return[G,Y]}function u(T){var v=p(T),G=v[0],Y=v[1];return(G+Y)*3/4-Y}function w(T,v,G){return(v+G)*3/4-G}function N(T){var v,G=p(T),Y=G[0],se=G[1],ne=new i(w(T,Y,se)),ae=0,be=se>0?Y-4:Y,j;for(j=0;j<be;j+=4)v=n[T.charCodeAt(j)]<<18|n[T.charCodeAt(j+1)]<<12|n[T.charCodeAt(j+2)]<<6|n[T.charCodeAt(j+3)],ne[ae++]=v>>16&255,ne[ae++]=v>>8&255,ne[ae++]=v&255;return se===2&&(v=n[T.charCodeAt(j)]<<2|n[T.charCodeAt(j+1)]>>4,ne[ae++]=v&255),se===1&&(v=n[T.charCodeAt(j)]<<10|n[T.charCodeAt(j+1)]<<4|n[T.charCodeAt(j+2)]>>2,ne[ae++]=v>>8&255,ne[ae++]=v&255),ne}function k(T){return r[T>>18&63]+r[T>>12&63]+r[T>>6&63]+r[T&63]}function b(T,v,G){for(var Y,se=[],ne=v;ne<G;ne+=3)Y=(T[ne]<<16&16711680)+(T[ne+1]<<8&65280)+(T[ne+2]&255),se.push(k(Y));return se.join("")}function R(T){for(var v,G=T.length,Y=G%3,se=[],ne=16383,ae=0,be=G-Y;ae<be;ae+=ne)se.push(b(T,ae,ae+ne>be?be:ae+ne));return Y===1?(v=T[G-1],se.push(r[v>>2]+r[v<<4&63]+"==")):Y===2&&(v=(T[G-2]<<8)+T[G-1],se.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),se.join("")}return vo}var rl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var J0;function td(){return J0||(J0=1,rl.read=function(r,n,i,o,l){var d,p,u=l*8-o-1,w=(1<<u)-1,N=w>>1,k=-7,b=i?l-1:0,R=i?-1:1,T=r[n+b];for(b+=R,d=T&(1<<-k)-1,T>>=-k,k+=u;k>0;d=d*256+r[n+b],b+=R,k-=8);for(p=d&(1<<-k)-1,d>>=-k,k+=o;k>0;p=p*256+r[n+b],b+=R,k-=8);if(d===0)d=1-N;else{if(d===w)return p?NaN:(T?-1:1)*(1/0);p=p+Math.pow(2,o),d=d-N}return(T?-1:1)*p*Math.pow(2,d-o)},rl.write=function(r,n,i,o,l,d){var p,u,w,N=d*8-l-1,k=(1<<N)-1,b=k>>1,R=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=o?0:d-1,v=o?1:-1,G=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,p=k):(p=Math.floor(Math.log(n)/Math.LN2),n*(w=Math.pow(2,-p))<1&&(p--,w*=2),p+b>=1?n+=R/w:n+=R*Math.pow(2,1-b),n*w>=2&&(p++,w/=2),p+b>=k?(u=0,p=k):p+b>=1?(u=(n*w-1)*Math.pow(2,l),p=p+b):(u=n*Math.pow(2,b-1)*Math.pow(2,l),p=0));l>=8;r[i+T]=u&255,T+=v,u/=256,l-=8);for(p=p<<l|u,N+=l;N>0;r[i+T]=p&255,T+=v,p/=256,N-=8);r[i+T-v]|=G*128}),rl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ep;function ew(){return ep||(ep=1,function(r){const n=fm(),i=td(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=ne,r.INSPECT_MAX_BYTES=50;const l=2147483647;r.kMaxLength=l,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const E=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(E,m),E.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function p(E){if(E>l)throw new RangeError('The value "'+E+'" is invalid for option "size"');const m=new Uint8Array(E);return Object.setPrototypeOf(m,u.prototype),m}function u(E,m,g){if(typeof E=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(E)}return w(E,m,g)}u.poolSize=8192;function w(E,m,g){if(typeof E=="string")return R(E,m);if(ArrayBuffer.isView(E))return v(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(oe(E,ArrayBuffer)||E&&oe(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(E,SharedArrayBuffer)||E&&oe(E.buffer,SharedArrayBuffer)))return G(E,m,g);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=E.valueOf&&E.valueOf();if(U!=null&&U!==E)return u.from(U,m,g);const ee=Y(E);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return u.from(E[Symbol.toPrimitive]("string"),m,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}u.from=function(E,m,g){return w(E,m,g)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function N(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function k(E,m,g){return N(E),E<=0?p(E):m!==void 0?typeof g=="string"?p(E).fill(m,g):p(E).fill(m):p(E)}u.alloc=function(E,m,g){return k(E,m,g)};function b(E){return N(E),p(E<0?0:se(E)|0)}u.allocUnsafe=function(E){return b(E)},u.allocUnsafeSlow=function(E){return b(E)};function R(E,m){if((typeof m!="string"||m==="")&&(m="utf8"),!u.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const g=ae(E,m)|0;let U=p(g);const ee=U.write(E,m);return ee!==g&&(U=U.slice(0,ee)),U}function T(E){const m=E.length<0?0:se(E.length)|0,g=p(m);for(let U=0;U<m;U+=1)g[U]=E[U]&255;return g}function v(E){if(oe(E,Uint8Array)){const m=new Uint8Array(E);return G(m.buffer,m.byteOffset,m.byteLength)}return T(E)}function G(E,m,g){if(m<0||E.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<m+(g||0))throw new RangeError('"length" is outside of buffer bounds');let U;return m===void 0&&g===void 0?U=new Uint8Array(E):g===void 0?U=new Uint8Array(E,m):U=new Uint8Array(E,m,g),Object.setPrototypeOf(U,u.prototype),U}function Y(E){if(u.isBuffer(E)){const m=se(E.length)|0,g=p(m);return g.length===0||E.copy(g,0,0,m),g}if(E.length!==void 0)return typeof E.length!="number"||Se(E.length)?p(0):T(E);if(E.type==="Buffer"&&Array.isArray(E.data))return T(E.data)}function se(E){if(E>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return E|0}function ne(E){return+E!=E&&(E=0),u.alloc(+E)}u.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==u.prototype},u.compare=function(m,g){if(oe(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),oe(g,Uint8Array)&&(g=u.from(g,g.offset,g.byteLength)),!u.isBuffer(m)||!u.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===g)return 0;let U=m.length,ee=g.length;for(let ye=0,pe=Math.min(U,ee);ye<pe;++ye)if(m[ye]!==g[ye]){U=m[ye],ee=g[ye];break}return U<ee?-1:ee<U?1:0},u.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(m,g){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return u.alloc(0);let U;if(g===void 0)for(g=0,U=0;U<m.length;++U)g+=m[U].length;const ee=u.allocUnsafe(g);let ye=0;for(U=0;U<m.length;++U){let pe=m[U];if(oe(pe,Uint8Array))ye+pe.length>ee.length?(u.isBuffer(pe)||(pe=u.from(pe)),pe.copy(ee,ye)):Uint8Array.prototype.set.call(ee,pe,ye);else if(u.isBuffer(pe))pe.copy(ee,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=pe.length}return ee};function ae(E,m){if(u.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||oe(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const g=E.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&g===0)return 0;let ee=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return h(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return I(E).length;default:if(ee)return U?-1:h(E).length;m=(""+m).toLowerCase(),ee=!0}}u.byteLength=ae;function be(E,m,g){let U=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,m>>>=0,g<=m))return"";for(E||(E="utf8");;)switch(E){case"hex":return xe(this,m,g);case"utf8":case"utf-8":return P(this,m,g);case"ascii":return fe(this,m,g);case"latin1":case"binary":return re(this,m,g);case"base64":return _(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,m,g);default:if(U)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),U=!0}}u.prototype._isBuffer=!0;function j(E,m,g){const U=E[m];E[m]=E[g],E[g]=U}u.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<m;g+=2)j(this,g,g+1);return this},u.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<m;g+=4)j(this,g,g+3),j(this,g+1,g+2);return this},u.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<m;g+=8)j(this,g,g+7),j(this,g+1,g+6),j(this,g+2,g+5),j(this,g+3,g+4);return this},u.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?P(this,0,m):be.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(m){if(!u.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:u.compare(this,m)===0},u.prototype.inspect=function(){let m="";const g=r.INSPECT_MAX_BYTES;return m=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(m+=" ... "),"<Buffer "+m+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(m,g,U,ee,ye){if(oe(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(g===void 0&&(g=0),U===void 0&&(U=m?m.length:0),ee===void 0&&(ee=0),ye===void 0&&(ye=this.length),g<0||U>m.length||ee<0||ye>this.length)throw new RangeError("out of range index");if(ee>=ye&&g>=U)return 0;if(ee>=ye)return-1;if(g>=U)return 1;if(g>>>=0,U>>>=0,ee>>>=0,ye>>>=0,this===m)return 0;let pe=ye-ee,De=U-g;const Be=Math.min(pe,De),Pe=this.slice(ee,ye),We=m.slice(g,U);for(let Xe=0;Xe<Be;++Xe)if(Pe[Xe]!==We[Xe]){pe=Pe[Xe],De=We[Xe];break}return pe<De?-1:De<pe?1:0};function ie(E,m,g,U,ee){if(E.length===0)return-1;if(typeof g=="string"?(U=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Se(g)&&(g=ee?0:E.length-1),g<0&&(g=E.length+g),g>=E.length){if(ee)return-1;g=E.length-1}else if(g<0)if(ee)g=0;else return-1;if(typeof m=="string"&&(m=u.from(m,U)),u.isBuffer(m))return m.length===0?-1:ce(E,m,g,U,ee);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(E,m,g):Uint8Array.prototype.lastIndexOf.call(E,m,g):ce(E,[m],g,U,ee);throw new TypeError("val must be string, number or Buffer")}function ce(E,m,g,U,ee){let ye=1,pe=E.length,De=m.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(E.length<2||m.length<2)return-1;ye=2,pe/=2,De/=2,g/=2}function Be(We,Xe){return ye===1?We[Xe]:We.readUInt16BE(Xe*ye)}let Pe;if(ee){let We=-1;for(Pe=g;Pe<pe;Pe++)if(Be(E,Pe)===Be(m,We===-1?0:Pe-We)){if(We===-1&&(We=Pe),Pe-We+1===De)return We*ye}else We!==-1&&(Pe-=Pe-We),We=-1}else for(g+De>pe&&(g=pe-De),Pe=g;Pe>=0;Pe--){let We=!0;for(let Xe=0;Xe<De;Xe++)if(Be(E,Pe+Xe)!==Be(m,Xe)){We=!1;break}if(We)return Pe}return-1}u.prototype.includes=function(m,g,U){return this.indexOf(m,g,U)!==-1},u.prototype.indexOf=function(m,g,U){return ie(this,m,g,U,!0)},u.prototype.lastIndexOf=function(m,g,U){return ie(this,m,g,U,!1)};function M(E,m,g,U){g=Number(g)||0;const ee=E.length-g;U?(U=Number(U),U>ee&&(U=ee)):U=ee;const ye=m.length;U>ye/2&&(U=ye/2);let pe;for(pe=0;pe<U;++pe){const De=parseInt(m.substr(pe*2,2),16);if(Se(De))return pe;E[g+pe]=De}return pe}function $(E,m,g,U){return q(h(m,E.length-g),E,g,U)}function W(E,m,g,U){return q(c(m),E,g,U)}function he(E,m,g,U){return q(I(m),E,g,U)}function ve(E,m,g,U){return q(S(m,E.length-g),E,g,U)}u.prototype.write=function(m,g,U,ee){if(g===void 0)ee="utf8",U=this.length,g=0;else if(U===void 0&&typeof g=="string")ee=g,U=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(U)?(U=U>>>0,ee===void 0&&(ee="utf8")):(ee=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-g;if((U===void 0||U>ye)&&(U=ye),m.length>0&&(U<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let pe=!1;for(;;)switch(ee){case"hex":return M(this,m,g,U);case"utf8":case"utf-8":return $(this,m,g,U);case"ascii":case"latin1":case"binary":return W(this,m,g,U);case"base64":return he(this,m,g,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,m,g,U);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(E,m,g){return m===0&&g===E.length?n.fromByteArray(E):n.fromByteArray(E.slice(m,g))}function P(E,m,g){g=Math.min(E.length,g);const U=[];let ee=m;for(;ee<g;){const ye=E[ee];let pe=null,De=ye>239?4:ye>223?3:ye>191?2:1;if(ee+De<=g){let Be,Pe,We,Xe;switch(De){case 1:ye<128&&(pe=ye);break;case 2:Be=E[ee+1],(Be&192)===128&&(Xe=(ye&31)<<6|Be&63,Xe>127&&(pe=Xe));break;case 3:Be=E[ee+1],Pe=E[ee+2],(Be&192)===128&&(Pe&192)===128&&(Xe=(ye&15)<<12|(Be&63)<<6|Pe&63,Xe>2047&&(Xe<55296||Xe>57343)&&(pe=Xe));break;case 4:Be=E[ee+1],Pe=E[ee+2],We=E[ee+3],(Be&192)===128&&(Pe&192)===128&&(We&192)===128&&(Xe=(ye&15)<<18|(Be&63)<<12|(Pe&63)<<6|We&63,Xe>65535&&Xe<1114112&&(pe=Xe))}}pe===null?(pe=65533,De=1):pe>65535&&(pe-=65536,U.push(pe>>>10&1023|55296),pe=56320|pe&1023),U.push(pe),ee+=De}return J(U)}const L=4096;function J(E){const m=E.length;if(m<=L)return String.fromCharCode.apply(String,E);let g="",U=0;for(;U<m;)g+=String.fromCharCode.apply(String,E.slice(U,U+=L));return g}function fe(E,m,g){let U="";g=Math.min(E.length,g);for(let ee=m;ee<g;++ee)U+=String.fromCharCode(E[ee]&127);return U}function re(E,m,g){let U="";g=Math.min(E.length,g);for(let ee=m;ee<g;++ee)U+=String.fromCharCode(E[ee]);return U}function xe(E,m,g){const U=E.length;(!m||m<0)&&(m=0),(!g||g<0||g>U)&&(g=U);let ee="";for(let ye=m;ye<g;++ye)ee+=Ie[E[ye]];return ee}function _e(E,m,g){const U=E.slice(m,g);let ee="";for(let ye=0;ye<U.length-1;ye+=2)ee+=String.fromCharCode(U[ye]+U[ye+1]*256);return ee}u.prototype.slice=function(m,g){const U=this.length;m=~~m,g=g===void 0?U:~~g,m<0?(m+=U,m<0&&(m=0)):m>U&&(m=U),g<0?(g+=U,g<0&&(g=0)):g>U&&(g=U),g<m&&(g=m);const ee=this.subarray(m,g);return Object.setPrototypeOf(ee,u.prototype),ee};function z(E,m,g){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+m>g)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(m,g,U){m=m>>>0,g=g>>>0,U||z(m,g,this.length);let ee=this[m],ye=1,pe=0;for(;++pe<g&&(ye*=256);)ee+=this[m+pe]*ye;return ee},u.prototype.readUintBE=u.prototype.readUIntBE=function(m,g,U){m=m>>>0,g=g>>>0,U||z(m,g,this.length);let ee=this[m+--g],ye=1;for(;g>0&&(ye*=256);)ee+=this[m+--g]*ye;return ee},u.prototype.readUint8=u.prototype.readUInt8=function(m,g){return m=m>>>0,g||z(m,1,this.length),this[m]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(m,g){return m=m>>>0,g||z(m,2,this.length),this[m]|this[m+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(m,g){return m=m>>>0,g||z(m,2,this.length),this[m]<<8|this[m+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(m,g){return m=m>>>0,g||z(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(m,g){return m=m>>>0,g||z(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},u.prototype.readBigUInt64LE=Ce(function(m){m=m>>>0,D(m,"offset");const g=this[m],U=this[m+7];(g===void 0||U===void 0)&&K(m,this.length-8);const ee=g+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,ye=this[++m]+this[++m]*2**8+this[++m]*2**16+U*2**24;return BigInt(ee)+(BigInt(ye)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ce(function(m){m=m>>>0,D(m,"offset");const g=this[m],U=this[m+7];(g===void 0||U===void 0)&&K(m,this.length-8);const ee=g*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],ye=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+U;return(BigInt(ee)<<BigInt(32))+BigInt(ye)}),u.prototype.readIntLE=function(m,g,U){m=m>>>0,g=g>>>0,U||z(m,g,this.length);let ee=this[m],ye=1,pe=0;for(;++pe<g&&(ye*=256);)ee+=this[m+pe]*ye;return ye*=128,ee>=ye&&(ee-=Math.pow(2,8*g)),ee},u.prototype.readIntBE=function(m,g,U){m=m>>>0,g=g>>>0,U||z(m,g,this.length);let ee=g,ye=1,pe=this[m+--ee];for(;ee>0&&(ye*=256);)pe+=this[m+--ee]*ye;return ye*=128,pe>=ye&&(pe-=Math.pow(2,8*g)),pe},u.prototype.readInt8=function(m,g){return m=m>>>0,g||z(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},u.prototype.readInt16LE=function(m,g){m=m>>>0,g||z(m,2,this.length);const U=this[m]|this[m+1]<<8;return U&32768?U|4294901760:U},u.prototype.readInt16BE=function(m,g){m=m>>>0,g||z(m,2,this.length);const U=this[m+1]|this[m]<<8;return U&32768?U|4294901760:U},u.prototype.readInt32LE=function(m,g){return m=m>>>0,g||z(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},u.prototype.readInt32BE=function(m,g){return m=m>>>0,g||z(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},u.prototype.readBigInt64LE=Ce(function(m){m=m>>>0,D(m,"offset");const g=this[m],U=this[m+7];(g===void 0||U===void 0)&&K(m,this.length-8);const ee=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(U<<24);return(BigInt(ee)<<BigInt(32))+BigInt(g+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),u.prototype.readBigInt64BE=Ce(function(m){m=m>>>0,D(m,"offset");const g=this[m],U=this[m+7];(g===void 0||U===void 0)&&K(m,this.length-8);const ee=(g<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(ee)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+U)}),u.prototype.readFloatLE=function(m,g){return m=m>>>0,g||z(m,4,this.length),i.read(this,m,!0,23,4)},u.prototype.readFloatBE=function(m,g){return m=m>>>0,g||z(m,4,this.length),i.read(this,m,!1,23,4)},u.prototype.readDoubleLE=function(m,g){return m=m>>>0,g||z(m,8,this.length),i.read(this,m,!0,52,8)},u.prototype.readDoubleBE=function(m,g){return m=m>>>0,g||z(m,8,this.length),i.read(this,m,!1,52,8)};function le(E,m,g,U,ee,ye){if(!u.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>ee||m<ye)throw new RangeError('"value" argument is out of bounds');if(g+U>E.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(m,g,U,ee){if(m=+m,g=g>>>0,U=U>>>0,!ee){const De=Math.pow(2,8*U)-1;le(this,m,g,U,De,0)}let ye=1,pe=0;for(this[g]=m&255;++pe<U&&(ye*=256);)this[g+pe]=m/ye&255;return g+U},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(m,g,U,ee){if(m=+m,g=g>>>0,U=U>>>0,!ee){const De=Math.pow(2,8*U)-1;le(this,m,g,U,De,0)}let ye=U-1,pe=1;for(this[g+ye]=m&255;--ye>=0&&(pe*=256);)this[g+ye]=m/pe&255;return g+U},u.prototype.writeUint8=u.prototype.writeUInt8=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,1,255,0),this[g]=m&255,g+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,2,65535,0),this[g]=m&255,this[g+1]=m>>>8,g+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,2,65535,0),this[g]=m>>>8,this[g+1]=m&255,g+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,4,4294967295,0),this[g+3]=m>>>24,this[g+2]=m>>>16,this[g+1]=m>>>8,this[g]=m&255,g+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,4,4294967295,0),this[g]=m>>>24,this[g+1]=m>>>16,this[g+2]=m>>>8,this[g+3]=m&255,g+4};function Fe(E,m,g,U,ee){V(m,U,ee,E,g,7);let ye=Number(m&BigInt(4294967295));E[g++]=ye,ye=ye>>8,E[g++]=ye,ye=ye>>8,E[g++]=ye,ye=ye>>8,E[g++]=ye;let pe=Number(m>>BigInt(32)&BigInt(4294967295));return E[g++]=pe,pe=pe>>8,E[g++]=pe,pe=pe>>8,E[g++]=pe,pe=pe>>8,E[g++]=pe,g}function F(E,m,g,U,ee){V(m,U,ee,E,g,7);let ye=Number(m&BigInt(4294967295));E[g+7]=ye,ye=ye>>8,E[g+6]=ye,ye=ye>>8,E[g+5]=ye,ye=ye>>8,E[g+4]=ye;let pe=Number(m>>BigInt(32)&BigInt(4294967295));return E[g+3]=pe,pe=pe>>8,E[g+2]=pe,pe=pe>>8,E[g+1]=pe,pe=pe>>8,E[g]=pe,g+8}u.prototype.writeBigUInt64LE=Ce(function(m,g=0){return Fe(this,m,g,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ce(function(m,g=0){return F(this,m,g,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(m,g,U,ee){if(m=+m,g=g>>>0,!ee){const Be=Math.pow(2,8*U-1);le(this,m,g,U,Be-1,-Be)}let ye=0,pe=1,De=0;for(this[g]=m&255;++ye<U&&(pe*=256);)m<0&&De===0&&this[g+ye-1]!==0&&(De=1),this[g+ye]=(m/pe>>0)-De&255;return g+U},u.prototype.writeIntBE=function(m,g,U,ee){if(m=+m,g=g>>>0,!ee){const Be=Math.pow(2,8*U-1);le(this,m,g,U,Be-1,-Be)}let ye=U-1,pe=1,De=0;for(this[g+ye]=m&255;--ye>=0&&(pe*=256);)m<0&&De===0&&this[g+ye+1]!==0&&(De=1),this[g+ye]=(m/pe>>0)-De&255;return g+U},u.prototype.writeInt8=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,1,127,-128),m<0&&(m=255+m+1),this[g]=m&255,g+1},u.prototype.writeInt16LE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,2,32767,-32768),this[g]=m&255,this[g+1]=m>>>8,g+2},u.prototype.writeInt16BE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,2,32767,-32768),this[g]=m>>>8,this[g+1]=m&255,g+2},u.prototype.writeInt32LE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,4,2147483647,-2147483648),this[g]=m&255,this[g+1]=m>>>8,this[g+2]=m>>>16,this[g+3]=m>>>24,g+4},u.prototype.writeInt32BE=function(m,g,U){return m=+m,g=g>>>0,U||le(this,m,g,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[g]=m>>>24,this[g+1]=m>>>16,this[g+2]=m>>>8,this[g+3]=m&255,g+4},u.prototype.writeBigInt64LE=Ce(function(m,g=0){return Fe(this,m,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ce(function(m,g=0){return F(this,m,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oe(E,m,g,U,ee,ye){if(g+U>E.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function $e(E,m,g,U,ee){return m=+m,g=g>>>0,ee||Oe(E,m,g,4),i.write(E,m,g,U,23,4),g+4}u.prototype.writeFloatLE=function(m,g,U){return $e(this,m,g,!0,U)},u.prototype.writeFloatBE=function(m,g,U){return $e(this,m,g,!1,U)};function Ee(E,m,g,U,ee){return m=+m,g=g>>>0,ee||Oe(E,m,g,8),i.write(E,m,g,U,52,8),g+8}u.prototype.writeDoubleLE=function(m,g,U){return Ee(this,m,g,!0,U)},u.prototype.writeDoubleBE=function(m,g,U){return Ee(this,m,g,!1,U)},u.prototype.copy=function(m,g,U,ee){if(!u.isBuffer(m))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ee&&ee!==0&&(ee=this.length),g>=m.length&&(g=m.length),g||(g=0),ee>0&&ee<U&&(ee=U),ee===U||m.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),m.length-g<ee-U&&(ee=m.length-g+U);const ye=ee-U;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,U,ee):Uint8Array.prototype.set.call(m,this.subarray(U,ee),g),ye},u.prototype.fill=function(m,g,U,ee){if(typeof m=="string"){if(typeof g=="string"?(ee=g,g=0,U=this.length):typeof U=="string"&&(ee=U,U=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!u.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(m.length===1){const pe=m.charCodeAt(0);(ee==="utf8"&&pe<128||ee==="latin1")&&(m=pe)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(g<0||this.length<g||this.length<U)throw new RangeError("Out of range index");if(U<=g)return this;g=g>>>0,U=U===void 0?this.length:U>>>0,m||(m=0);let ye;if(typeof m=="number")for(ye=g;ye<U;++ye)this[ye]=m;else{const pe=u.isBuffer(m)?m:u.from(m,ee),De=pe.length;if(De===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ye=0;ye<U-g;++ye)this[ye+g]=pe[ye%De]}return this};const de={};function we(E,m,g){de[E]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(E,m){return`The "${E}" argument must be of type number. Received type ${typeof m}`},TypeError),we("ERR_OUT_OF_RANGE",function(E,m,g){let U=`The value of "${E}" is out of range.`,ee=g;return Number.isInteger(g)&&Math.abs(g)>2**32?ee=B(String(g)):typeof g=="bigint"&&(ee=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(ee=B(ee)),ee+="n"),U+=` It must be ${m}. Received ${ee}`,U},RangeError);function B(E){let m="",g=E.length;const U=E[0]==="-"?1:0;for(;g>=U+4;g-=3)m=`_${E.slice(g-3,g)}${m}`;return`${E.slice(0,g)}${m}`}function O(E,m,g){D(m,"offset"),(E[m]===void 0||E[m+g]===void 0)&&K(m,E.length-(g+1))}function V(E,m,g,U,ee,ye){if(E>g||E<m){const pe=typeof m=="bigint"?"n":"";let De;throw m===0||m===BigInt(0)?De=`>= 0${pe} and < 2${pe} ** ${(ye+1)*8}${pe}`:De=`>= -(2${pe} ** ${(ye+1)*8-1}${pe}) and < 2 ** ${(ye+1)*8-1}${pe}`,new de.ERR_OUT_OF_RANGE("value",De,E)}O(U,ee,ye)}function D(E,m){if(typeof E!="number")throw new de.ERR_INVALID_ARG_TYPE(m,"number",E)}function K(E,m,g){throw Math.floor(E)!==E?(D(E,g),new de.ERR_OUT_OF_RANGE("offset","an integer",E)):m<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,E)}const Z=/[^+/0-9A-Za-z-_]/g;function x(E){if(E=E.split("=")[0],E=E.trim().replace(Z,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function h(E,m){m=m||1/0;let g;const U=E.length;let ee=null;const ye=[];for(let pe=0;pe<U;++pe){if(g=E.charCodeAt(pe),g>55295&&g<57344){if(!ee){if(g>56319){(m-=3)>-1&&ye.push(239,191,189);continue}else if(pe+1===U){(m-=3)>-1&&ye.push(239,191,189);continue}ee=g;continue}if(g<56320){(m-=3)>-1&&ye.push(239,191,189),ee=g;continue}g=(ee-55296<<10|g-56320)+65536}else ee&&(m-=3)>-1&&ye.push(239,191,189);if(ee=null,g<128){if((m-=1)<0)break;ye.push(g)}else if(g<2048){if((m-=2)<0)break;ye.push(g>>6|192,g&63|128)}else if(g<65536){if((m-=3)<0)break;ye.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((m-=4)<0)break;ye.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return ye}function c(E){const m=[];for(let g=0;g<E.length;++g)m.push(E.charCodeAt(g)&255);return m}function S(E,m){let g,U,ee;const ye=[];for(let pe=0;pe<E.length&&!((m-=2)<0);++pe)g=E.charCodeAt(pe),U=g>>8,ee=g%256,ye.push(ee),ye.push(U);return ye}function I(E){return n.toByteArray(x(E))}function q(E,m,g,U){let ee;for(ee=0;ee<U&&!(ee+g>=m.length||ee>=E.length);++ee)m[ee+g]=E[ee];return ee}function oe(E,m){return E instanceof m||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===m.name}function Se(E){return E!==E}const Ie=function(){const E="0123456789abcdef",m=new Array(256);for(let g=0;g<16;++g){const U=g*16;for(let ee=0;ee<16;++ee)m[U+ee]=E[g]+E[ee]}return m}();function Ce(E){return typeof BigInt>"u"?Me:E}function Me(){throw new Error("BigInt not supported")}}(rf)),rf}var tw=ew(),jf;(function(r){r[r.SysFatal=1]="SysFatal",r[r.SysTransient=2]="SysTransient",r[r.DestinationInvalid=3]="DestinationInvalid",r[r.CanisterReject=4]="CanisterReject",r[r.CanisterError=5]="CanisterError"})(jf||(jf={}));const rw="modulepreload",nw=function(r){return"/"+r},tp={},iw=function(n,i,o){let l=Promise.resolve();if(i&&i.length>0){let N=function(k){return Promise.all(k.map(b=>Promise.resolve(b).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var p=N;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),w=u?.nonce||u?.getAttribute("nonce");l=N(i.map(k=>{if(k=nw(k),k in tp)return;tp[k]=!0;const b=k.endsWith(".css"),R=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${R}`))return;const T=document.createElement("link");if(T.rel=b?"stylesheet":rw,b||(T.as="script"),T.crossOrigin="",T.href=k,w&&T.setAttribute("nonce",w),document.head.appendChild(T),b)return new Promise((v,G)=>{T.addEventListener("load",v),T.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${k}`)))})}))}function d(u){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=u,window.dispatchEvent(w),!w.defaultPrevented)throw u}return l.then(u=>{for(const w of u||[])w.status==="rejected"&&d(w.reason);return n().catch(d)})},Ul="abcdefghijklmnopqrstuvwxyz234567",Is=Object.create(null);for(let r=0;r<Ul.length;r++)Is[Ul[r]]=r;Is[0]=Is.o;Is[1]=Is.i;function sw(r){let n=0,i=0,o="";function l(d){return n<0?i|=d>>-n:i=d<<n&248,n>3?(n-=8,1):(n<4&&(o+=Ul[i>>3],n+=5),0)}for(let d=0;d<r.length;)d+=l(r[d]);return o+(n<0?Ul[i>>3]:"")}function ow(r){let n=0,i=0;const o=new Uint8Array(r.length*4/3|0);let l=0;function d(p){let u=Is[p.toLowerCase()];if(u===void 0)throw new Error(`Invalid character: ${JSON.stringify(p)}`);u<<=3,i|=u>>>n,n+=5,n>=8&&(o[l++]=i,n-=8,n>0?i=u<<5-n&255:i=0)}for(const p of r)d(p);return o.slice(0,l)}const aw=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function lw(r){const n=new Uint8Array(r);let i=-1;for(let o=0;o<n.length;o++){const d=(n[o]^i)&255;i=aw[d]^i>>>8}return(i^-1)>>>0}const ds=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rd(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function uw(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function qt(r,...n){if(!rd(r))throw new Error("Uint8Array expected");if(n.length>0&&!n.includes(r.length))throw new Error("Uint8Array expected of length "+n+", got length="+r.length)}function rp(r,n=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(n&&r.finished)throw new Error("Hash#digest() has already been called")}function cw(r,n){qt(r);const i=n.outputLen;if(r.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function Fo(...r){for(let n=0;n<r.length;n++)r[n].fill(0)}function nf(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Dr(r,n){return r<<32-n|r>>>n}const dm=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fw=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));function Fs(r){if(qt(r),dm)return r.toHex();let n="";for(let i=0;i<r.length;i++)n+=fw[r[i]];return n}const hn={_0:48,_9:57,A:65,F:70,a:97,f:102};function np(r){if(r>=hn._0&&r<=hn._9)return r-hn._0;if(r>=hn.A&&r<=hn.F)return r-(hn.A-10);if(r>=hn.a&&r<=hn.f)return r-(hn.a-10)}function hm(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(dm)return Uint8Array.fromHex(r);const n=r.length,i=n/2;if(n%2)throw new Error("hex string expected, got unpadded hex of length "+n);const o=new Uint8Array(i);for(let l=0,d=0;l<i;l++,d+=2){const p=np(r.charCodeAt(d)),u=np(r.charCodeAt(d+1));if(p===void 0||u===void 0){const w=r[d]+r[d+1];throw new Error('hex string expected, got non-hex character "'+w+'" at index '+d)}o[l]=p*16+u}return o}function Dl(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function pm(r){return typeof r=="string"&&(r=Dl(r)),qt(r),r}function St(...r){let n=0;for(let o=0;o<r.length;o++){const l=r[o];qt(l),n+=l.length}const i=new Uint8Array(n);for(let o=0,l=0;o<r.length;o++){const d=r[o];i.set(d,l),l+=d.length}return i}class dw{}function nd(r){const n=o=>r().update(pm(o)).digest(),i=r();return n.outputLen=i.outputLen,n.blockLen=i.blockLen,n.create=()=>r(),n}function mm(r=32){if(ds&&typeof ds.getRandomValues=="function")return ds.getRandomValues(new Uint8Array(r));if(ds&&typeof ds.randomBytes=="function")return Uint8Array.from(ds.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function hw(r,n,i,o){if(typeof r.setBigUint64=="function")return r.setBigUint64(n,i,o);const l=BigInt(32),d=BigInt(4294967295),p=Number(i>>l&d),u=Number(i&d),w=o?4:0,N=o?0:4;r.setUint32(n+w,p,o),r.setUint32(n+N,u,o)}function pw(r,n,i){return r&n^~r&i}function mw(r,n,i){return r&n^r&i^n&i}class ym extends dw{constructor(n,i,o,l){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=n,this.outputLen=i,this.padOffset=o,this.isLE=l,this.buffer=new Uint8Array(n),this.view=nf(this.buffer)}update(n){rp(this),n=pm(n),qt(n);const{view:i,buffer:o,blockLen:l}=this,d=n.length;for(let p=0;p<d;){const u=Math.min(l-this.pos,d-p);if(u===l){const w=nf(n);for(;l<=d-p;p+=l)this.process(w,p);continue}o.set(n.subarray(p,p+u),this.pos),this.pos+=u,p+=u,this.pos===l&&(this.process(i,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){rp(this),cw(n,this),this.finished=!0;const{buffer:i,view:o,blockLen:l,isLE:d}=this;let{pos:p}=this;i[p++]=128,Fo(this.buffer.subarray(p)),this.padOffset>l-p&&(this.process(o,0),p=0);for(let b=p;b<l;b++)i[b]=0;hw(o,l-8,BigInt(this.length*8),d),this.process(o,0);const u=nf(n),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const N=w/4,k=this.get();if(N>k.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<N;b++)u.setUint32(4*b,k[b],d)}digest(){const{buffer:n,outputLen:i}=this;this.digestInto(n);const o=n.slice(0,i);return this.destroy(),o}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:i,buffer:o,length:l,finished:d,destroyed:p,pos:u}=this;return n.destroyed=p,n.finished=d,n.length=l,n.pos=u,l%i&&n.buffer.set(o),n}clone(){return this._cloneInto()}}const Wn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ln=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Kt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nl=BigInt(2**32-1),ip=BigInt(32);function yw(r,n=!1){return n?{h:Number(r&nl),l:Number(r>>ip&nl)}:{h:Number(r>>ip&nl)|0,l:Number(r&nl)|0}}function gw(r,n=!1){const i=r.length;let o=new Uint32Array(i),l=new Uint32Array(i);for(let d=0;d<i;d++){const{h:p,l:u}=yw(r[d],n);[o[d],l[d]]=[p,u]}return[o,l]}const sp=(r,n,i)=>r>>>i,op=(r,n,i)=>r<<32-i|n>>>i,hs=(r,n,i)=>r>>>i|n<<32-i,ps=(r,n,i)=>r<<32-i|n>>>i,il=(r,n,i)=>r<<64-i|n>>>i-32,sl=(r,n,i)=>r>>>i-32|n<<64-i;function pn(r,n,i,o){const l=(n>>>0)+(o>>>0);return{h:r+i+(l/2**32|0)|0,l:l|0}}const ww=(r,n,i)=>(r>>>0)+(n>>>0)+(i>>>0),vw=(r,n,i,o)=>n+i+o+(r/2**32|0)|0,xw=(r,n,i,o)=>(r>>>0)+(n>>>0)+(i>>>0)+(o>>>0),_w=(r,n,i,o,l)=>n+i+o+l+(r/2**32|0)|0,bw=(r,n,i,o,l)=>(r>>>0)+(n>>>0)+(i>>>0)+(o>>>0)+(l>>>0),Ew=(r,n,i,o,l,d)=>n+i+o+l+d+(r/2**32|0)|0,Sw=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kn=new Uint32Array(64);class gm extends ym{constructor(n=32){super(64,n,8,!1),this.A=Wn[0]|0,this.B=Wn[1]|0,this.C=Wn[2]|0,this.D=Wn[3]|0,this.E=Wn[4]|0,this.F=Wn[5]|0,this.G=Wn[6]|0,this.H=Wn[7]|0}get(){const{A:n,B:i,C:o,D:l,E:d,F:p,G:u,H:w}=this;return[n,i,o,l,d,p,u,w]}set(n,i,o,l,d,p,u,w){this.A=n|0,this.B=i|0,this.C=o|0,this.D=l|0,this.E=d|0,this.F=p|0,this.G=u|0,this.H=w|0}process(n,i){for(let b=0;b<16;b++,i+=4)Kn[b]=n.getUint32(i,!1);for(let b=16;b<64;b++){const R=Kn[b-15],T=Kn[b-2],v=Dr(R,7)^Dr(R,18)^R>>>3,G=Dr(T,17)^Dr(T,19)^T>>>10;Kn[b]=G+Kn[b-7]+v+Kn[b-16]|0}let{A:o,B:l,C:d,D:p,E:u,F:w,G:N,H:k}=this;for(let b=0;b<64;b++){const R=Dr(u,6)^Dr(u,11)^Dr(u,25),T=k+R+pw(u,w,N)+Sw[b]+Kn[b]|0,G=(Dr(o,2)^Dr(o,13)^Dr(o,22))+mw(o,l,d)|0;k=N,N=w,w=u,u=p+T|0,p=d,d=l,l=o,o=T+G|0}o=o+this.A|0,l=l+this.B|0,d=d+this.C|0,p=p+this.D|0,u=u+this.E|0,w=w+this.F|0,N=N+this.G|0,k=k+this.H|0,this.set(o,l,d,p,u,w,N,k)}roundClean(){Fo(Kn)}destroy(){this.set(0,0,0,0,0,0,0,0),Fo(this.buffer)}}class Nw extends gm{constructor(){super(28),this.A=Ln[0]|0,this.B=Ln[1]|0,this.C=Ln[2]|0,this.D=Ln[3]|0,this.E=Ln[4]|0,this.F=Ln[5]|0,this.G=Ln[6]|0,this.H=Ln[7]|0}}const wm=gw(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Tw=wm[0],Aw=wm[1],Dn=new Uint32Array(80),Yn=new Uint32Array(80);class Bw extends ym{constructor(n=64){super(128,n,16,!1),this.Ah=Kt[0]|0,this.Al=Kt[1]|0,this.Bh=Kt[2]|0,this.Bl=Kt[3]|0,this.Ch=Kt[4]|0,this.Cl=Kt[5]|0,this.Dh=Kt[6]|0,this.Dl=Kt[7]|0,this.Eh=Kt[8]|0,this.El=Kt[9]|0,this.Fh=Kt[10]|0,this.Fl=Kt[11]|0,this.Gh=Kt[12]|0,this.Gl=Kt[13]|0,this.Hh=Kt[14]|0,this.Hl=Kt[15]|0}get(){const{Ah:n,Al:i,Bh:o,Bl:l,Ch:d,Cl:p,Dh:u,Dl:w,Eh:N,El:k,Fh:b,Fl:R,Gh:T,Gl:v,Hh:G,Hl:Y}=this;return[n,i,o,l,d,p,u,w,N,k,b,R,T,v,G,Y]}set(n,i,o,l,d,p,u,w,N,k,b,R,T,v,G,Y){this.Ah=n|0,this.Al=i|0,this.Bh=o|0,this.Bl=l|0,this.Ch=d|0,this.Cl=p|0,this.Dh=u|0,this.Dl=w|0,this.Eh=N|0,this.El=k|0,this.Fh=b|0,this.Fl=R|0,this.Gh=T|0,this.Gl=v|0,this.Hh=G|0,this.Hl=Y|0}process(n,i){for(let ae=0;ae<16;ae++,i+=4)Dn[ae]=n.getUint32(i),Yn[ae]=n.getUint32(i+=4);for(let ae=16;ae<80;ae++){const be=Dn[ae-15]|0,j=Yn[ae-15]|0,ie=hs(be,j,1)^hs(be,j,8)^sp(be,j,7),ce=ps(be,j,1)^ps(be,j,8)^op(be,j,7),M=Dn[ae-2]|0,$=Yn[ae-2]|0,W=hs(M,$,19)^il(M,$,61)^sp(M,$,6),he=ps(M,$,19)^sl(M,$,61)^op(M,$,6),ve=xw(ce,he,Yn[ae-7],Yn[ae-16]),_=_w(ve,ie,W,Dn[ae-7],Dn[ae-16]);Dn[ae]=_|0,Yn[ae]=ve|0}let{Ah:o,Al:l,Bh:d,Bl:p,Ch:u,Cl:w,Dh:N,Dl:k,Eh:b,El:R,Fh:T,Fl:v,Gh:G,Gl:Y,Hh:se,Hl:ne}=this;for(let ae=0;ae<80;ae++){const be=hs(b,R,14)^hs(b,R,18)^il(b,R,41),j=ps(b,R,14)^ps(b,R,18)^sl(b,R,41),ie=b&T^~b&G,ce=R&v^~R&Y,M=bw(ne,j,ce,Aw[ae],Yn[ae]),$=Ew(M,se,be,ie,Tw[ae],Dn[ae]),W=M|0,he=hs(o,l,28)^il(o,l,34)^il(o,l,39),ve=ps(o,l,28)^sl(o,l,34)^sl(o,l,39),_=o&d^o&u^d&u,P=l&p^l&w^p&w;se=G|0,ne=Y|0,G=T|0,Y=v|0,T=b|0,v=R|0,{h:b,l:R}=pn(N|0,k|0,$|0,W|0),N=u|0,k=w|0,u=d|0,w=p|0,d=o|0,p=l|0;const L=ww(W,ve,P);o=vw(L,$,he,_),l=L|0}({h:o,l}=pn(this.Ah|0,this.Al|0,o|0,l|0)),{h:d,l:p}=pn(this.Bh|0,this.Bl|0,d|0,p|0),{h:u,l:w}=pn(this.Ch|0,this.Cl|0,u|0,w|0),{h:N,l:k}=pn(this.Dh|0,this.Dl|0,N|0,k|0),{h:b,l:R}=pn(this.Eh|0,this.El|0,b|0,R|0),{h:T,l:v}=pn(this.Fh|0,this.Fl|0,T|0,v|0),{h:G,l:Y}=pn(this.Gh|0,this.Gl|0,G|0,Y|0),{h:se,l:ne}=pn(this.Hh|0,this.Hl|0,se|0,ne|0),this.set(o,l,d,p,u,w,N,k,b,R,T,v,G,Y,se,ne)}roundClean(){Fo(Dn,Yn)}destroy(){Fo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const id=nd(()=>new gm),kw=nd(()=>new Nw),Rw=nd(()=>new Bw),Iw=id,Fw=kw;function Ow(r){return Fw.create().update(new Uint8Array(r)).digest()}const ol="__principal__",Pw=2,ap=4,Uw="aaaaa-aa",Cw=r=>{var n;return new Uint8Array(((n=r.match(/.{1,2}/g))!==null&&n!==void 0?n:[]).map(i=>parseInt(i,16)))},Mw=r=>r.reduce((n,i)=>n+i.toString(16).padStart(2,"0"),"");let et=class dl{constructor(n){this._arr=n,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([ap]))}static managementCanister(){return this.fromText(Uw)}static selfAuthenticating(n){const i=Ow(n);return new this(new Uint8Array([...i,Pw]))}static from(n){if(typeof n=="string")return dl.fromText(n);if(Object.getPrototypeOf(n)===Uint8Array.prototype)return new dl(n);if(typeof n=="object"&&n!==null&&n._isPrincipal===!0)return new dl(n._arr);throw new Error(`Impossible to convert ${JSON.stringify(n)} to Principal.`)}static fromHex(n){return new this(Cw(n))}static fromText(n){let i=n;if(n.includes(ol)){const p=JSON.parse(n);ol in p&&(i=p[ol])}const o=i.toLowerCase().replace(/-/g,"");let l=ow(o);l=l.slice(4,l.length);const d=new this(l);if(d.toText()!==i)throw new Error(`Principal "${d.toText()}" does not have a valid checksum (original value "${i}" may not be a valid Principal ID).`);return d}static fromUint8Array(n){return new this(n)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===ap}toUint8Array(){return this._arr}toHex(){return Mw(this._arr).toUpperCase()}toText(){const n=new ArrayBuffer(4);new DataView(n).setUint32(0,lw(this._arr));const o=new Uint8Array(n),l=Uint8Array.from(this._arr),d=new Uint8Array([...o,...l]),u=sw(d).match(/.{1,5}/g);if(!u)throw new Error;return u.join("-")}toString(){return this.toText()}toJSON(){return{[ol]:this.toText()}}compareTo(n){for(let i=0;i<Math.min(this._arr.length,n._arr.length);i++){if(this._arr[i]<n._arr[i])return"lt";if(this._arr[i]>n._arr[i])return"gt"}return this._arr.length<n._arr.length?"lt":this._arr.length>n._arr.length?"gt":"eq"}ltEq(n){const i=this.compareTo(n);return i=="lt"||i=="eq"}gtEq(n){const i=this.compareTo(n);return i=="gt"||i=="eq"}};function $r(...r){const n=new Uint8Array(r.reduce((o,l)=>o+l.byteLength,0));let i=0;for(const o of r)n.set(new Uint8Array(o),i),i+=o.byteLength;return n.buffer}function yt(r){return[...new Uint8Array(r)].map(n=>n.toString(16).padStart(2,"0")).join("")}const jw=new RegExp(/^[0-9a-fA-F]+$/);function Sn(r){if(!jw.test(r))throw new Error("Invalid hexadecimal string.");const n=[...r].reduce((i,o,l)=>(i[l/2|0]=(i[l/2|0]||"")+o,i),[]).map(i=>Number.parseInt(i,16));return new Uint8Array(n).buffer}function vm(r,n){if(r.byteLength!==n.byteLength)return r.byteLength-n.byteLength;const i=new Uint8Array(r),o=new Uint8Array(n);for(let l=0;l<i.length;l++)if(i[l]!==o[l])return i[l]-o[l];return 0}function zo(r,n){return vm(r,n)===0}function ko(r){return new DataView(r.buffer,r.byteOffset,r.byteLength).buffer}function _n(r){return r instanceof Uint8Array?ko(r):r instanceof ArrayBuffer?r:Array.isArray(r)?ko(new Uint8Array(r)):"buffer"in r?_n(r.buffer):ko(new Uint8Array(r))}class _t extends Error{constructor(n){super(n),this.message=n,this.name="AgentError",this.__proto__=_t.prototype,Object.setPrototypeOf(this,_t.prototype)}}function ut(...r){const n=new Uint8Array(r.reduce((o,l)=>o+l.byteLength,0));let i=0;for(const o of r)n.set(new Uint8Array(o),i),i+=o.byteLength;return n}class Cs{constructor(n,i=n?.byteLength||0){this._buffer=Fi(n||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,i)}save(){return this._view}restore(n){this._view=n}get buffer(){return Fi(this._view.slice())}get byteLength(){return this._view.byteLength}read(n){const i=this._view.subarray(0,n);return this._view=this._view.subarray(n),i.slice().buffer}readUint8(){const n=this._view[0];return this._view=this._view.subarray(1),n}write(n){const i=new Uint8Array(n),o=this._view.byteLength;this._view.byteOffset+this._view.byteLength+i.byteLength>=this._buffer.byteLength?this.alloc(i.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+i.byteLength),this._view.set(i,o)}get end(){return this._view.byteLength===0}alloc(n){const i=new ArrayBuffer((this._buffer.byteLength+n)*1.2|0),o=new Uint8Array(i,0,this._view.byteLength+n);o.set(this._view),this._buffer=i,this._view=o}}function sf(r){return new DataView(r.buffer,r.byteOffset,r.byteLength).buffer}function Fi(r){return r instanceof Uint8Array?sf(r):r instanceof ArrayBuffer?r:Array.isArray(r)?sf(new Uint8Array(r)):"buffer"in r?Fi(r.buffer):sf(new Uint8Array(r))}function $w(r){const i=new TextEncoder().encode(r);let o=0;for(const l of i)o=(o*223+l)%2**32;return o}function tn(r){if(/^_\d+_$/.test(r)||/^_0x[0-9a-fA-F]+_$/.test(r)){const n=+r.slice(1,-1);if(Number.isSafeInteger(n)&&n>=0&&n<2**32)return n}return $w(r)}function xm(){throw new Error("unexpected end of buffer")}function Oi(r,n){return r.byteLength<n&&xm(),r.read(n)}function Pi(r){const n=r.readUint8();return n===void 0&&xm(),n}function bt(r){if(typeof r=="number"&&(r=BigInt(r)),r<BigInt(0))throw new Error("Cannot leb encode negative values.");const n=(r===BigInt(0)?0:Math.ceil(Math.log2(Number(r))))+1,i=new Cs(new ArrayBuffer(n),0);for(;;){const o=Number(r&BigInt(127));if(r/=BigInt(128),r===BigInt(0)){i.write(new Uint8Array([o]));break}else i.write(new Uint8Array([o|128]))}return i.buffer}function Ut(r){let n=BigInt(1),i=BigInt(0),o;do o=Pi(r),i+=BigInt(o&127).valueOf()*n,n*=BigInt(128);while(o>=128);return i}function It(r){typeof r=="number"&&(r=BigInt(r));const n=r<BigInt(0);n&&(r=-r-BigInt(1));const i=(r===BigInt(0)?0:Math.ceil(Math.log2(Number(r))))+1,o=new Cs(new ArrayBuffer(i),0);for(;;){const d=l(r);if(r/=BigInt(128),n&&r===BigInt(0)&&(d&64)!==0||!n&&r===BigInt(0)&&(d&64)===0){o.write(new Uint8Array([d]));break}else o.write(new Uint8Array([d|128]))}function l(d){const p=d%BigInt(128);return Number(n?BigInt(128)-p-BigInt(1):p)}return o.buffer}function Qn(r){const n=new Uint8Array(r.buffer);let i=0;for(;i<n.byteLength;i++)if(n[i]<128){if((n[i]&64)===0)return Ut(r);break}const o=new Uint8Array(Oi(r,i+1));let l=BigInt(0);for(let d=o.byteLength-1;d>=0;d--)l=l*BigInt(128)+BigInt(128-(o[d]&127)-1);return-l-BigInt(1)}function zw(r,n){if(BigInt(r)<BigInt(0))throw new Error("Cannot write negative values.");return _m(r,n)}function _m(r,n){r=BigInt(r);const i=new Cs(new ArrayBuffer(Math.min(1,n)),0);let o=0,l=BigInt(256),d=BigInt(0),p=Number(r%l);for(i.write(new Uint8Array([p]));++o<n;)r<0&&d===BigInt(0)&&p!==0&&(d=BigInt(1)),p=Number((r/l-d)%BigInt(256)),i.write(new Uint8Array([p])),l*=BigInt(256);return i.buffer}function bm(r,n){let i=BigInt(Pi(r)),o=BigInt(1),l=0;for(;++l<n;){o*=BigInt(256);const d=BigInt(Pi(r));i=i+o*d}return i}function Vw(r,n){let i=bm(r,n);const o=BigInt(2)**(BigInt(8)*BigInt(n-1)+BigInt(7));return i>=o&&(i-=o*BigInt(2)),i}function $f(r){const n=BigInt(r);if(r<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<n}const hl="DIDL",lp=400;function Oo(r,n,i){return r.map((o,l)=>i(o,n[l]))}class qw{constructor(){this._typs=[],this._idx=new Map}has(n){return this._idx.has(n.name)}add(n,i){const o=this._typs.length;this._idx.set(n.name,o),this._typs.push(i)}merge(n,i){const o=this._idx.get(n.name),l=this._idx.get(i);if(o===void 0)throw new Error("Missing type index for "+n);if(l===void 0)throw new Error("Missing type index for "+i);this._typs[o]=this._typs[l],this._typs.splice(l,1),this._idx.delete(i)}encode(){const n=bt(this._typs.length),i=ut(...this._typs);return ut(n,i)}indexOf(n){if(!this._idx.has(n))throw new Error("Missing type index for "+n);return It(this._idx.get(n)||0)}}class Hw{visitType(n,i){throw new Error("Not implemented")}visitPrimitive(n,i){return this.visitType(n,i)}visitEmpty(n,i){return this.visitPrimitive(n,i)}visitBool(n,i){return this.visitPrimitive(n,i)}visitNull(n,i){return this.visitPrimitive(n,i)}visitReserved(n,i){return this.visitPrimitive(n,i)}visitText(n,i){return this.visitPrimitive(n,i)}visitNumber(n,i){return this.visitPrimitive(n,i)}visitInt(n,i){return this.visitNumber(n,i)}visitNat(n,i){return this.visitNumber(n,i)}visitFloat(n,i){return this.visitPrimitive(n,i)}visitFixedInt(n,i){return this.visitNumber(n,i)}visitFixedNat(n,i){return this.visitNumber(n,i)}visitPrincipal(n,i){return this.visitPrimitive(n,i)}visitConstruct(n,i){return this.visitType(n,i)}visitVec(n,i,o){return this.visitConstruct(n,o)}visitOpt(n,i,o){return this.visitConstruct(n,o)}visitRecord(n,i,o){return this.visitConstruct(n,o)}visitTuple(n,i,o){const l=i.map((d,p)=>[`_${p}_`,d]);return this.visitRecord(n,l,o)}visitVariant(n,i,o){return this.visitConstruct(n,o)}visitRec(n,i,o){return this.visitConstruct(i,o)}visitFunc(n,i){return this.visitConstruct(n,i)}visitService(n,i){return this.visitConstruct(n,i)}}class Yl{display(){return this.name}valueToString(n){return Nt(n)}buildTypeTable(n){n.has(this)||this._buildTypeTableImpl(n)}}class Tr extends Yl{checkType(n){if(this.name!==n.name)throw new Error(`type mismatch: type on the wire ${n.name}, expect type ${this.name}`);return n}_buildTypeTableImpl(n){}}class oi extends Yl{checkType(n){if(n instanceof Nn){const i=n.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");return i}throw new Error(`type mismatch: type on the wire ${n.name}, expect type ${this.name}`)}encodeType(n){return n.indexOf(this.name)}}class Em extends Tr{accept(n,i){return n.visitEmpty(this,i)}covariant(n){throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return It(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Sm extends Yl{checkType(n){throw new Error("Method not implemented for unknown.")}accept(n,i){throw n.visitType(this,i)}covariant(n){throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(n,i){let o=i.decodeValue(n,i);Object(o)!==o&&(o=Object(o));let l;return i instanceof Nn?l=()=>i.getType():l=()=>i,Object.defineProperty(o,"type",{value:l,writable:!0,enumerable:!1,configurable:!0}),o}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class Nm extends Tr{accept(n,i){return n.visitBool(this,i)}covariant(n){if(typeof n=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return new Uint8Array([n?1:0])}encodeType(){return It(-2)}decodeValue(n,i){switch(this.checkType(i),Pi(n)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class Cl extends Tr{accept(n,i){return n.visitNull(this,i)}covariant(n){if(n===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return It(-1)}decodeValue(n,i){return this.checkType(i),null}get name(){return"null"}}class Os extends Tr{accept(n,i){return n.visitReserved(this,i)}covariant(n){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return It(-16)}decodeValue(n,i){return i.name!==this.name&&i.decodeValue(n,i),null}get name(){return"reserved"}}class Tm extends Tr{accept(n,i){return n.visitText(this,i)}covariant(n){if(typeof n=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=new TextEncoder().encode(n),o=bt(i.byteLength);return ut(o,i)}encodeType(){return It(-15)}decodeValue(n,i){this.checkType(i);const o=Ut(n),l=Oi(n,Number(o));return new TextDecoder("utf8",{fatal:!0}).decode(l)}get name(){return"text"}valueToString(n){return'"'+n+'"'}}class Am extends Tr{accept(n,i){return n.visitInt(this,i)}covariant(n){if(typeof n=="bigint"||Number.isInteger(n))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return It(n)}encodeType(){return It(-4)}decodeValue(n,i){return this.checkType(i),Qn(n)}get name(){return"int"}valueToString(n){return n.toString()}}class Bm extends Tr{accept(n,i){return n.visitNat(this,i)}covariant(n){if(typeof n=="bigint"&&n>=BigInt(0)||Number.isInteger(n)&&n>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return bt(n)}encodeType(){return It(-3)}decodeValue(n,i){return this.checkType(i),Ut(n)}get name(){return"nat"}valueToString(n){return n.toString()}}class sd extends Tr{constructor(n){if(super(),this._bits=n,n!==32&&n!==64)throw new Error("not a valid float type")}accept(n,i){return n.visitFloat(this,i)}covariant(n){if(typeof n=="number"||n instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=new ArrayBuffer(this._bits/8),o=new DataView(i);return this._bits===32?o.setFloat32(0,n,!0):o.setFloat64(0,n,!0),i}encodeType(){const n=this._bits===32?-13:-14;return It(n)}decodeValue(n,i){this.checkType(i);const o=Oi(n,this._bits/8),l=new DataView(o);return this._bits===32?l.getFloat32(0,!0):l.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(n){return n.toString()}}class Ui extends Tr{constructor(n){super(),this._bits=n}accept(n,i){return n.visitFixedInt(this,i)}covariant(n){const i=$f(this._bits-1)*BigInt(-1),o=$f(this._bits-1)-BigInt(1);let l=!1;if(typeof n=="bigint")l=n>=i&&n<=o;else if(Number.isInteger(n)){const d=BigInt(n);l=d>=i&&d<=o}else l=!1;if(l)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return _m(n,this._bits/8)}encodeType(){const n=Math.log2(this._bits)-3;return It(-9-n)}decodeValue(n,i){this.checkType(i);const o=Vw(n,this._bits/8);return this._bits<=32?Number(o):o}get name(){return`int${this._bits}`}valueToString(n){return n.toString()}}class ii extends Tr{constructor(n){super(),this._bits=n}accept(n,i){return n.visitFixedNat(this,i)}covariant(n){const i=$f(this._bits);let o=!1;if(typeof n=="bigint"&&n>=BigInt(0)?o=n<i:Number.isInteger(n)&&n>=0?o=BigInt(n)<i:o=!1,o)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return zw(n,this._bits/8)}encodeType(){const n=Math.log2(this._bits)-3;return It(-5-n)}decodeValue(n,i){this.checkType(i);const o=bm(n,this._bits/8);return this._bits<=32?Number(o):o}get name(){return`nat${this._bits}`}valueToString(n){return n.toString()}}class Zl extends oi{constructor(n){super(),this._type=n,this._blobOptimization=!1,n instanceof ii&&n._bits===8&&(this._blobOptimization=!0)}accept(n,i){return n.visitVec(this,this._type,i)}covariant(n){const i=this._type instanceof ii?this._type._bits:this._type instanceof Ui?this._type._bits:0;if(ArrayBuffer.isView(n)&&i==n.BYTES_PER_ELEMENT*8||Array.isArray(n)&&n.every((o,l)=>{try{return this._type.covariant(o)}catch(d){throw new Error(`Invalid ${this.display()} argument: 

index ${l} -> ${d.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=bt(n.length);if(this._blobOptimization)return ut(i,new Uint8Array(n));if(ArrayBuffer.isView(n))return ut(i,new Uint8Array(n.buffer));const o=new Cs(new ArrayBuffer(i.byteLength+n.length),0);o.write(i);for(const l of n){const d=this._type.encodeValue(l);o.write(new Uint8Array(d))}return o.buffer}_buildTypeTableImpl(n){this._type.buildTypeTable(n);const i=It(-19),o=this._type.encodeType(n);n.add(this,ut(i,o))}decodeValue(n,i){const o=this.checkType(i);if(!(o instanceof Zl))throw new Error("Not a vector type");const l=Number(Ut(n));if(this._type instanceof ii){if(this._type._bits==8)return new Uint8Array(n.read(l));if(this._type._bits==16)return new Uint16Array(n.read(l*2));if(this._type._bits==32)return new Uint32Array(n.read(l*4));if(this._type._bits==64)return new BigUint64Array(n.read(l*8))}if(this._type instanceof Ui){if(this._type._bits==8)return new Int8Array(n.read(l));if(this._type._bits==16)return new Int16Array(n.read(l*2));if(this._type._bits==32)return new Int32Array(n.read(l*4));if(this._type._bits==64)return new BigInt64Array(n.read(l*8))}const d=[];for(let p=0;p<l;p++)d.push(this._type.decodeValue(n,o._type));return d}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(n){return"vec {"+n.map(o=>this._type.valueToString(o)).join("; ")+"}"}}class Ci extends oi{constructor(n){super(),this._type=n}accept(n,i){return n.visitOpt(this,this._type,i)}covariant(n){try{if(Array.isArray(n)&&(n.length===0||n.length===1&&this._type.covariant(n[0])))return!0}catch(i){throw new Error(`Invalid ${this.display()} argument: ${Nt(n)} 

-> ${i.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){return n.length===0?new Uint8Array([0]):ut(new Uint8Array([1]),this._type.encodeValue(n[0]))}_buildTypeTableImpl(n){this._type.buildTypeTable(n);const i=It(-18),o=this._type.encodeType(n);n.add(this,ut(i,o))}decodeValue(n,i){if(i instanceof Cl)return[];if(i instanceof Os)return[];let o=i;if(i instanceof Nn){const l=i.getType();if(typeof l>"u")throw new Error("type mismatch with uninitialized type");o=l}if(o instanceof Ci)switch(Pi(n)){case 0:return[];case 1:{const l=n.save();try{return[this._type.decodeValue(n,o._type)]}catch{return n.restore(l),o._type.decodeValue(n,o._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Cl||this._type instanceof Ci||this._type instanceof Os)return o.decodeValue(n,o),[];{const l=n.save();try{return[this._type.decodeValue(n,i)]}catch{return n.restore(l),o.decodeValue(n,i),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(n){return n.length===0?"null":`opt ${this._type.valueToString(n[0])}`}}class Vo extends oi{constructor(n={}){super(),this._fields=Object.entries(n).sort((i,o)=>tn(i[0])-tn(o[0]))}accept(n,i){return n.visitRecord(this,this._fields,i)}tryAsTuple(){const n=[];for(let i=0;i<this._fields.length;i++){const[o,l]=this._fields[i];if(o!==`_${i}_`)return null;n.push(l)}return n}covariant(n){if(typeof n=="object"&&this._fields.every(([i,o])=>{if(!n.hasOwnProperty(i))throw new Error(`Record is missing key "${i}".`);try{return o.covariant(n[i])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

field ${i} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=this._fields.map(([l])=>n[l]),o=Oo(this._fields,i,([,l],d)=>l.encodeValue(d));return ut(...o)}_buildTypeTableImpl(n){this._fields.forEach(([d,p])=>p.buildTypeTable(n));const i=It(-20),o=bt(this._fields.length),l=this._fields.map(([d,p])=>ut(bt(tn(d)),p.encodeType(n)));n.add(this,ut(i,o,ut(...l)))}decodeValue(n,i){const o=this.checkType(i);if(!(o instanceof Vo))throw new Error("Not a record type");const l={};let d=0,p=0;for(;p<o._fields.length;){const[u,w]=o._fields[p];if(d>=this._fields.length){w.decodeValue(n,w),p++;continue}const[N,k]=this._fields[d],b=tn(this._fields[d][0]),R=tn(u);if(b===R)l[N]=k.decodeValue(n,w),d++,p++;else if(R>b)if(k instanceof Ci||k instanceof Os)l[N]=[],d++;else throw new Error("Cannot find required field "+N);else w.decodeValue(n,w),p++}for(const[u,w]of this._fields.slice(d))if(w instanceof Ci||w instanceof Os)l[u]=[];else throw new Error("Cannot find required field "+u);return l}get name(){return`record {${this._fields.map(([i,o])=>i+":"+o.name).join("; ")}}`}display(){return`record {${this._fields.map(([i,o])=>i+":"+o.display()).join("; ")}}`}valueToString(n){const i=this._fields.map(([l])=>n[l]);return`record {${Oo(this._fields,i,([l,d],p)=>l+"="+d.valueToString(p)).join("; ")}}`}}class Ql extends Vo{constructor(n){const i={};n.forEach((o,l)=>i["_"+l+"_"]=o),super(i),this._components=n}accept(n,i){return n.visitTuple(this,this._components,i)}covariant(n){if(Array.isArray(n)&&n.length>=this._fields.length&&this._components.every((i,o)=>{try{return i.covariant(n[o])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

index ${o} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=Oo(this._components,n,(o,l)=>o.encodeValue(l));return ut(...i)}decodeValue(n,i){const o=this.checkType(i);if(!(o instanceof Ql))throw new Error("not a tuple type");if(o._components.length<this._components.length)throw new Error("tuple mismatch");const l=[];for(const[d,p]of o._components.entries())d>=this._components.length?p.decodeValue(n,p):l.push(this._components[d].decodeValue(n,p));return l}display(){return`record {${this._components.map(i=>i.display()).join("; ")}}`}valueToString(n){return`record {${Oo(this._components,n,(o,l)=>o.valueToString(l)).join("; ")}}`}}class Xl extends oi{constructor(n={}){super(),this._fields=Object.entries(n).sort((i,o)=>tn(i[0])-tn(o[0]))}accept(n,i){return n.visitVariant(this,this._fields,i)}covariant(n){if(typeof n=="object"&&Object.entries(n).length===1&&this._fields.every(([i,o])=>{try{return!n.hasOwnProperty(i)||o.covariant(n[i])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

variant ${i} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){for(let i=0;i<this._fields.length;i++){const[o,l]=this._fields[i];if(n.hasOwnProperty(o)){const d=bt(i),p=l.encodeValue(n[o]);return ut(d,p)}}throw Error("Variant has no data: "+n)}_buildTypeTableImpl(n){this._fields.forEach(([,d])=>{d.buildTypeTable(n)});const i=It(-21),o=bt(this._fields.length),l=this._fields.map(([d,p])=>ut(bt(tn(d)),p.encodeType(n)));n.add(this,ut(i,o,...l))}decodeValue(n,i){const o=this.checkType(i);if(!(o instanceof Xl))throw new Error("Not a variant type");const l=Number(Ut(n));if(l>=o._fields.length)throw Error("Invalid variant index: "+l);const[d,p]=o._fields[l];for(const[u,w]of this._fields)if(tn(d)===tn(u)){const N=w.decodeValue(n,p);return{[u]:N}}throw new Error("Cannot find field hash "+d)}get name(){return`variant {${this._fields.map(([i,o])=>i+":"+o.name).join("; ")}}`}display(){return`variant {${this._fields.map(([i,o])=>i+(o.name==="null"?"":`:${o.display()}`)).join("; ")}}`}valueToString(n){for(const[i,o]of this._fields)if(n.hasOwnProperty(i)){const l=o.valueToString(n[i]);return l==="null"?`variant {${i}}`:`variant {${i}=${l}}`}throw new Error("Variant has no data: "+n)}}class Nn extends oi{constructor(){super(...arguments),this._id=Nn._counter++,this._type=void 0}accept(n,i){if(!this._type)throw Error("Recursive type uninitialized.");return n.visitRec(this,this._type,i)}fill(n){this._type=n}getType(){return this._type}covariant(n){if(this._type&&this._type.covariant(n))return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(n)}_buildTypeTableImpl(n){if(!this._type)throw Error("Recursive type uninitialized.");n.add(this,new Uint8Array([])),this._type.buildTypeTable(n),n.merge(this,this._type.name)}decodeValue(n,i){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(n,i)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(n)}}Nn._counter=0;function od(r){if(Pi(r)!==1)throw new Error("Cannot decode principal");const i=Number(Ut(r));return et.fromUint8Array(new Uint8Array(Oi(r,i)))}class km extends Tr{accept(n,i){return n.visitPrincipal(this,i)}covariant(n){if(n&&n._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=n.toUint8Array(),o=bt(i.byteLength);return ut(new Uint8Array([1]),o,i)}encodeType(){return It(-24)}decodeValue(n,i){return this.checkType(i),od(n)}get name(){return"principal"}valueToString(n){return`${this.name} "${n.toText()}"`}}class ad extends oi{constructor(n,i,o=[]){super(),this.argTypes=n,this.retTypes=i,this.annotations=o}static argsToString(n,i){if(n.length!==i.length)throw new Error("arity mismatch");return"("+n.map((o,l)=>o.valueToString(i[l])).join(", ")+")"}accept(n,i){return n.visitFunc(this,i)}covariant(n){if(Array.isArray(n)&&n.length===2&&n[0]&&n[0]._isPrincipal&&typeof n[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue([n,i]){const o=n.toUint8Array(),l=bt(o.byteLength),d=ut(new Uint8Array([1]),l,o),p=new TextEncoder().encode(i),u=bt(p.byteLength);return ut(new Uint8Array([1]),d,u,p)}_buildTypeTableImpl(n){this.argTypes.forEach(N=>N.buildTypeTable(n)),this.retTypes.forEach(N=>N.buildTypeTable(n));const i=It(-22),o=bt(this.argTypes.length),l=ut(...this.argTypes.map(N=>N.encodeType(n))),d=bt(this.retTypes.length),p=ut(...this.retTypes.map(N=>N.encodeType(n))),u=bt(this.annotations.length),w=ut(...this.annotations.map(N=>this.encodeAnnotation(N)));n.add(this,ut(i,o,l,d,p,u,w))}decodeValue(n){if(Pi(n)!==1)throw new Error("Cannot decode function reference");const o=od(n),l=Number(Ut(n)),d=Oi(n,l),u=new TextDecoder("utf8",{fatal:!0}).decode(d);return[o,u]}get name(){const n=this.argTypes.map(l=>l.name).join(", "),i=this.retTypes.map(l=>l.name).join(", "),o=" "+this.annotations.join(" ");return`(${n}) -> (${i})${o}`}valueToString([n,i]){return`func "${n.toText()}".${i}`}display(){const n=this.argTypes.map(l=>l.display()).join(", "),i=this.retTypes.map(l=>l.display()).join(", "),o=" "+this.annotations.join(" ");return`(${n})  (${i})${o}`}encodeAnnotation(n){if(n==="query")return new Uint8Array([1]);if(n==="oneway")return new Uint8Array([2]);if(n==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Rm extends oi{constructor(n){super(),this._fields=Object.entries(n).sort((i,o)=>i[0]<o[0]?-1:i[0]>o[0]?1:0)}accept(n,i){return n.visitService(this,i)}covariant(n){if(n&&n._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Nt(n)}`)}encodeValue(n){const i=n.toUint8Array(),o=bt(i.length);return ut(new Uint8Array([1]),o,i)}_buildTypeTableImpl(n){this._fields.forEach(([d,p])=>p.buildTypeTable(n));const i=It(-23),o=bt(this._fields.length),l=this._fields.map(([d,p])=>{const u=new TextEncoder().encode(d),w=bt(u.length);return ut(w,u,p.encodeType(n))});n.add(this,ut(i,o,...l))}decodeValue(n){return od(n)}get name(){return`service {${this._fields.map(([i,o])=>i+":"+o.name).join("; ")}}`}valueToString(n){return`service "${n.toText()}"`}}function Nt(r){const n=JSON.stringify(r,(i,o)=>typeof o=="bigint"?`BigInt(${o})`:o);return n&&n.length>lp?n.substring(0,lp-3)+"...":n}function zf(r,n){if(n.length<r.length)throw Error("Wrong number of message arguments");const i=new qw;r.forEach(w=>w.buildTypeTable(i));const o=new TextEncoder().encode(hl),l=i.encode(),d=bt(n.length),p=ut(...r.map(w=>w.encodeType(i))),u=ut(...Oo(r,n,(w,N)=>{try{w.covariant(N)}catch(k){throw new Error(k.message+`

`)}return w.encodeValue(N)}));return ut(o,l,d,p,u)}function Im(r,n){const i=new Cs(n);if(n.byteLength<hl.length)throw new Error("Message length smaller than magic number");const o=Oi(i,hl.length),l=new TextDecoder().decode(o);if(l!==hl)throw new Error("Wrong magic number: "+JSON.stringify(l));function d(T){const v=[],G=Number(Ut(T));for(let ne=0;ne<G;ne++){const ae=Number(Qn(T));switch(ae){case-18:case-19:{const be=Number(Qn(T));v.push([ae,be]);break}case-20:case-21:{const be=[];let j=Number(Ut(T)),ie;for(;j--;){const ce=Number(Ut(T));if(ce>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof ie=="number"&&ie>=ce)throw new Error("field id collision or not sorted");ie=ce;const M=Number(Qn(T));be.push([ce,M])}v.push([ae,be]);break}case-22:{const be=[];let j=Number(Ut(T));for(;j--;)be.push(Number(Qn(T)));const ie=[];let ce=Number(Ut(T));for(;ce--;)ie.push(Number(Qn(T)));const M=[];let $=Number(Ut(T));for(;$--;)switch(Number(Ut(T))){case 1:{M.push("query");break}case 2:{M.push("oneway");break}case 3:{M.push("composite_query");break}default:throw new Error("unknown annotation")}v.push([ae,[be,ie,M]]);break}case-23:{let be=Number(Ut(T));const j=[];for(;be--;){const ie=Number(Ut(T)),ce=new TextDecoder().decode(Oi(T,ie)),M=Qn(T);j.push([ce,M])}v.push([ae,j]);break}default:throw new Error("Illegal op_code: "+ae)}}const Y=[],se=Number(Ut(T));for(let ne=0;ne<se;ne++)Y.push(Number(Qn(T)));return[v,Y]}const[p,u]=d(i);if(u.length<r.length)throw new Error("Wrong number of return values");const w=p.map(T=>ty());function N(T){if(T<-24)throw new Error("future value not supported");if(T<0)switch(T){case-1:return Um;case-2:return Pm;case-3:return jm;case-4:return Mm;case-5:return Wm;case-6:return Lm;case-7:return Km;case-8:return Dm;case-9:return Vm;case-10:return qm;case-11:return Hm;case-12:return Gm;case-13:return $m;case-14:return zm;case-15:return Cm;case-16:return Om;case-17:return Fm;case-24:return Ym;default:throw new Error("Illegal op_code: "+T)}if(T>=p.length)throw new Error("type index out of range");return w[T]}function k(T){switch(T[0]){case-19:{const v=N(T[1]);return Qm(v)}case-18:{const v=N(T[1]);return Xm(v)}case-20:{const v={};for(const[se,ne]of T[1]){const ae=`_${se}_`;v[ae]=N(ne)}const G=Jm(v),Y=G.tryAsTuple();return Array.isArray(Y)?Zm(...Y):G}case-21:{const v={};for(const[G,Y]of T[1]){const se=`_${G}_`;v[se]=N(Y)}return ey(v)}case-22:{const[v,G,Y]=T[1];return ry(v.map(se=>N(se)),G.map(se=>N(se)),Y)}case-23:{const v={},G=T[1];for(const[Y,se]of G){let ne=N(se);if(ne instanceof Nn&&(ne=ne.getType()),!(ne instanceof ad))throw new Error("Illegal service definition: services can only contain functions");v[Y]=ne}return ny(v)}default:throw new Error("Illegal op_code: "+T[0])}}p.forEach((T,v)=>{if(T[0]===-22){const G=k(T);w[v].fill(G)}}),p.forEach((T,v)=>{if(T[0]!==-22){const G=k(T);w[v].fill(G)}});const b=u.map(T=>N(T)),R=r.map((T,v)=>T.decodeValue(i,b[v]));for(let T=r.length;T<b.length;T++)b[T].decodeValue(i,b[T]);if(i.byteLength>0)throw new Error("decode: Left-over bytes");return R}const Fm=new Em,Om=new Os,Gw=new Sm,Pm=new Nm,Um=new Cl,Cm=new Tm,Mm=new Am,jm=new Bm,$m=new sd(32),zm=new sd(64),Vm=new Ui(8),qm=new Ui(16),Hm=new Ui(32),Gm=new Ui(64),Wm=new ii(8),Lm=new ii(16),Km=new ii(32),Dm=new ii(64),Ym=new km;function Zm(...r){return new Ql(r)}function Qm(r){return new Zl(r)}function Xm(r){return new Ci(r)}function Jm(r){return new Vo(r)}function ey(r){return new Xl(r)}function ty(){return new Nn}function ry(r,n,i=[]){return new ad(r,n,i)}function ny(r){return new Rm(r)}const Ww=Object.freeze(Object.defineProperty({__proto__:null,Bool:Pm,BoolClass:Nm,ConstructType:oi,Empty:Fm,EmptyClass:Em,FixedIntClass:Ui,FixedNatClass:ii,Float32:$m,Float64:zm,FloatClass:sd,Func:ry,FuncClass:ad,Int:Mm,Int16:qm,Int32:Hm,Int64:Gm,Int8:Vm,IntClass:Am,Nat:jm,Nat16:Lm,Nat32:Km,Nat64:Dm,Nat8:Wm,NatClass:Bm,Null:Um,NullClass:Cl,Opt:Xm,OptClass:Ci,PrimitiveType:Tr,Principal:Ym,PrincipalClass:km,Rec:ty,RecClass:Nn,Record:Jm,RecordClass:Vo,Reserved:Om,ReservedClass:Os,Service:ny,ServiceClass:Rm,Text:Cm,TextClass:Tm,Tuple:Zm,TupleClass:Ql,Type:Yl,Unknown:Gw,UnknownClass:Sm,Variant:ey,VariantClass:Xl,Vec:Qm,VecClass:Zl,Visitor:Hw,decode:Im,encode:zf},Symbol.toStringTag,{value:"Module"}));var of={},af={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var up;function Jl(){return up||(up=1,function(r){var n=fm(),i=td(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=ne,r.INSPECT_MAX_BYTES=50;var l=2147483647;r.kMaxLength=l,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var x=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(x,h),x.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function p(x){if(x>l)throw new RangeError('The value "'+x+'" is invalid for option "size"');var h=new Uint8Array(x);return Object.setPrototypeOf(h,u.prototype),h}function u(x,h,c){if(typeof x=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(x)}return w(x,h,c)}u.poolSize=8192;function w(x,h,c){if(typeof x=="string")return R(x,h);if(ArrayBuffer.isView(x))return v(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(D(x,ArrayBuffer)||x&&D(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(D(x,SharedArrayBuffer)||x&&D(x.buffer,SharedArrayBuffer)))return G(x,h,c);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var S=x.valueOf&&x.valueOf();if(S!=null&&S!==x)return u.from(S,h,c);var I=Y(x);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return u.from(x[Symbol.toPrimitive]("string"),h,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}u.from=function(x,h,c){return w(x,h,c)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function N(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function k(x,h,c){return N(x),x<=0?p(x):h!==void 0?typeof c=="string"?p(x).fill(h,c):p(x).fill(h):p(x)}u.alloc=function(x,h,c){return k(x,h,c)};function b(x){return N(x),p(x<0?0:se(x)|0)}u.allocUnsafe=function(x){return b(x)},u.allocUnsafeSlow=function(x){return b(x)};function R(x,h){if((typeof h!="string"||h==="")&&(h="utf8"),!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var c=ae(x,h)|0,S=p(c),I=S.write(x,h);return I!==c&&(S=S.slice(0,I)),S}function T(x){for(var h=x.length<0?0:se(x.length)|0,c=p(h),S=0;S<h;S+=1)c[S]=x[S]&255;return c}function v(x){if(D(x,Uint8Array)){var h=new Uint8Array(x);return G(h.buffer,h.byteOffset,h.byteLength)}return T(x)}function G(x,h,c){if(h<0||x.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<h+(c||0))throw new RangeError('"length" is outside of buffer bounds');var S;return h===void 0&&c===void 0?S=new Uint8Array(x):c===void 0?S=new Uint8Array(x,h):S=new Uint8Array(x,h,c),Object.setPrototypeOf(S,u.prototype),S}function Y(x){if(u.isBuffer(x)){var h=se(x.length)|0,c=p(h);return c.length===0||x.copy(c,0,0,h),c}if(x.length!==void 0)return typeof x.length!="number"||K(x.length)?p(0):T(x);if(x.type==="Buffer"&&Array.isArray(x.data))return T(x.data)}function se(x){if(x>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return x|0}function ne(x){return+x!=x&&(x=0),u.alloc(+x)}u.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==u.prototype},u.compare=function(h,c){if(D(h,Uint8Array)&&(h=u.from(h,h.offset,h.byteLength)),D(c,Uint8Array)&&(c=u.from(c,c.offset,c.byteLength)),!u.isBuffer(h)||!u.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===c)return 0;for(var S=h.length,I=c.length,q=0,oe=Math.min(S,I);q<oe;++q)if(h[q]!==c[q]){S=h[q],I=c[q];break}return S<I?-1:I<S?1:0},u.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(h,c){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return u.alloc(0);var S;if(c===void 0)for(c=0,S=0;S<h.length;++S)c+=h[S].length;var I=u.allocUnsafe(c),q=0;for(S=0;S<h.length;++S){var oe=h[S];if(D(oe,Uint8Array))q+oe.length>I.length?u.from(oe).copy(I,q):Uint8Array.prototype.set.call(I,oe,q);else if(u.isBuffer(oe))oe.copy(I,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=oe.length}return I};function ae(x,h){if(u.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||D(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);var c=x.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&c===0)return 0;for(var I=!1;;)switch(h){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return de(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return O(x).length;default:if(I)return S?-1:de(x).length;h=(""+h).toLowerCase(),I=!0}}u.byteLength=ae;function be(x,h,c){var S=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,h>>>=0,c<=h))return"";for(x||(x="utf8");;)switch(x){case"hex":return xe(this,h,c);case"utf8":case"utf-8":return P(this,h,c);case"ascii":return fe(this,h,c);case"latin1":case"binary":return re(this,h,c);case"base64":return _(this,h,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,h,c);default:if(S)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),S=!0}}u.prototype._isBuffer=!0;function j(x,h,c){var S=x[h];x[h]=x[c],x[c]=S}u.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<h;c+=2)j(this,c,c+1);return this},u.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<h;c+=4)j(this,c,c+3),j(this,c+1,c+2);return this},u.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<h;c+=8)j(this,c,c+7),j(this,c+1,c+6),j(this,c+2,c+5),j(this,c+3,c+4);return this},u.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?P(this,0,h):be.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(h){if(!u.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:u.compare(this,h)===0},u.prototype.inspect=function(){var h="",c=r.INSPECT_MAX_BYTES;return h=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(h+=" ... "),"<Buffer "+h+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(h,c,S,I,q){if(D(h,Uint8Array)&&(h=u.from(h,h.offset,h.byteLength)),!u.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(c===void 0&&(c=0),S===void 0&&(S=h?h.length:0),I===void 0&&(I=0),q===void 0&&(q=this.length),c<0||S>h.length||I<0||q>this.length)throw new RangeError("out of range index");if(I>=q&&c>=S)return 0;if(I>=q)return-1;if(c>=S)return 1;if(c>>>=0,S>>>=0,I>>>=0,q>>>=0,this===h)return 0;for(var oe=q-I,Se=S-c,Ie=Math.min(oe,Se),Ce=this.slice(I,q),Me=h.slice(c,S),E=0;E<Ie;++E)if(Ce[E]!==Me[E]){oe=Ce[E],Se=Me[E];break}return oe<Se?-1:Se<oe?1:0};function ie(x,h,c,S,I){if(x.length===0)return-1;if(typeof c=="string"?(S=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,K(c)&&(c=I?0:x.length-1),c<0&&(c=x.length+c),c>=x.length){if(I)return-1;c=x.length-1}else if(c<0)if(I)c=0;else return-1;if(typeof h=="string"&&(h=u.from(h,S)),u.isBuffer(h))return h.length===0?-1:ce(x,h,c,S,I);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(x,h,c):Uint8Array.prototype.lastIndexOf.call(x,h,c):ce(x,[h],c,S,I);throw new TypeError("val must be string, number or Buffer")}function ce(x,h,c,S,I){var q=1,oe=x.length,Se=h.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(x.length<2||h.length<2)return-1;q=2,oe/=2,Se/=2,c/=2}function Ie(g,U){return q===1?g[U]:g.readUInt16BE(U*q)}var Ce;if(I){var Me=-1;for(Ce=c;Ce<oe;Ce++)if(Ie(x,Ce)===Ie(h,Me===-1?0:Ce-Me)){if(Me===-1&&(Me=Ce),Ce-Me+1===Se)return Me*q}else Me!==-1&&(Ce-=Ce-Me),Me=-1}else for(c+Se>oe&&(c=oe-Se),Ce=c;Ce>=0;Ce--){for(var E=!0,m=0;m<Se;m++)if(Ie(x,Ce+m)!==Ie(h,m)){E=!1;break}if(E)return Ce}return-1}u.prototype.includes=function(h,c,S){return this.indexOf(h,c,S)!==-1},u.prototype.indexOf=function(h,c,S){return ie(this,h,c,S,!0)},u.prototype.lastIndexOf=function(h,c,S){return ie(this,h,c,S,!1)};function M(x,h,c,S){c=Number(c)||0;var I=x.length-c;S?(S=Number(S),S>I&&(S=I)):S=I;var q=h.length;S>q/2&&(S=q/2);for(var oe=0;oe<S;++oe){var Se=parseInt(h.substr(oe*2,2),16);if(K(Se))return oe;x[c+oe]=Se}return oe}function $(x,h,c,S){return V(de(h,x.length-c),x,c,S)}function W(x,h,c,S){return V(we(h),x,c,S)}function he(x,h,c,S){return V(O(h),x,c,S)}function ve(x,h,c,S){return V(B(h,x.length-c),x,c,S)}u.prototype.write=function(h,c,S,I){if(c===void 0)I="utf8",S=this.length,c=0;else if(S===void 0&&typeof c=="string")I=c,S=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(S)?(S=S>>>0,I===void 0&&(I="utf8")):(I=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var q=this.length-c;if((S===void 0||S>q)&&(S=q),h.length>0&&(S<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");for(var oe=!1;;)switch(I){case"hex":return M(this,h,c,S);case"utf8":case"utf-8":return $(this,h,c,S);case"ascii":case"latin1":case"binary":return W(this,h,c,S);case"base64":return he(this,h,c,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,h,c,S);default:if(oe)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),oe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(x,h,c){return h===0&&c===x.length?n.fromByteArray(x):n.fromByteArray(x.slice(h,c))}function P(x,h,c){c=Math.min(x.length,c);for(var S=[],I=h;I<c;){var q=x[I],oe=null,Se=q>239?4:q>223?3:q>191?2:1;if(I+Se<=c){var Ie,Ce,Me,E;switch(Se){case 1:q<128&&(oe=q);break;case 2:Ie=x[I+1],(Ie&192)===128&&(E=(q&31)<<6|Ie&63,E>127&&(oe=E));break;case 3:Ie=x[I+1],Ce=x[I+2],(Ie&192)===128&&(Ce&192)===128&&(E=(q&15)<<12|(Ie&63)<<6|Ce&63,E>2047&&(E<55296||E>57343)&&(oe=E));break;case 4:Ie=x[I+1],Ce=x[I+2],Me=x[I+3],(Ie&192)===128&&(Ce&192)===128&&(Me&192)===128&&(E=(q&15)<<18|(Ie&63)<<12|(Ce&63)<<6|Me&63,E>65535&&E<1114112&&(oe=E))}}oe===null?(oe=65533,Se=1):oe>65535&&(oe-=65536,S.push(oe>>>10&1023|55296),oe=56320|oe&1023),S.push(oe),I+=Se}return J(S)}var L=4096;function J(x){var h=x.length;if(h<=L)return String.fromCharCode.apply(String,x);for(var c="",S=0;S<h;)c+=String.fromCharCode.apply(String,x.slice(S,S+=L));return c}function fe(x,h,c){var S="";c=Math.min(x.length,c);for(var I=h;I<c;++I)S+=String.fromCharCode(x[I]&127);return S}function re(x,h,c){var S="";c=Math.min(x.length,c);for(var I=h;I<c;++I)S+=String.fromCharCode(x[I]);return S}function xe(x,h,c){var S=x.length;(!h||h<0)&&(h=0),(!c||c<0||c>S)&&(c=S);for(var I="",q=h;q<c;++q)I+=Z[x[q]];return I}function _e(x,h,c){for(var S=x.slice(h,c),I="",q=0;q<S.length-1;q+=2)I+=String.fromCharCode(S[q]+S[q+1]*256);return I}u.prototype.slice=function(h,c){var S=this.length;h=~~h,c=c===void 0?S:~~c,h<0?(h+=S,h<0&&(h=0)):h>S&&(h=S),c<0?(c+=S,c<0&&(c=0)):c>S&&(c=S),c<h&&(c=h);var I=this.subarray(h,c);return Object.setPrototypeOf(I,u.prototype),I};function z(x,h,c){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+h>c)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(h,c,S){h=h>>>0,c=c>>>0,S||z(h,c,this.length);for(var I=this[h],q=1,oe=0;++oe<c&&(q*=256);)I+=this[h+oe]*q;return I},u.prototype.readUintBE=u.prototype.readUIntBE=function(h,c,S){h=h>>>0,c=c>>>0,S||z(h,c,this.length);for(var I=this[h+--c],q=1;c>0&&(q*=256);)I+=this[h+--c]*q;return I},u.prototype.readUint8=u.prototype.readUInt8=function(h,c){return h=h>>>0,c||z(h,1,this.length),this[h]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(h,c){return h=h>>>0,c||z(h,2,this.length),this[h]|this[h+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(h,c){return h=h>>>0,c||z(h,2,this.length),this[h]<<8|this[h+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(h,c){return h=h>>>0,c||z(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(h,c){return h=h>>>0,c||z(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},u.prototype.readIntLE=function(h,c,S){h=h>>>0,c=c>>>0,S||z(h,c,this.length);for(var I=this[h],q=1,oe=0;++oe<c&&(q*=256);)I+=this[h+oe]*q;return q*=128,I>=q&&(I-=Math.pow(2,8*c)),I},u.prototype.readIntBE=function(h,c,S){h=h>>>0,c=c>>>0,S||z(h,c,this.length);for(var I=c,q=1,oe=this[h+--I];I>0&&(q*=256);)oe+=this[h+--I]*q;return q*=128,oe>=q&&(oe-=Math.pow(2,8*c)),oe},u.prototype.readInt8=function(h,c){return h=h>>>0,c||z(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},u.prototype.readInt16LE=function(h,c){h=h>>>0,c||z(h,2,this.length);var S=this[h]|this[h+1]<<8;return S&32768?S|4294901760:S},u.prototype.readInt16BE=function(h,c){h=h>>>0,c||z(h,2,this.length);var S=this[h+1]|this[h]<<8;return S&32768?S|4294901760:S},u.prototype.readInt32LE=function(h,c){return h=h>>>0,c||z(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},u.prototype.readInt32BE=function(h,c){return h=h>>>0,c||z(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},u.prototype.readFloatLE=function(h,c){return h=h>>>0,c||z(h,4,this.length),i.read(this,h,!0,23,4)},u.prototype.readFloatBE=function(h,c){return h=h>>>0,c||z(h,4,this.length),i.read(this,h,!1,23,4)},u.prototype.readDoubleLE=function(h,c){return h=h>>>0,c||z(h,8,this.length),i.read(this,h,!0,52,8)},u.prototype.readDoubleBE=function(h,c){return h=h>>>0,c||z(h,8,this.length),i.read(this,h,!1,52,8)};function le(x,h,c,S,I,q){if(!u.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>I||h<q)throw new RangeError('"value" argument is out of bounds');if(c+S>x.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(h,c,S,I){if(h=+h,c=c>>>0,S=S>>>0,!I){var q=Math.pow(2,8*S)-1;le(this,h,c,S,q,0)}var oe=1,Se=0;for(this[c]=h&255;++Se<S&&(oe*=256);)this[c+Se]=h/oe&255;return c+S},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(h,c,S,I){if(h=+h,c=c>>>0,S=S>>>0,!I){var q=Math.pow(2,8*S)-1;le(this,h,c,S,q,0)}var oe=S-1,Se=1;for(this[c+oe]=h&255;--oe>=0&&(Se*=256);)this[c+oe]=h/Se&255;return c+S},u.prototype.writeUint8=u.prototype.writeUInt8=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,1,255,0),this[c]=h&255,c+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,2,65535,0),this[c]=h&255,this[c+1]=h>>>8,c+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,2,65535,0),this[c]=h>>>8,this[c+1]=h&255,c+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,4,4294967295,0),this[c+3]=h>>>24,this[c+2]=h>>>16,this[c+1]=h>>>8,this[c]=h&255,c+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,4,4294967295,0),this[c]=h>>>24,this[c+1]=h>>>16,this[c+2]=h>>>8,this[c+3]=h&255,c+4},u.prototype.writeIntLE=function(h,c,S,I){if(h=+h,c=c>>>0,!I){var q=Math.pow(2,8*S-1);le(this,h,c,S,q-1,-q)}var oe=0,Se=1,Ie=0;for(this[c]=h&255;++oe<S&&(Se*=256);)h<0&&Ie===0&&this[c+oe-1]!==0&&(Ie=1),this[c+oe]=(h/Se>>0)-Ie&255;return c+S},u.prototype.writeIntBE=function(h,c,S,I){if(h=+h,c=c>>>0,!I){var q=Math.pow(2,8*S-1);le(this,h,c,S,q-1,-q)}var oe=S-1,Se=1,Ie=0;for(this[c+oe]=h&255;--oe>=0&&(Se*=256);)h<0&&Ie===0&&this[c+oe+1]!==0&&(Ie=1),this[c+oe]=(h/Se>>0)-Ie&255;return c+S},u.prototype.writeInt8=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,1,127,-128),h<0&&(h=255+h+1),this[c]=h&255,c+1},u.prototype.writeInt16LE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,2,32767,-32768),this[c]=h&255,this[c+1]=h>>>8,c+2},u.prototype.writeInt16BE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,2,32767,-32768),this[c]=h>>>8,this[c+1]=h&255,c+2},u.prototype.writeInt32LE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,4,2147483647,-2147483648),this[c]=h&255,this[c+1]=h>>>8,this[c+2]=h>>>16,this[c+3]=h>>>24,c+4},u.prototype.writeInt32BE=function(h,c,S){return h=+h,c=c>>>0,S||le(this,h,c,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[c]=h>>>24,this[c+1]=h>>>16,this[c+2]=h>>>8,this[c+3]=h&255,c+4};function Fe(x,h,c,S,I,q){if(c+S>x.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function F(x,h,c,S,I){return h=+h,c=c>>>0,I||Fe(x,h,c,4),i.write(x,h,c,S,23,4),c+4}u.prototype.writeFloatLE=function(h,c,S){return F(this,h,c,!0,S)},u.prototype.writeFloatBE=function(h,c,S){return F(this,h,c,!1,S)};function Oe(x,h,c,S,I){return h=+h,c=c>>>0,I||Fe(x,h,c,8),i.write(x,h,c,S,52,8),c+8}u.prototype.writeDoubleLE=function(h,c,S){return Oe(this,h,c,!0,S)},u.prototype.writeDoubleBE=function(h,c,S){return Oe(this,h,c,!1,S)},u.prototype.copy=function(h,c,S,I){if(!u.isBuffer(h))throw new TypeError("argument should be a Buffer");if(S||(S=0),!I&&I!==0&&(I=this.length),c>=h.length&&(c=h.length),c||(c=0),I>0&&I<S&&(I=S),I===S||h.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),h.length-c<I-S&&(I=h.length-c+S);var q=I-S;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,S,I):Uint8Array.prototype.set.call(h,this.subarray(S,I),c),q},u.prototype.fill=function(h,c,S,I){if(typeof h=="string"){if(typeof c=="string"?(I=c,c=0,S=this.length):typeof S=="string"&&(I=S,S=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!u.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(h.length===1){var q=h.charCodeAt(0);(I==="utf8"&&q<128||I==="latin1")&&(h=q)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(c<0||this.length<c||this.length<S)throw new RangeError("Out of range index");if(S<=c)return this;c=c>>>0,S=S===void 0?this.length:S>>>0,h||(h=0);var oe;if(typeof h=="number")for(oe=c;oe<S;++oe)this[oe]=h;else{var Se=u.isBuffer(h)?h:u.from(h,I),Ie=Se.length;if(Ie===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(oe=0;oe<S-c;++oe)this[oe+c]=Se[oe%Ie]}return this};var $e=/[^+/0-9A-Za-z-_]/g;function Ee(x){if(x=x.split("=")[0],x=x.trim().replace($e,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function de(x,h){h=h||1/0;for(var c,S=x.length,I=null,q=[],oe=0;oe<S;++oe){if(c=x.charCodeAt(oe),c>55295&&c<57344){if(!I){if(c>56319){(h-=3)>-1&&q.push(239,191,189);continue}else if(oe+1===S){(h-=3)>-1&&q.push(239,191,189);continue}I=c;continue}if(c<56320){(h-=3)>-1&&q.push(239,191,189),I=c;continue}c=(I-55296<<10|c-56320)+65536}else I&&(h-=3)>-1&&q.push(239,191,189);if(I=null,c<128){if((h-=1)<0)break;q.push(c)}else if(c<2048){if((h-=2)<0)break;q.push(c>>6|192,c&63|128)}else if(c<65536){if((h-=3)<0)break;q.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((h-=4)<0)break;q.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return q}function we(x){for(var h=[],c=0;c<x.length;++c)h.push(x.charCodeAt(c)&255);return h}function B(x,h){for(var c,S,I,q=[],oe=0;oe<x.length&&!((h-=2)<0);++oe)c=x.charCodeAt(oe),S=c>>8,I=c%256,q.push(I),q.push(S);return q}function O(x){return n.toByteArray(Ee(x))}function V(x,h,c,S){for(var I=0;I<S&&!(I+c>=h.length||I>=x.length);++I)h[I+c]=x[I];return I}function D(x,h){return x instanceof h||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===h.name}function K(x){return x!==x}var Z=function(){for(var x="0123456789abcdef",h=new Array(256),c=0;c<16;++c)for(var S=c*16,I=0;I<16;++I)h[S+I]=x[c]+x[I];return h}()}(af)),af}var pl={exports:{}},Lw=pl.exports,cp;function eu(){return cp||(cp=1,function(r){(function(n){var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,d=Math.floor,p="[BigNumber Error] ",u=p+"Number primitive has more than 15 significant digits: ",w=1e14,N=14,k=9007199254740991,b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],R=1e7,T=1e9;function v(ie){var ce,M,$,W=F.prototype={constructor:F,toString:null,valueOf:null},he=new F(1),ve=20,_=4,P=-7,L=21,J=-1e7,fe=1e7,re=!1,xe=1,_e=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},le="0123456789abcdefghijklmnopqrstuvwxyz",Fe=!0;function F(B,O){var V,D,K,Z,x,h,c,S,I=this;if(!(I instanceof F))return new F(B,O);if(O==null){if(B&&B._isBigNumber===!0){I.s=B.s,!B.c||B.e>fe?I.c=I.e=null:B.e<J?I.c=[I.e=0]:(I.e=B.e,I.c=B.c.slice());return}if((h=typeof B=="number")&&B*0==0){if(I.s=1/B<0?(B=-B,-1):1,B===~~B){for(Z=0,x=B;x>=10;x/=10,Z++);Z>fe?I.c=I.e=null:(I.e=Z,I.c=[B]);return}S=String(B)}else{if(!o.test(S=String(B)))return $(I,S,h);I.s=S.charCodeAt(0)==45?(S=S.slice(1),-1):1}(Z=S.indexOf("."))>-1&&(S=S.replace(".","")),(x=S.search(/e/i))>0?(Z<0&&(Z=x),Z+=+S.slice(x+1),S=S.substring(0,x)):Z<0&&(Z=S.length)}else{if(ne(O,2,le.length,"Base"),O==10&&Fe)return I=new F(B),de(I,ve+I.e+1,_);if(S=String(B),h=typeof B=="number"){if(B*0!=0)return $(I,S,h,O);if(I.s=1/B<0?(S=S.slice(1),-1):1,F.DEBUG&&S.replace(/^0\.0*|\./,"").length>15)throw Error(u+B)}else I.s=S.charCodeAt(0)===45?(S=S.slice(1),-1):1;for(V=le.slice(0,O),Z=x=0,c=S.length;x<c;x++)if(V.indexOf(D=S.charAt(x))<0){if(D=="."){if(x>Z){Z=c;continue}}else if(!K&&(S==S.toUpperCase()&&(S=S.toLowerCase())||S==S.toLowerCase()&&(S=S.toUpperCase()))){K=!0,x=-1,Z=0;continue}return $(I,String(B),h,O)}h=!1,S=M(S,O,10,I.s),(Z=S.indexOf("."))>-1?S=S.replace(".",""):Z=S.length}for(x=0;S.charCodeAt(x)===48;x++);for(c=S.length;S.charCodeAt(--c)===48;);if(S=S.slice(x,++c)){if(c-=x,h&&F.DEBUG&&c>15&&(B>k||B!==d(B)))throw Error(u+I.s*B);if((Z=Z-x-1)>fe)I.c=I.e=null;else if(Z<J)I.c=[I.e=0];else{if(I.e=Z,I.c=[],x=(Z+1)%N,Z<0&&(x+=N),x<c){for(x&&I.c.push(+S.slice(0,x)),c-=N;x<c;)I.c.push(+S.slice(x,x+=N));x=N-(S=S.slice(x)).length}else x-=c;for(;x--;S+="0");I.c.push(+S)}}else I.c=[I.e=0]}F.clone=v,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(B){var O,V;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(O="DECIMAL_PLACES")&&(V=B[O],ne(V,0,T,O),ve=V),B.hasOwnProperty(O="ROUNDING_MODE")&&(V=B[O],ne(V,0,8,O),_=V),B.hasOwnProperty(O="EXPONENTIAL_AT")&&(V=B[O],V&&V.pop?(ne(V[0],-T,0,O),ne(V[1],0,T,O),P=V[0],L=V[1]):(ne(V,-T,T,O),P=-(L=V<0?-V:V))),B.hasOwnProperty(O="RANGE"))if(V=B[O],V&&V.pop)ne(V[0],-T,-1,O),ne(V[1],1,T,O),J=V[0],fe=V[1];else if(ne(V,-T,T,O),V)J=-(fe=V<0?-V:V);else throw Error(p+O+" cannot be zero: "+V);if(B.hasOwnProperty(O="CRYPTO"))if(V=B[O],V===!!V)if(V)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=V;else throw re=!V,Error(p+"crypto unavailable");else re=V;else throw Error(p+O+" not true or false: "+V);if(B.hasOwnProperty(O="MODULO_MODE")&&(V=B[O],ne(V,0,9,O),xe=V),B.hasOwnProperty(O="POW_PRECISION")&&(V=B[O],ne(V,0,T,O),_e=V),B.hasOwnProperty(O="FORMAT"))if(V=B[O],typeof V=="object")z=V;else throw Error(p+O+" not an object: "+V);if(B.hasOwnProperty(O="ALPHABET"))if(V=B[O],typeof V=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(V))Fe=V.slice(0,10)=="0123456789",le=V;else throw Error(p+O+" invalid: "+V)}else throw Error(p+"Object expected: "+B);return{DECIMAL_PLACES:ve,ROUNDING_MODE:_,EXPONENTIAL_AT:[P,L],RANGE:[J,fe],CRYPTO:re,MODULO_MODE:xe,POW_PRECISION:_e,FORMAT:z,ALPHABET:le}},F.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!F.DEBUG)return!0;var O,V,D=B.c,K=B.e,Z=B.s;e:if({}.toString.call(D)=="[object Array]"){if((Z===1||Z===-1)&&K>=-T&&K<=T&&K===d(K)){if(D[0]===0){if(K===0&&D.length===1)return!0;break e}if(O=(K+1)%N,O<1&&(O+=N),String(D[0]).length==O){for(O=0;O<D.length;O++)if(V=D[O],V<0||V>=w||V!==d(V))break e;if(V!==0)return!0}}}else if(D===null&&K===null&&(Z===null||Z===1||Z===-1))return!0;throw Error(p+"Invalid BigNumber: "+B)},F.maximum=F.max=function(){return $e(arguments,-1)},F.minimum=F.min=function(){return $e(arguments,1)},F.random=function(){var B=9007199254740992,O=Math.random()*B&2097151?function(){return d(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var D,K,Z,x,h,c=0,S=[],I=new F(he);if(V==null?V=ve:ne(V,0,T),x=l(V/N),re)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(x*=2));c<x;)h=D[c]*131072+(D[c+1]>>>11),h>=9e15?(K=crypto.getRandomValues(new Uint32Array(2)),D[c]=K[0],D[c+1]=K[1]):(S.push(h%1e14),c+=2);c=x/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(x*=7);c<x;)h=(D[c]&31)*281474976710656+D[c+1]*1099511627776+D[c+2]*4294967296+D[c+3]*16777216+(D[c+4]<<16)+(D[c+5]<<8)+D[c+6],h>=9e15?crypto.randomBytes(7).copy(D,c):(S.push(h%1e14),c+=7);c=x/7}else throw re=!1,Error(p+"crypto unavailable");if(!re)for(;c<x;)h=O(),h<9e15&&(S[c++]=h%1e14);for(x=S[--c],V%=N,x&&V&&(h=b[N-V],S[c]=d(x/h)*h);S[c]===0;S.pop(),c--);if(c<0)S=[Z=0];else{for(Z=-1;S[0]===0;S.splice(0,1),Z-=N);for(c=1,h=S[0];h>=10;h/=10,c++);c<N&&(Z-=N-c)}return I.e=Z,I.c=S,I}}(),F.sum=function(){for(var B=1,O=arguments,V=new F(O[0]);B<O.length;)V=V.plus(O[B++]);return V},M=function(){var B="0123456789";function O(V,D,K,Z){for(var x,h=[0],c,S=0,I=V.length;S<I;){for(c=h.length;c--;h[c]*=D);for(h[0]+=Z.indexOf(V.charAt(S++)),x=0;x<h.length;x++)h[x]>K-1&&(h[x+1]==null&&(h[x+1]=0),h[x+1]+=h[x]/K|0,h[x]%=K)}return h.reverse()}return function(V,D,K,Z,x){var h,c,S,I,q,oe,Se,Ie,Ce=V.indexOf("."),Me=ve,E=_;for(Ce>=0&&(I=_e,_e=0,V=V.replace(".",""),Ie=new F(D),oe=Ie.pow(V.length-Ce),_e=I,Ie.c=O(j(Y(oe.c),oe.e,"0"),10,K,B),Ie.e=Ie.c.length),Se=O(V,D,K,x?(h=le,B):(h=B,le)),S=I=Se.length;Se[--I]==0;Se.pop());if(!Se[0])return h.charAt(0);if(Ce<0?--S:(oe.c=Se,oe.e=S,oe.s=Z,oe=ce(oe,Ie,Me,E,K),Se=oe.c,q=oe.r,S=oe.e),c=S+Me+1,Ce=Se[c],I=K/2,q=q||c<0||Se[c+1]!=null,q=E<4?(Ce!=null||q)&&(E==0||E==(oe.s<0?3:2)):Ce>I||Ce==I&&(E==4||q||E==6&&Se[c-1]&1||E==(oe.s<0?8:7)),c<1||!Se[0])V=q?j(h.charAt(1),-Me,h.charAt(0)):h.charAt(0);else{if(Se.length=c,q)for(--K;++Se[--c]>K;)Se[c]=0,c||(++S,Se=[1].concat(Se));for(I=Se.length;!Se[--I];);for(Ce=0,V="";Ce<=I;V+=h.charAt(Se[Ce++]));V=j(V,S,h.charAt(0))}return V}}(),ce=function(){function B(D,K,Z){var x,h,c,S,I=0,q=D.length,oe=K%R,Se=K/R|0;for(D=D.slice();q--;)c=D[q]%R,S=D[q]/R|0,x=Se*c+S*oe,h=oe*c+x%R*R+I,I=(h/Z|0)+(x/R|0)+Se*S,D[q]=h%Z;return I&&(D=[I].concat(D)),D}function O(D,K,Z,x){var h,c;if(Z!=x)c=Z>x?1:-1;else for(h=c=0;h<Z;h++)if(D[h]!=K[h]){c=D[h]>K[h]?1:-1;break}return c}function V(D,K,Z,x){for(var h=0;Z--;)D[Z]-=h,h=D[Z]<K[Z]?1:0,D[Z]=h*x+D[Z]-K[Z];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,K,Z,x,h){var c,S,I,q,oe,Se,Ie,Ce,Me,E,m,g,U,ee,ye,pe,De,Be=D.s==K.s?1:-1,Pe=D.c,We=K.c;if(!Pe||!Pe[0]||!We||!We[0])return new F(!D.s||!K.s||(Pe?We&&Pe[0]==We[0]:!We)?NaN:Pe&&Pe[0]==0||!We?Be*0:Be/0);for(Ce=new F(Be),Me=Ce.c=[],S=D.e-K.e,Be=Z+S+1,h||(h=w,S=G(D.e/N)-G(K.e/N),Be=Be/N|0),I=0;We[I]==(Pe[I]||0);I++);if(We[I]>(Pe[I]||0)&&S--,Be<0)Me.push(1),q=!0;else{for(ee=Pe.length,pe=We.length,I=0,Be+=2,oe=d(h/(We[0]+1)),oe>1&&(We=B(We,oe,h),Pe=B(Pe,oe,h),pe=We.length,ee=Pe.length),U=pe,E=Pe.slice(0,pe),m=E.length;m<pe;E[m++]=0);De=We.slice(),De=[0].concat(De),ye=We[0],We[1]>=h/2&&ye++;do{if(oe=0,c=O(We,E,pe,m),c<0){if(g=E[0],pe!=m&&(g=g*h+(E[1]||0)),oe=d(g/ye),oe>1)for(oe>=h&&(oe=h-1),Se=B(We,oe,h),Ie=Se.length,m=E.length;O(Se,E,Ie,m)==1;)oe--,V(Se,pe<Ie?De:We,Ie,h),Ie=Se.length,c=1;else oe==0&&(c=oe=1),Se=We.slice(),Ie=Se.length;if(Ie<m&&(Se=[0].concat(Se)),V(E,Se,m,h),m=E.length,c==-1)for(;O(We,E,pe,m)<1;)oe++,V(E,pe<m?De:We,m,h),m=E.length}else c===0&&(oe++,E=[0]);Me[I++]=oe,E[0]?E[m++]=Pe[U]||0:(E=[Pe[U]],m=1)}while((U++<ee||E[0]!=null)&&Be--);q=E[0]!=null,Me[0]||Me.splice(0,1)}if(h==w){for(I=1,Be=Me[0];Be>=10;Be/=10,I++);de(Ce,Z+(Ce.e=I+S*N-1)+1,x,q)}else Ce.e=S,Ce.r=+q;return Ce}}();function Oe(B,O,V,D){var K,Z,x,h,c;if(V==null?V=_:ne(V,0,8),!B.c)return B.toString();if(K=B.c[0],x=B.e,O==null)c=Y(B.c),c=D==1||D==2&&(x<=P||x>=L)?be(c,x):j(c,x,"0");else if(B=de(new F(B),O,V),Z=B.e,c=Y(B.c),h=c.length,D==1||D==2&&(O<=Z||Z<=P)){for(;h<O;c+="0",h++);c=be(c,Z)}else if(O-=x,c=j(c,Z,"0"),Z+1>h){if(--O>0)for(c+=".";O--;c+="0");}else if(O+=Z-h,O>0)for(Z+1==h&&(c+=".");O--;c+="0");return B.s<0&&K?"-"+c:c}function $e(B,O){for(var V,D,K=1,Z=new F(B[0]);K<B.length;K++)D=new F(B[K]),(!D.s||(V=se(Z,D))===O||V===0&&Z.s===O)&&(Z=D);return Z}function Ee(B,O,V){for(var D=1,K=O.length;!O[--K];O.pop());for(K=O[0];K>=10;K/=10,D++);return(V=D+V*N-1)>fe?B.c=B.e=null:V<J?B.c=[B.e=0]:(B.e=V,B.c=O),B}$=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,V=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,K=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Z,x,h,c){var S,I=h?x:x.replace(K,"");if(D.test(I))Z.s=isNaN(I)?null:I<0?-1:1;else{if(!h&&(I=I.replace(B,function(q,oe,Se){return S=(Se=Se.toLowerCase())=="x"?16:Se=="b"?2:8,!c||c==S?oe:q}),c&&(S=c,I=I.replace(O,"$1").replace(V,"0.$1")),x!=I))return new F(I,S);if(F.DEBUG)throw Error(p+"Not a"+(c?" base "+c:"")+" number: "+x);Z.s=null}Z.c=Z.e=null}}();function de(B,O,V,D){var K,Z,x,h,c,S,I,q=B.c,oe=b;if(q){e:{for(K=1,h=q[0];h>=10;h/=10,K++);if(Z=O-K,Z<0)Z+=N,x=O,c=q[S=0],I=d(c/oe[K-x-1]%10);else if(S=l((Z+1)/N),S>=q.length)if(D){for(;q.length<=S;q.push(0));c=I=0,K=1,Z%=N,x=Z-N+1}else break e;else{for(c=h=q[S],K=1;h>=10;h/=10,K++);Z%=N,x=Z-N+K,I=x<0?0:d(c/oe[K-x-1]%10)}if(D=D||O<0||q[S+1]!=null||(x<0?c:c%oe[K-x-1]),D=V<4?(I||D)&&(V==0||V==(B.s<0?3:2)):I>5||I==5&&(V==4||D||V==6&&(Z>0?x>0?c/oe[K-x]:0:q[S-1])%10&1||V==(B.s<0?8:7)),O<1||!q[0])return q.length=0,D?(O-=B.e+1,q[0]=oe[(N-O%N)%N],B.e=-O||0):q[0]=B.e=0,B;if(Z==0?(q.length=S,h=1,S--):(q.length=S+1,h=oe[N-Z],q[S]=x>0?d(c/oe[K-x]%oe[x])*h:0),D)for(;;)if(S==0){for(Z=1,x=q[0];x>=10;x/=10,Z++);for(x=q[0]+=h,h=1;x>=10;x/=10,h++);Z!=h&&(B.e++,q[0]==w&&(q[0]=1));break}else{if(q[S]+=h,q[S]!=w)break;q[S--]=0,h=1}for(Z=q.length;q[--Z]===0;q.pop());}B.e>fe?B.c=B.e=null:B.e<J&&(B.c=[B.e=0])}return B}function we(B){var O,V=B.e;return V===null?B.toString():(O=Y(B.c),O=V<=P||V>=L?be(O,V):j(O,V,"0"),B.s<0?"-"+O:O)}return W.absoluteValue=W.abs=function(){var B=new F(this);return B.s<0&&(B.s=1),B},W.comparedTo=function(B,O){return se(this,new F(B,O))},W.decimalPlaces=W.dp=function(B,O){var V,D,K,Z=this;if(B!=null)return ne(B,0,T),O==null?O=_:ne(O,0,8),de(new F(Z),B+Z.e+1,O);if(!(V=Z.c))return null;if(D=((K=V.length-1)-G(this.e/N))*N,K=V[K])for(;K%10==0;K/=10,D--);return D<0&&(D=0),D},W.dividedBy=W.div=function(B,O){return ce(this,new F(B,O),ve,_)},W.dividedToIntegerBy=W.idiv=function(B,O){return ce(this,new F(B,O),0,1)},W.exponentiatedBy=W.pow=function(B,O){var V,D,K,Z,x,h,c,S,I,q=this;if(B=new F(B),B.c&&!B.isInteger())throw Error(p+"Exponent not an integer: "+we(B));if(O!=null&&(O=new F(O)),h=B.e>14,!q.c||!q.c[0]||q.c[0]==1&&!q.e&&q.c.length==1||!B.c||!B.c[0])return I=new F(Math.pow(+we(q),h?B.s*(2-ae(B)):+we(B))),O?I.mod(O):I;if(c=B.s<0,O){if(O.c?!O.c[0]:!O.s)return new F(NaN);D=!c&&q.isInteger()&&O.isInteger(),D&&(q=q.mod(O))}else{if(B.e>9&&(q.e>0||q.e<-1||(q.e==0?q.c[0]>1||h&&q.c[1]>=24e7:q.c[0]<8e13||h&&q.c[0]<=9999975e7)))return Z=q.s<0&&ae(B)?-0:0,q.e>-1&&(Z=1/Z),new F(c?1/Z:Z);_e&&(Z=l(_e/N+2))}for(h?(V=new F(.5),c&&(B.s=1),S=ae(B)):(K=Math.abs(+we(B)),S=K%2),I=new F(he);;){if(S){if(I=I.times(q),!I.c)break;Z?I.c.length>Z&&(I.c.length=Z):D&&(I=I.mod(O))}if(K){if(K=d(K/2),K===0)break;S=K%2}else if(B=B.times(V),de(B,B.e+1,1),B.e>14)S=ae(B);else{if(K=+we(B),K===0)break;S=K%2}q=q.times(q),Z?q.c&&q.c.length>Z&&(q.c.length=Z):D&&(q=q.mod(O))}return D?I:(c&&(I=he.div(I)),O?I.mod(O):Z?de(I,_e,_,x):I)},W.integerValue=function(B){var O=new F(this);return B==null?B=_:ne(B,0,8),de(O,O.e+1,B)},W.isEqualTo=W.eq=function(B,O){return se(this,new F(B,O))===0},W.isFinite=function(){return!!this.c},W.isGreaterThan=W.gt=function(B,O){return se(this,new F(B,O))>0},W.isGreaterThanOrEqualTo=W.gte=function(B,O){return(O=se(this,new F(B,O)))===1||O===0},W.isInteger=function(){return!!this.c&&G(this.e/N)>this.c.length-2},W.isLessThan=W.lt=function(B,O){return se(this,new F(B,O))<0},W.isLessThanOrEqualTo=W.lte=function(B,O){return(O=se(this,new F(B,O)))===-1||O===0},W.isNaN=function(){return!this.s},W.isNegative=function(){return this.s<0},W.isPositive=function(){return this.s>0},W.isZero=function(){return!!this.c&&this.c[0]==0},W.minus=function(B,O){var V,D,K,Z,x=this,h=x.s;if(B=new F(B,O),O=B.s,!h||!O)return new F(NaN);if(h!=O)return B.s=-O,x.plus(B);var c=x.e/N,S=B.e/N,I=x.c,q=B.c;if(!c||!S){if(!I||!q)return I?(B.s=-O,B):new F(q?x:NaN);if(!I[0]||!q[0])return q[0]?(B.s=-O,B):new F(I[0]?x:_==3?-0:0)}if(c=G(c),S=G(S),I=I.slice(),h=c-S){for((Z=h<0)?(h=-h,K=I):(S=c,K=q),K.reverse(),O=h;O--;K.push(0));K.reverse()}else for(D=(Z=(h=I.length)<(O=q.length))?h:O,h=O=0;O<D;O++)if(I[O]!=q[O]){Z=I[O]<q[O];break}if(Z&&(K=I,I=q,q=K,B.s=-B.s),O=(D=q.length)-(V=I.length),O>0)for(;O--;I[V++]=0);for(O=w-1;D>h;){if(I[--D]<q[D]){for(V=D;V&&!I[--V];I[V]=O);--I[V],I[D]+=w}I[D]-=q[D]}for(;I[0]==0;I.splice(0,1),--S);return I[0]?Ee(B,I,S):(B.s=_==3?-1:1,B.c=[B.e=0],B)},W.modulo=W.mod=function(B,O){var V,D,K=this;return B=new F(B,O),!K.c||!B.s||B.c&&!B.c[0]?new F(NaN):!B.c||K.c&&!K.c[0]?new F(K):(xe==9?(D=B.s,B.s=1,V=ce(K,B,0,3),B.s=D,V.s*=D):V=ce(K,B,0,xe),B=K.minus(V.times(B)),!B.c[0]&&xe==1&&(B.s=K.s),B)},W.multipliedBy=W.times=function(B,O){var V,D,K,Z,x,h,c,S,I,q,oe,Se,Ie,Ce,Me,E=this,m=E.c,g=(B=new F(B,O)).c;if(!m||!g||!m[0]||!g[0])return!E.s||!B.s||m&&!m[0]&&!g||g&&!g[0]&&!m?B.c=B.e=B.s=null:(B.s*=E.s,!m||!g?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(D=G(E.e/N)+G(B.e/N),B.s*=E.s,c=m.length,q=g.length,c<q&&(Ie=m,m=g,g=Ie,K=c,c=q,q=K),K=c+q,Ie=[];K--;Ie.push(0));for(Ce=w,Me=R,K=q;--K>=0;){for(V=0,oe=g[K]%Me,Se=g[K]/Me|0,x=c,Z=K+x;Z>K;)S=m[--x]%Me,I=m[x]/Me|0,h=Se*S+I*oe,S=oe*S+h%Me*Me+Ie[Z]+V,V=(S/Ce|0)+(h/Me|0)+Se*I,Ie[Z--]=S%Ce;Ie[Z]=V}return V?++D:Ie.splice(0,1),Ee(B,Ie,D)},W.negated=function(){var B=new F(this);return B.s=-B.s||null,B},W.plus=function(B,O){var V,D=this,K=D.s;if(B=new F(B,O),O=B.s,!K||!O)return new F(NaN);if(K!=O)return B.s=-O,D.minus(B);var Z=D.e/N,x=B.e/N,h=D.c,c=B.c;if(!Z||!x){if(!h||!c)return new F(K/0);if(!h[0]||!c[0])return c[0]?B:new F(h[0]?D:K*0)}if(Z=G(Z),x=G(x),h=h.slice(),K=Z-x){for(K>0?(x=Z,V=c):(K=-K,V=h),V.reverse();K--;V.push(0));V.reverse()}for(K=h.length,O=c.length,K-O<0&&(V=c,c=h,h=V,O=K),K=0;O;)K=(h[--O]=h[O]+c[O]+K)/w|0,h[O]=w===h[O]?0:h[O]%w;return K&&(h=[K].concat(h),++x),Ee(B,h,x)},W.precision=W.sd=function(B,O){var V,D,K,Z=this;if(B!=null&&B!==!!B)return ne(B,1,T),O==null?O=_:ne(O,0,8),de(new F(Z),B,O);if(!(V=Z.c))return null;if(K=V.length-1,D=K*N+1,K=V[K]){for(;K%10==0;K/=10,D--);for(K=V[0];K>=10;K/=10,D++);}return B&&Z.e+1>D&&(D=Z.e+1),D},W.shiftedBy=function(B){return ne(B,-k,k),this.times("1e"+B)},W.squareRoot=W.sqrt=function(){var B,O,V,D,K,Z=this,x=Z.c,h=Z.s,c=Z.e,S=ve+4,I=new F("0.5");if(h!==1||!x||!x[0])return new F(!h||h<0&&(!x||x[0])?NaN:x?Z:1/0);if(h=Math.sqrt(+we(Z)),h==0||h==1/0?(O=Y(x),(O.length+c)%2==0&&(O+="0"),h=Math.sqrt(+O),c=G((c+1)/2)-(c<0||c%2),h==1/0?O="5e"+c:(O=h.toExponential(),O=O.slice(0,O.indexOf("e")+1)+c),V=new F(O)):V=new F(h+""),V.c[0]){for(c=V.e,h=c+S,h<3&&(h=0);;)if(K=V,V=I.times(K.plus(ce(Z,K,S,1))),Y(K.c).slice(0,h)===(O=Y(V.c)).slice(0,h))if(V.e<c&&--h,O=O.slice(h-3,h+1),O=="9999"||!D&&O=="4999"){if(!D&&(de(K,K.e+ve+2,0),K.times(K).eq(Z))){V=K;break}S+=4,h+=4,D=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(de(V,V.e+ve+2,1),B=!V.times(V).eq(Z));break}}return de(V,V.e+ve+1,_,B)},W.toExponential=function(B,O){return B!=null&&(ne(B,0,T),B++),Oe(this,B,O,1)},W.toFixed=function(B,O){return B!=null&&(ne(B,0,T),B=B+this.e+1),Oe(this,B,O)},W.toFormat=function(B,O,V){var D,K=this;if(V==null)B!=null&&O&&typeof O=="object"?(V=O,O=null):B&&typeof B=="object"?(V=B,B=O=null):V=z;else if(typeof V!="object")throw Error(p+"Argument not an object: "+V);if(D=K.toFixed(B,O),K.c){var Z,x=D.split("."),h=+V.groupSize,c=+V.secondaryGroupSize,S=V.groupSeparator||"",I=x[0],q=x[1],oe=K.s<0,Se=oe?I.slice(1):I,Ie=Se.length;if(c&&(Z=h,h=c,c=Z,Ie-=Z),h>0&&Ie>0){for(Z=Ie%h||h,I=Se.substr(0,Z);Z<Ie;Z+=h)I+=S+Se.substr(Z,h);c>0&&(I+=S+Se.slice(Z)),oe&&(I="-"+I)}D=q?I+(V.decimalSeparator||"")+((c=+V.fractionGroupSize)?q.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):q):I}return(V.prefix||"")+D+(V.suffix||"")},W.toFraction=function(B){var O,V,D,K,Z,x,h,c,S,I,q,oe,Se=this,Ie=Se.c;if(B!=null&&(h=new F(B),!h.isInteger()&&(h.c||h.s!==1)||h.lt(he)))throw Error(p+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+we(h));if(!Ie)return new F(Se);for(O=new F(he),S=V=new F(he),D=c=new F(he),oe=Y(Ie),Z=O.e=oe.length-Se.e-1,O.c[0]=b[(x=Z%N)<0?N+x:x],B=!B||h.comparedTo(O)>0?Z>0?O:S:h,x=fe,fe=1/0,h=new F(oe),c.c[0]=0;I=ce(h,O,0,1),K=V.plus(I.times(D)),K.comparedTo(B)!=1;)V=D,D=K,S=c.plus(I.times(K=S)),c=K,O=h.minus(I.times(K=O)),h=K;return K=ce(B.minus(V),D,0,1),c=c.plus(K.times(S)),V=V.plus(K.times(D)),c.s=S.s=Se.s,Z=Z*2,q=ce(S,D,Z,_).minus(Se).abs().comparedTo(ce(c,V,Z,_).minus(Se).abs())<1?[S,D]:[c,V],fe=x,q},W.toNumber=function(){return+we(this)},W.toPrecision=function(B,O){return B!=null&&ne(B,1,T),Oe(this,B,O,2)},W.toString=function(B){var O,V=this,D=V.s,K=V.e;return K===null?D?(O="Infinity",D<0&&(O="-"+O)):O="NaN":(B==null?O=K<=P||K>=L?be(Y(V.c),K):j(Y(V.c),K,"0"):B===10&&Fe?(V=de(new F(V),ve+K+1,_),O=j(Y(V.c),V.e,"0")):(ne(B,2,le.length,"Base"),O=M(j(Y(V.c),K,"0"),10,B,D,!0)),D<0&&V.c[0]&&(O="-"+O)),O},W.valueOf=W.toJSON=function(){return we(this)},W._isBigNumber=!0,ie!=null&&F.set(ie),F}function G(ie){var ce=ie|0;return ie>0||ie===ce?ce:ce-1}function Y(ie){for(var ce,M,$=1,W=ie.length,he=ie[0]+"";$<W;){for(ce=ie[$++]+"",M=N-ce.length;M--;ce="0"+ce);he+=ce}for(W=he.length;he.charCodeAt(--W)===48;);return he.slice(0,W+1||1)}function se(ie,ce){var M,$,W=ie.c,he=ce.c,ve=ie.s,_=ce.s,P=ie.e,L=ce.e;if(!ve||!_)return null;if(M=W&&!W[0],$=he&&!he[0],M||$)return M?$?0:-_:ve;if(ve!=_)return ve;if(M=ve<0,$=P==L,!W||!he)return $?0:!W^M?1:-1;if(!$)return P>L^M?1:-1;for(_=(P=W.length)<(L=he.length)?P:L,ve=0;ve<_;ve++)if(W[ve]!=he[ve])return W[ve]>he[ve]^M?1:-1;return P==L?0:P>L^M?1:-1}function ne(ie,ce,M,$){if(ie<ce||ie>M||ie!==d(ie))throw Error(p+($||"Argument")+(typeof ie=="number"?ie<ce||ie>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ie))}function ae(ie){var ce=ie.c.length-1;return G(ie.e/N)==ce&&ie.c[ce]%2!=0}function be(ie,ce){return(ie.length>1?ie.charAt(0)+"."+ie.slice(1):ie)+(ce<0?"e":"e+")+ce}function j(ie,ce,M){var $,W;if(ce<0){for(W=M+".";++ce;W+=M);ie=W+ie}else if($=ie.length,++ce>$){for(W=M,ce-=$;--ce;W+=M);ie+=W}else ce<$&&(ie=ie.slice(0,ce)+"."+ie.slice(ce));return ie}i=v(),i.default=i.BigNumber=i,r.exports?r.exports=i:(n||(n=typeof self<"u"&&self?self:window),n.BigNumber=i)})(Lw)}(pl)),pl.exports}var lf,fp;function Kw(){return fp||(fp=1,lf=function(n,i,o){var l=new n.Uint8Array(o),d=i.pushInt,p=i.pushInt32,u=i.pushInt32Neg,w=i.pushInt64,N=i.pushInt64Neg,k=i.pushFloat,b=i.pushFloatSingle,R=i.pushFloatDouble,T=i.pushTrue,v=i.pushFalse,G=i.pushUndefined,Y=i.pushNull,se=i.pushInfinity,ne=i.pushInfinityNeg,ae=i.pushNaN,be=i.pushNaNNeg,j=i.pushArrayStart,ie=i.pushArrayStartFixed,ce=i.pushArrayStartFixed32,M=i.pushArrayStartFixed64,$=i.pushObjectStart,W=i.pushObjectStartFixed,he=i.pushObjectStartFixed32,ve=i.pushObjectStartFixed64,_=i.pushByteString,P=i.pushByteStringStart,L=i.pushUtf8String,J=i.pushUtf8StringStart,fe=i.pushSimpleUnassigned,re=i.pushTagStart,xe=i.pushTagStart4,_e=i.pushTagStart8,z=i.pushTagUnassigned,le=i.pushBreak,Fe=n.Math.pow,F=0,Oe=0,$e=0;function Ee(Q){for(Q=Q|0,F=0,Oe=Q;(F|0)<(Oe|0)&&($e=gu[l[F]&255](l[F]|0)|0,!(($e|0)>0)););return $e|0}function de(Q){return Q=Q|0,((F|0)+(Q|0)|0)<(Oe|0)?0:1}function we(Q){return Q=Q|0,l[Q|0]<<8|l[Q+1|0]|0}function B(Q){return Q=Q|0,l[Q|0]<<24|l[Q+1|0]<<16|l[Q+2|0]<<8|l[Q+3|0]|0}function O(Q){return Q=Q|0,d(Q|0),F=F+1|0,0}function V(Q){return Q=Q|0,de(1)|0?1:(d(l[F+1|0]|0),F=F+2|0,0)}function D(Q){return Q=Q|0,de(2)|0?1:(d(we(F+1|0)|0),F=F+3|0,0)}function K(Q){return Q=Q|0,de(4)|0?1:(p(we(F+1|0)|0,we(F+3|0)|0),F=F+5|0,0)}function Z(Q){return Q=Q|0,de(8)|0?1:(w(we(F+1|0)|0,we(F+3|0)|0,we(F+5|0)|0,we(F+7|0)|0),F=F+9|0,0)}function x(Q){return Q=Q|0,d(-1-(Q-32|0)|0),F=F+1|0,0}function h(Q){return Q=Q|0,de(1)|0?1:(d(-1-(l[F+1|0]|0)|0),F=F+2|0,0)}function c(Q){Q=Q|0;var Le=0;return de(2)|0?1:(Le=we(F+1|0)|0,d(-1-(Le|0)|0),F=F+3|0,0)}function S(Q){return Q=Q|0,de(4)|0?1:(u(we(F+1|0)|0,we(F+3|0)|0),F=F+5|0,0)}function I(Q){return Q=Q|0,de(8)|0?1:(N(we(F+1|0)|0,we(F+3|0)|0,we(F+5|0)|0,we(F+7|0)|0),F=F+9|0,0)}function q(Q){Q=Q|0;var Le=0,rt=0,Je=0;return Je=Q-64|0,de(Je|0)|0?1:(Le=F+1|0,rt=(F+1|0)+(Je|0)|0,_(Le|0,rt|0),F=rt|0,0)}function oe(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(1)|0||(Je=l[F+1|0]|0,Le=F+2|0,rt=(F+2|0)+(Je|0)|0,de(Je+1|0)|0)?1:(_(Le|0,rt|0),F=rt|0,0)}function Se(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(2)|0||(Je=we(F+1|0)|0,Le=F+3|0,rt=(F+3|0)+(Je|0)|0,de(Je+2|0)|0)?1:(_(Le|0,rt|0),F=rt|0,0)}function Ie(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(4)|0||(Je=B(F+1|0)|0,Le=F+5|0,rt=(F+5|0)+(Je|0)|0,de(Je+4|0)|0)?1:(_(Le|0,rt|0),F=rt|0,0)}function Ce(Q){return Q=Q|0,1}function Me(Q){return Q=Q|0,P(),F=F+1|0,0}function E(Q){Q=Q|0;var Le=0,rt=0,Je=0;return Je=Q-96|0,de(Je|0)|0?1:(Le=F+1|0,rt=(F+1|0)+(Je|0)|0,L(Le|0,rt|0),F=rt|0,0)}function m(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(1)|0||(Je=l[F+1|0]|0,Le=F+2|0,rt=(F+2|0)+(Je|0)|0,de(Je+1|0)|0)?1:(L(Le|0,rt|0),F=rt|0,0)}function g(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(2)|0||(Je=we(F+1|0)|0,Le=F+3|0,rt=(F+3|0)+(Je|0)|0,de(Je+2|0)|0)?1:(L(Le|0,rt|0),F=rt|0,0)}function U(Q){Q=Q|0;var Le=0,rt=0,Je=0;return de(4)|0||(Je=B(F+1|0)|0,Le=F+5|0,rt=(F+5|0)+(Je|0)|0,de(Je+4|0)|0)?1:(L(Le|0,rt|0),F=rt|0,0)}function ee(Q){return Q=Q|0,1}function ye(Q){return Q=Q|0,J(),F=F+1|0,0}function pe(Q){return Q=Q|0,ie(Q-128|0),F=F+1|0,0}function De(Q){return Q=Q|0,de(1)|0?1:(ie(l[F+1|0]|0),F=F+2|0,0)}function Be(Q){return Q=Q|0,de(2)|0?1:(ie(we(F+1|0)|0),F=F+3|0,0)}function Pe(Q){return Q=Q|0,de(4)|0?1:(ce(we(F+1|0)|0,we(F+3|0)|0),F=F+5|0,0)}function We(Q){return Q=Q|0,de(8)|0?1:(M(we(F+1|0)|0,we(F+3|0)|0,we(F+5|0)|0,we(F+7|0)|0),F=F+9|0,0)}function Xe(Q){return Q=Q|0,j(),F=F+1|0,0}function ot(Q){Q=Q|0;var Le=0;return Le=Q-160|0,de(Le|0)|0?1:(W(Le|0),F=F+1|0,0)}function ai(Q){return Q=Q|0,de(1)|0?1:(W(l[F+1|0]|0),F=F+2|0,0)}function zr(Q){return Q=Q|0,de(2)|0?1:(W(we(F+1|0)|0),F=F+3|0,0)}function Vr(Q){return Q=Q|0,de(4)|0?1:(he(we(F+1|0)|0,we(F+3|0)|0),F=F+5|0,0)}function $i(Q){return Q=Q|0,de(8)|0?1:(ve(we(F+1|0)|0,we(F+3|0)|0,we(F+5|0)|0,we(F+7|0)|0),F=F+9|0,0)}function zi(Q){return Q=Q|0,$(),F=F+1|0,0}function Ar(Q){return Q=Q|0,re(Q-192|0|0),F=F+1|0,0}function fu(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function du(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function Go(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function hu(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function pt(Q){return Q=Q|0,re(Q-192|0|0),F=F+1|0,0}function Wo(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function Vi(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function gd(Q){return Q=Q|0,re(Q|0),F=F+1|0,0}function li(Q){return Q=Q|0,de(1)|0?1:(re(l[F+1|0]|0),F=F+2|0,0)}function qi(Q){return Q=Q|0,de(2)|0?1:(re(we(F+1|0)|0),F=F+3|0,0)}function Hi(Q){return Q=Q|0,de(4)|0?1:(xe(we(F+1|0)|0,we(F+3|0)|0),F=F+5|0,0)}function Ms(Q){return Q=Q|0,de(8)|0?1:(_e(we(F+1|0)|0,we(F+3|0)|0,we(F+5|0)|0,we(F+7|0)|0),F=F+9|0,0)}function vt(Q){return Q=Q|0,fe((Q|0)-224|0),F=F+1|0,0}function pu(Q){return Q=Q|0,v(),F=F+1|0,0}function mu(Q){return Q=Q|0,T(),F=F+1|0,0}function nn(Q){return Q=Q|0,Y(),F=F+1|0,0}function Lo(Q){return Q=Q|0,G(),F=F+1|0,0}function Ko(Q){return Q=Q|0,de(1)|0?1:(fe(l[F+1|0]|0),F=F+2|0,0)}function yu(Q){Q=Q|0;var Le=0,rt=0,Je=1,ui=0,qr=0,wd=0;return de(2)|0?1:(Le=l[F+1|0]|0,rt=l[F+2|0]|0,(Le|0)&128&&(Je=-1),ui=+(((Le|0)&124)>>2),qr=+(((Le|0)&3)<<8|rt),+ui==0?k(+(+Je*5960464477539063e-23*+qr)):+ui==31?+Je==1?+qr>0?ae():se():+qr>0?be():ne():k(+(+Je*Fe(2,+(+ui-25))*+(1024+qr))),F=F+3|0,0)}function Do(Q){return Q=Q|0,de(4)|0?1:(b(l[F+1|0]|0,l[F+2|0]|0,l[F+3|0]|0,l[F+4|0]|0),F=F+5|0,0)}function Yo(Q){return Q=Q|0,de(8)|0?1:(R(l[F+1|0]|0,l[F+2|0]|0,l[F+3|0]|0,l[F+4|0]|0,l[F+5|0]|0,l[F+6|0]|0,l[F+7|0]|0,l[F+8|0]|0),F=F+9|0,0)}function at(Q){return Q=Q|0,1}function Zo(Q){return Q=Q|0,le(),F=F+1|0,0}var gu=[O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,V,D,K,Z,at,at,at,at,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,h,c,S,I,at,at,at,at,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,oe,Se,Ie,Ce,at,at,at,Me,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,m,g,U,ee,at,at,at,ye,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,De,Be,Pe,We,at,at,at,Xe,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ai,zr,Vr,$i,at,at,at,zi,Ar,Ar,Ar,Ar,Ar,Ar,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,li,qi,Hi,Ms,at,at,at,at,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,pu,mu,nn,Lo,Ko,yu,Do,Yo,at,at,at,Zo];return{parse:Ee}}),lf}var uf={},ur={},dp;function tu(){if(dp)return ur;dp=1;const r=eu().BigNumber;return ur.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},ur.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},ur.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},ur.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},ur.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},ur.SHIFT32=Math.pow(2,32),ur.SHIFT16=Math.pow(2,16),ur.MAX_SAFE_HIGH=2097151,ur.NEG_ONE=new r(-1),ur.TEN=new r(10),ur.TWO=new r(2),ur.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},ur}var hp;function ld(){return hp||(hp=1,function(r){const{Buffer:n}=Jl(),i=eu().BigNumber,o=tu(),l=o.SHIFT32,d=o.SHIFT16,p=2097151;r.parseHalf=function(N){var k,b,R;return R=N[0]&128?-1:1,k=(N[0]&124)>>2,b=(N[0]&3)<<8|N[1],k?k===31?R*(b?NaN:1/0):R*Math.pow(2,k-25)*(1024+b):R*5960464477539063e-23*b};function u(w){return w<16?"0"+w.toString(16):w.toString(16)}r.arrayBufferToBignumber=function(w){const N=w.byteLength;let k="";for(let b=0;b<N;b++)k+=u(w[b]);return new i(k,16)},r.buildMap=w=>{const N=new Map,k=Object.keys(w),b=k.length;for(let R=0;R<b;R++)N.set(k[R],w[k[R]]);return N},r.buildInt32=(w,N)=>w*d+N,r.buildInt64=(w,N,k,b)=>{const R=r.buildInt32(w,N),T=r.buildInt32(k,b);return R>p?new i(R).times(l).plus(T):R*l+T},r.writeHalf=function(N,k){const b=n.allocUnsafe(4);b.writeFloatBE(k,0);const R=b.readUInt32BE(0);if((R&8191)!==0)return!1;var T=R>>16&32768;const v=R>>23&255,G=R&8388607;if(v>=113&&v<=142)T+=(v-112<<10)+(G>>13);else if(v>=103&&v<113){if(G&(1<<126-v)-1)return!1;T+=G+8388608>>126-v}else return!1;return N.writeUInt16BE(T,0),!0},r.keySorter=function(w,N){var k=w[0].byteLength,b=N[0].byteLength;return k>b?1:b>k?-1:w[0].compare(N[0])},r.isNegativeZero=w=>w===0&&1/w<0,r.nextPowerOf2=w=>{let N=0;if(w&&!(w&w-1))return w;for(;w!==0;)w>>=1,N+=1;return 1<<N}}(uf)),uf}var cf,pp;function iy(){if(pp)return cf;pp=1;const r=tu(),n=r.MT,i=r.SIMPLE,o=r.SYMS;class l{constructor(p){if(typeof p!="number")throw new Error("Invalid Simple type: "+typeof p);if(p<0||p>255||(p|0)!==p)throw new Error("value must be a small positive integer: "+p);this.value=p}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(p){return p._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(p){return p instanceof l}static decode(p,u){switch(u==null&&(u=!0),p){case i.FALSE:return!1;case i.TRUE:return!0;case i.NULL:return u?null:o.NULL;case i.UNDEFINED:return u?void 0:o.UNDEFINED;case-1:if(!u)throw new Error("Invalid BREAK");return o.BREAK;default:return new l(p)}}}return cf=l,cf}var ff,mp;function sy(){if(mp)return ff;mp=1;class r{constructor(i,o,l){if(this.tag=i,this.value=o,this.err=l,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(i){return i._pushTag(this.tag),i.pushAny(this.value)}convert(i){var o,l;if(l=i?.[this.tag],typeof l!="function"&&(l=r["_tag"+this.tag],typeof l!="function"))return this;try{return l.call(r,this.value)}catch(d){return o=d,this.err=o,this}}}return ff=r,ff}var df,yp;function oy(){if(yp)return df;yp=1;const r=self.location?self.location.protocol+"//"+self.location.host:"",n=self.URL;class i{constructor(d="",p=r){this.super=new n(d,p),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(d){this.super.hash=d}set host(d){this.super.host=d}set hostname(d){this.super.hostname=d}set href(d){this.super.href=d}set origin(d){this.super.origin=d}set password(d){this.super.password=d}set pathname(d){this.super.pathname=d}set port(d){this.super.port=d}set protocol(d){this.super.protocol=d}set search(d){this.super.search=d}set searchParams(d){this.super.searchParams=d}set username(d){this.super.username=d}createObjectURL(d){return this.super.createObjectURL(d)}revokeObjectURL(d){this.super.revokeObjectURL(d)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function o(l){if(typeof l=="string")return new n(l).toString();if(!(l instanceof n)){const d=l.username&&l.password?`${l.username}:${l.password}@`:"",p=l.auth?l.auth+"@":"",u=l.port?":"+l.port:"",w=l.protocol?l.protocol+"//":"",N=l.host||"",k=l.hostname||"",b=l.search||(l.query?"?"+l.query:""),R=l.hash||"",T=l.pathname||"",v=l.path||T+b;return`${w}${d||p}${N||k+u}${v}${R}`}}return df={URLWithLegacySupport:i,URLSearchParams:self.URLSearchParams,defaultBase:r,format:o},df}var hf,gp;function Dw(){if(gp)return hf;gp=1;const{URLWithLegacySupport:r,format:n}=oy();return hf=(i,o={},l={},d)=>{let p=o.protocol?o.protocol.replace(":",""):"http";p=(l[p]||d||p)+":";let u;try{u=new r(i)}catch{u={}}const w=Object.assign({},o,{protocol:p||u.protocol,host:o.host||u.host});return new r(i,n(w)).toString()},hf}var pf,wp;function ay(){if(wp)return pf;wp=1;const{URLWithLegacySupport:r,format:n,URLSearchParams:i,defaultBase:o}=oy(),l=Dw();return pf={URL:r,URLSearchParams:i,format:n,relative:l,defaultBase:o},pf}var mf,vp;function ly(){if(vp)return mf;vp=1;const{Buffer:r}=Jl(),n=td(),i=eu().BigNumber,o=Kw(),l=ld(),d=tu(),p=iy(),u=sy(),{URL:w}=ay();class N{constructor(b){b=b||{},!b.size||b.size<65536?b.size=65536:b.size=l.nextPowerOf2(b.size),this._heap=new ArrayBuffer(b.size),this._heap8=new Uint8Array(this._heap),this._buffer=r.from(this._heap),this._reset(),this._knownTags=Object.assign({0:R=>new Date(R),1:R=>new Date(R*1e3),2:R=>l.arrayBufferToBignumber(R),3:R=>d.NEG_ONE.minus(l.arrayBufferToBignumber(R)),4:R=>d.TEN.pow(R[0]).times(R[1]),5:R=>d.TWO.pow(R[0]).times(R[1]),32:R=>new w(R),35:R=>new RegExp(R)},b.tags),this.parser=o(q1,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var b=this._parents.pop();if(b.length>0)throw new Error(`Missing ${b.length} elements`);switch(b.type){case d.PARENT.TAG:this._push(this.createTag(b.ref[0],b.ref[1]));break;case d.PARENT.BYTE_STRING:this._push(this.createByteString(b.ref,b.length));break;case d.PARENT.UTF8_STRING:this._push(this.createUtf8String(b.ref,b.length));break;case d.PARENT.MAP:if(b.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(b.ref,b.length));break;case d.PARENT.OBJECT:if(b.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(b.ref,b.length));break;case d.PARENT.ARRAY:this._push(this.createArray(b.ref,b.length));break}this._currentParent&&this._currentParent.type===d.PARENT.TAG&&this._dec()}_dec(){const b=this._currentParent;b.length<0||(b.length--,b.length===0&&this._closeParent())}_push(b,R){const T=this._currentParent;switch(T.values++,T.type){case d.PARENT.ARRAY:case d.PARENT.BYTE_STRING:case d.PARENT.UTF8_STRING:T.length>-1?this._ref[this._ref.length-T.length]=b:this._ref.push(b),this._dec();break;case d.PARENT.OBJECT:T.tmpKey!=null?(this._ref[T.tmpKey]=b,T.tmpKey=null,this._dec()):(T.tmpKey=b,typeof T.tmpKey!="string"&&(T.type=d.PARENT.MAP,T.ref=l.buildMap(T.ref)));break;case d.PARENT.MAP:T.tmpKey!=null?(this._ref.set(T.tmpKey,b),T.tmpKey=null,this._dec()):T.tmpKey=b;break;case d.PARENT.TAG:this._ref.push(b),R||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(b,R,T){this._parents[this._depth]={type:R,length:T,ref:b,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:d.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(b,R){const T=this._knownTags[b];return T?T(R):new u(b,R)}createMap(b,R){return b}createObject(b,R){return b}createArray(b,R){return b}createByteString(b,R){return r.concat(b)}createByteStringFromHeap(b,R){return b===R?r.alloc(0):r.from(this._heap.slice(b,R))}createInt(b){return b}createInt32(b,R){return l.buildInt32(b,R)}createInt64(b,R,T,v){return l.buildInt64(b,R,T,v)}createFloat(b){return b}createFloatSingle(b,R,T,v){return n.read([b,R,T,v],0,!1,23,4)}createFloatDouble(b,R,T,v,G,Y,se,ne){return n.read([b,R,T,v,G,Y,se,ne],0,!1,52,8)}createInt32Neg(b,R){return-1-l.buildInt32(b,R)}createInt64Neg(b,R,T,v){const G=l.buildInt32(b,R),Y=l.buildInt32(T,v);return G>d.MAX_SAFE_HIGH?d.NEG_ONE.minus(new i(G).times(d.SHIFT32).plus(Y)):-1-(G*d.SHIFT32+Y)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(b,R){return b.join("")}createUtf8StringFromHeap(b,R){return b===R?"":this._buffer.toString("utf8",b,R)}createSimpleUnassigned(b){return new p(b)}pushInt(b){this._push(this.createInt(b))}pushInt32(b,R){this._push(this.createInt32(b,R))}pushInt64(b,R,T,v){this._push(this.createInt64(b,R,T,v))}pushFloat(b){this._push(this.createFloat(b))}pushFloatSingle(b,R,T,v){this._push(this.createFloatSingle(b,R,T,v))}pushFloatDouble(b,R,T,v,G,Y,se,ne){this._push(this.createFloatDouble(b,R,T,v,G,Y,se,ne))}pushInt32Neg(b,R){this._push(this.createInt32Neg(b,R))}pushInt64Neg(b,R,T,v){this._push(this.createInt64Neg(b,R,T,v))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],d.PARENT.ARRAY,-1)}pushArrayStartFixed(b){this._createArrayStartFixed(b)}pushArrayStartFixed32(b,R){const T=l.buildInt32(b,R);this._createArrayStartFixed(T)}pushArrayStartFixed64(b,R,T,v){const G=l.buildInt64(b,R,T,v);this._createArrayStartFixed(G)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(b){this._createObjectStartFixed(b)}pushObjectStartFixed32(b,R){const T=l.buildInt32(b,R);this._createObjectStartFixed(T)}pushObjectStartFixed64(b,R,T,v){const G=l.buildInt64(b,R,T,v);this._createObjectStartFixed(G)}pushByteStringStart(){this._parents[this._depth]={type:d.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(b,R){this._push(this.createByteStringFromHeap(b,R))}pushUtf8StringStart(){this._parents[this._depth]={type:d.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(b,R){this._push(this.createUtf8StringFromHeap(b,R))}pushSimpleUnassigned(b){this._push(this.createSimpleUnassigned(b))}pushTagStart(b){this._parents[this._depth]={type:d.PARENT.TAG,length:1,ref:[b]}}pushTagStart4(b,R){this.pushTagStart(l.buildInt32(b,R))}pushTagStart8(b,R,T,v){this.pushTagStart(l.buildInt64(b,R,T,v))}pushTagUnassigned(b){this._push(this.createTag(b))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(b){if(b===0){this._push(this.createObject({}));return}this._createParent({},d.PARENT.OBJECT,b)}_createArrayStartFixed(b){if(b===0){this._push(this.createArray([]));return}this._createParent(new Array(b),d.PARENT.ARRAY,b)}_decode(b){if(b.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(b);const R=this.parser.parse(b.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(R>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(b){return this._decode(b),this._res[0]}decodeAll(b){return this._decode(b),this._res}static decode(b,R){return typeof b=="string"&&(b=r.from(b,R||"hex")),new N({size:b.length}).decodeFirst(b)}static decodeAll(b,R){return typeof b=="string"&&(b=r.from(b,R||"hex")),new N({size:b.length}).decodeAll(b)}}return N.decodeFirst=N.decode,mf=N,mf}var yf,xp;function Yw(){if(xp)return yf;xp=1;const{Buffer:r}=Jl(),n=ly(),i=ld();class o extends n{createTag(p,u){return`${p}(${u})`}createInt(p){return super.createInt(p).toString()}createInt32(p,u){return super.createInt32(p,u).toString()}createInt64(p,u,w,N){return super.createInt64(p,u,w,N).toString()}createInt32Neg(p,u){return super.createInt32Neg(p,u).toString()}createInt64Neg(p,u,w,N){return super.createInt64Neg(p,u,w,N).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(p){const u=super.createFloat(p);return i.isNegativeZero(p)?"-0_1":`${u}_1`}createFloatSingle(p,u,w,N){return`${super.createFloatSingle(p,u,w,N)}_2`}createFloatDouble(p,u,w,N,k,b,R,T){return`${super.createFloatDouble(p,u,w,N,k,b,R,T)}_3`}createByteString(p,u){const w=p.join(", ");return u===-1?`(_ ${w})`:`h'${w}`}createByteStringFromHeap(p,u){return`h'${r.from(super.createByteStringFromHeap(p,u)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(p){return`simple(${p})`}createArray(p,u){const w=super.createArray(p,u);return u===-1?`[_ ${w.join(", ")}]`:`[${w.join(", ")}]`}createMap(p,u){const w=super.createMap(p),N=Array.from(w.keys()).reduce(l(w),"");return u===-1?`{_ ${N}}`:`{${N}}`}createObject(p,u){const w=super.createObject(p),N=Object.keys(w).reduce(l(w),"");return u===-1?`{_ ${N}}`:`{${N}}`}createUtf8String(p,u){const w=p.join(", ");return u===-1?`(_ ${w})`:`"${w}"`}createUtf8StringFromHeap(p,u){return`"${r.from(super.createUtf8StringFromHeap(p,u)).toString("utf8")}"`}static diagnose(p,u){return typeof p=="string"&&(p=r.from(p,u||"hex")),new o().decodeFirst(p)}}yf=o;function l(d){return(p,u)=>p?`${p}, ${u}: ${d[u]}`:`${u}: ${d[u]}`}return yf}var gf,_p;function Zw(){if(_p)return gf;_p=1;const{Buffer:r}=Jl(),{URL:n}=ay(),i=eu().BigNumber,o=ld(),l=tu(),d=l.MT,p=l.NUMBYTES,u=l.SHIFT32,w=l.SYMS,N=l.TAG,k=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.TWO,b=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.FOUR,R=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.EIGHT,T=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.TRUE,v=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.FALSE,G=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.UNDEFINED,Y=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.NULL,se=new i("0x20000000000000"),ne=r.from("f97e00","hex"),ae=r.from("f9fc00","hex"),be=r.from("f97c00","hex");function j(ce){return{}.toString.call(ce).slice(8,-1)}class ie{constructor(M){M=M||{},this.streaming=typeof M.stream=="function",this.onData=M.stream,this.semanticTypes=[[n,this._pushUrl],[i,this._pushBigNumber]];const $=M.genTypes||[],W=$.length;for(let he=0;he<W;he++)this.addSemanticType($[he][0],$[he][1]);this._reset()}addSemanticType(M,$){const W=this.semanticTypes.length;for(let he=0;he<W;he++)if(this.semanticTypes[he][0]===M){const _=this.semanticTypes[he][1];return this.semanticTypes[he][1]=$,_}return this.semanticTypes.push([M,$]),null}push(M){return M&&(this.result[this.offset]=M,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=M.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(M,$,W){return this.result[this.offset]=M,this.resultMethod[this.offset]=$,this.resultLength[this.offset]=W,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(M){return this.pushWrite(M,1,1)}_pushUInt16BE(M){return this.pushWrite(M,2,2)}_pushUInt32BE(M){return this.pushWrite(M,3,4)}_pushDoubleBE(M){return this.pushWrite(M,4,8)}_pushNaN(){return this.push(ne)}_pushInfinity(M){const $=M<0?ae:be;return this.push($)}_pushFloat(M){const $=r.allocUnsafe(2);if(o.writeHalf($,M)&&o.parseHalf($)===M)return this._pushUInt8(k)&&this.push($);const W=r.allocUnsafe(4);return W.writeFloatBE(M,0),W.readFloatBE(0)===M?this._pushUInt8(b)&&this.push(W):this._pushUInt8(R)&&this._pushDoubleBE(M)}_pushInt(M,$,W){const he=$<<5;return M<24?this._pushUInt8(he|M):M<=255?this._pushUInt8(he|p.ONE)&&this._pushUInt8(M):M<=65535?this._pushUInt8(he|p.TWO)&&this._pushUInt16BE(M):M<=4294967295?this._pushUInt8(he|p.FOUR)&&this._pushUInt32BE(M):M<=Number.MAX_SAFE_INTEGER?this._pushUInt8(he|p.EIGHT)&&this._pushUInt32BE(Math.floor(M/u))&&this._pushUInt32BE(M%u):$===d.NEG_INT?this._pushFloat(W):this._pushFloat(M)}_pushIntNum(M){return M<0?this._pushInt(-M-1,d.NEG_INT,M):this._pushInt(M,d.POS_INT)}_pushNumber(M){switch(!1){case M===M:return this._pushNaN(M);case isFinite(M):return this._pushInfinity(M);case M%1!==0:return this._pushIntNum(M);default:return this._pushFloat(M)}}_pushString(M){const $=r.byteLength(M,"utf8");return this._pushInt($,d.UTF8_STRING)&&this.pushWrite(M,5,$)}_pushBoolean(M){return this._pushUInt8(M?T:v)}_pushUndefined(M){return this._pushUInt8(G)}_pushArray(M,$){const W=$.length;if(!M._pushInt(W,d.ARRAY))return!1;for(let he=0;he<W;he++)if(!M.pushAny($[he]))return!1;return!0}_pushTag(M){return this._pushInt(M,d.TAG)}_pushDate(M,$){return M._pushTag(N.DATE_EPOCH)&&M.pushAny(Math.round($/1e3))}_pushBuffer(M,$){return M._pushInt($.length,d.BYTE_STRING)&&M.push($)}_pushNoFilter(M,$){return M._pushBuffer(M,$.slice())}_pushRegexp(M,$){return M._pushTag(N.REGEXP)&&M.pushAny($.source)}_pushSet(M,$){if(!M._pushInt($.size,d.ARRAY))return!1;for(const W of $)if(!M.pushAny(W))return!1;return!0}_pushUrl(M,$){return M._pushTag(N.URI)&&M.pushAny($.format())}_pushBigint(M){let $=N.POS_BIGINT;M.isNegative()&&(M=M.negated().minus(1),$=N.NEG_BIGINT);let W=M.toString(16);W.length%2&&(W="0"+W);const he=r.from(W,"hex");return this._pushTag($)&&this._pushBuffer(this,he)}_pushBigNumber(M,$){if($.isNaN())return M._pushNaN();if(!$.isFinite())return M._pushInfinity($.isNegative()?-1/0:1/0);if($.isInteger())return M._pushBigint($);if(!(M._pushTag(N.DECIMAL_FRAC)&&M._pushInt(2,d.ARRAY)))return!1;const W=$.decimalPlaces(),he=$.multipliedBy(new i(10).pow(W));return M._pushIntNum(-W)?he.abs().isLessThan(se)?M._pushIntNum(he.toNumber()):M._pushBigint(he):!1}_pushMap(M,$){return M._pushInt($.size,d.MAP)?this._pushRawMap($.size,Array.from($)):!1}_pushObject(M){if(!M)return this._pushUInt8(Y);for(var $=this.semanticTypes.length,W=0;W<$;W++)if(M instanceof this.semanticTypes[W][0])return this.semanticTypes[W][1].call(M,this,M);var he=M.encodeCBOR;if(typeof he=="function")return he.call(M,this);var ve=Object.keys(M),_=ve.length;return this._pushInt(_,d.MAP)?this._pushRawMap(_,ve.map(P=>[P,M[P]])):!1}_pushRawMap(M,$){$=$.map(function(he){return he[0]=ie.encode(he[0]),he}).sort(o.keySorter);for(var W=0;W<M;W++)if(!this.push($[W][0])||!this.pushAny($[W][1]))return!1;return!0}write(M){return this.pushAny(M)}pushAny(M){var $=j(M);switch($){case"Number":return this._pushNumber(M);case"String":return this._pushString(M);case"Boolean":return this._pushBoolean(M);case"Object":return this._pushObject(M);case"Array":return this._pushArray(this,M);case"Uint8Array":return this._pushBuffer(this,r.isBuffer(M)?M:r.from(M));case"Null":return this._pushUInt8(Y);case"Undefined":return this._pushUndefined(M);case"Map":return this._pushMap(this,M);case"Set":return this._pushSet(this,M);case"URL":return this._pushUrl(this,M);case"BigNumber":return this._pushBigNumber(this,M);case"Date":return this._pushDate(this,M);case"RegExp":return this._pushRegexp(this,M);case"Symbol":switch(M){case w.NULL:return this._pushObject(null);case w.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+M.toString())}default:throw new Error("Unknown type: "+typeof M+", "+(M?M.toString():""))}}finalize(){if(this.offset===0)return null;for(var M=this.result,$=this.resultLength,W=this.resultMethod,he=this.offset,ve=0,_=0;_<he;_++)ve+=$[_];var P=r.allocUnsafe(ve),L=0,J=0;for(_=0;_<he;_++){switch(J=$[_],W[_]){case 0:M[_].copy(P,L);break;case 1:P.writeUInt8(M[_],L,!0);break;case 2:P.writeUInt16BE(M[_],L,!0);break;case 3:P.writeUInt32BE(M[_],L,!0);break;case 4:P.writeDoubleBE(M[_],L,!0);break;case 5:P.write(M[_],L,J,"utf8");break;default:throw new Error("unkown method")}L+=J}var fe=P;return this._reset(),fe}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(M){const $=new ie;if(!$.pushAny(M))throw new Error("Failed to encode input");return $.finalize()}}return gf=ie,gf}var bp;function Qw(){return bp||(bp=1,function(r){r.Diagnose=Yw(),r.Decoder=ly(),r.Encoder=Zw(),r.Simple=iy(),r.Tagged=sy(),r.decodeAll=r.Decoder.decodeAll,r.decodeFirst=r.Decoder.decodeFirst,r.diagnose=r.Diagnose.diagnose,r.encode=r.Encoder.encode,r.decode=r.Decoder.decode,r.leveldb={decode:r.Decoder.decodeAll,encode:r.Encoder.encode,buffer:!0,name:"cbor"}}(of)),of}var Xw=Qw();const uy=Jf(Xw);function jr(r){return ko(Iw.create().update(new Uint8Array(r)).digest())}function ml(r){if(r instanceof uy.Tagged)return ml(r.value);if(typeof r=="string")return cy(r);if(typeof r=="number")return jr(bt(r));if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return jr(r);if(Array.isArray(r)){const n=r.map(ml);return jr($r(...n))}else{if(r&&typeof r=="object"&&r._isPrincipal)return jr(r.toUint8Array());if(typeof r=="object"&&r!==null&&typeof r.toHash=="function")return ml(r.toHash());if(typeof r=="object")return Ml(r);if(typeof r=="bigint")return jr(bt(r))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${r}`),{value:r})}const cy=r=>{const n=new TextEncoder().encode(r);return jr(n)};function Po(r){return Ml(r)}function Ml(r){const o=Object.entries(r).filter(([,p])=>p!==void 0).map(([p,u])=>{const w=cy(p),N=ml(u);return[w,N]}).sort(([p],[u])=>vm(p,u)),l=$r(...o.map(p=>$r(...p)));return jr(l)}var Jw=function(r,n){var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(i[o[l]]=r[o[l]]);return i};const ev=new TextEncoder().encode(`
ic-request`);class ud{getPrincipal(){return this._principal||(this._principal=et.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(n){const{body:i}=n,o=Jw(n,["body"]),l=Po(i);return Object.assign(Object.assign({},o),{body:{content:i,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign($r(ev,l))}})}}class jl{getPrincipal(){return et.anonymous()}async transformRequest(n){return Object.assign(Object.assign({},n),{body:{content:n.body}})}}var xo={},mn={},ct={},Ep;function fy(){if(Ep)return ct;Ep=1,Object.defineProperty(ct,"__esModule",{value:!0});const r=9007199254740992;function n(_,...P){const L=new Uint8Array(_.byteLength+P.reduce((fe,re)=>fe+re.byteLength,0));L.set(new Uint8Array(_),0);let J=_.byteLength;for(const fe of P)L.set(new Uint8Array(fe),J),J+=fe.byteLength;return L.buffer}function i(_,P,L){L=L.replace(/[^0-9a-fA-F]/g,"");const J=2**(P-24);L=L.slice(-J*2).padStart(J*2,"0");const fe=[(_<<5)+P].concat(L.match(/../g).map(re=>parseInt(re,16)));return new Uint8Array(fe).buffer}function o(_,P){if(P<24)return new Uint8Array([(_<<5)+P]).buffer;{const L=P<=255?24:P<=65535?25:P<=4294967295?26:27;return i(_,L,P.toString(16))}}function l(_){const P=[];for(let L=0;L<_.length;L++){let J=_.charCodeAt(L);J<128?P.push(J):J<2048?P.push(192|J>>6,128|J&63):J<55296||J>=57344?P.push(224|J>>12,128|J>>6&63,128|J&63):(L++,J=(J&1023)<<10|_.charCodeAt(L)&1023,P.push(240|J>>18,128|J>>12&63,128|J>>6&63,128|J&63))}return n(new Uint8Array(o(3,_.length)),new Uint8Array(P))}function d(_,P){if(_==14277111)return n(new Uint8Array([217,217,247]),P);if(_<24)return n(new Uint8Array([192+_]),P);{const L=_<=255?24:_<=65535?25:_<=4294967295?26:27,J=2**(L-24),fe=_.toString(16).slice(-J*2).padStart(J*2,"0"),re=[192+L].concat(fe.match(/../g).map(xe=>parseInt(xe,16)));return new Uint8Array(re).buffer}}ct.tagged=d;function p(_){return new Uint8Array(_).buffer}ct.raw=p;function u(_){if(isNaN(_))throw new RangeError("Invalid number.");_=Math.min(Math.max(0,_),23);const P=[0+_];return new Uint8Array(P).buffer}ct.uSmall=u;function w(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,_),255),_=_.toString(16),i(0,24,_)}ct.u8=w;function N(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,_),65535),_=_.toString(16),i(0,25,_)}ct.u16=N;function k(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,_),4294967295),_=_.toString(16),i(0,26,_)}ct.u32=k;function b(_,P){if(typeof _=="string"&&P==16){if(_.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return i(0,27,_)}if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,_),r),_=_.toString(16),i(0,27,_)}ct.u64=b;function R(_){if(isNaN(_))throw new RangeError("Invalid number.");if(_===0)return u(0);_=Math.min(Math.max(0,-_),24)-1;const P=[32+_];return new Uint8Array(P).buffer}ct.iSmall=R;function T(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,-_-1),255),_=_.toString(16),i(1,24,_)}ct.i8=T;function v(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,-_-1),65535),_=_.toString(16),i(1,25,_)}ct.i16=v;function G(_,P){if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,-_-1),4294967295),_=_.toString(16),i(1,26,_)}ct.i32=G;function Y(_,P){if(typeof _=="string"&&P==16){if(_.startsWith("-")?_=_.slice(1):_="0",_.match(/[^0-9a-fA-F]/)||_.length>16)throw new RangeError("Invalid number.");let L=!1,J=_.split("").reduceRight((fe,re)=>{if(L)return re+fe;let xe=parseInt(re,16)-1;return xe>=0?(L=!0,xe.toString(16)+fe):"f"+fe},"");return L?i(1,27,J):b(0)}if(_=parseInt(""+_,P),isNaN(_))throw new RangeError("Invalid number.");return _=Math.min(Math.max(0,-_-1),9007199254740992),_=_.toString(16),i(1,27,_)}ct.i64=Y;function se(_){return _>=0?_<24?u(_):_<=255?w(_):_<=65535?N(_):_<=4294967295?k(_):b(_):_>=-24?R(_):_>=-255?T(_):_>=-65535?v(_):_>=-4294967295?G(_):Y(_)}ct.number=se;function ne(_){return n(o(2,_.byteLength),_)}ct.bytes=ne;function ae(_){return l(_)}ct.string=ae;function be(_){return n(o(4,_.length),..._)}ct.array=be;function j(_,P=!1){_ instanceof Map||(_=new Map(Object.entries(_)));let L=Array.from(_.entries());return P&&(L=L.sort(([J],[fe])=>J.localeCompare(fe))),n(o(5,_.size),...L.map(([J,fe])=>n(l(J),fe)))}ct.map=j;function ie(_){const P=new Float32Array([_]);return n(new Uint8Array([250]),new Uint8Array(P.buffer))}ct.singleFloat=ie;function ce(_){const P=new Float64Array([_]);return n(new Uint8Array([251]),new Uint8Array(P.buffer))}ct.doubleFloat=ce;function M(_){return _?$():W()}ct.bool=M;function $(){return p(new Uint8Array([245]))}ct.true_=$;function W(){return p(new Uint8Array([244]))}ct.false_=W;function he(){return p(new Uint8Array([246]))}ct.null_=he;function ve(){return p(new Uint8Array([247]))}return ct.undefined_=ve,ct}var Sp;function tv(){if(Sp)return mn;Sp=1;var r=mn&&mn.__importStar||function(u){if(u&&u.__esModule)return u;var w={};if(u!=null)for(var N in u)Object.hasOwnProperty.call(u,N)&&(w[N]=u[N]);return w.default=u,w};Object.defineProperty(mn,"__esModule",{value:!0});const n=r(fy()),i=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class o{constructor(w,N=!1){this._serializer=w,this._stable=N,this.name="jsonDefault",this.priority=-100}match(w){return["undefined","boolean","number","string","object"].indexOf(typeof w)!=-1}encode(w){switch(typeof w){case"undefined":return n.undefined_();case"boolean":return n.bool(w);case"number":return Math.floor(w)===w?n.number(w):n.doubleFloat(w);case"string":return n.string(w);case"object":if(w===null)return n.null_();if(Array.isArray(w))return n.array(w.map(N=>this._serializer.serializeValue(N)));if(i.find(N=>w instanceof N))return n.bytes(w.buffer);if(Object.getOwnPropertyNames(w).indexOf("toJSON")!==-1)return this.encode(w.toJSON());if(w instanceof Map){const N=new Map;for(const[k,b]of w.entries())N.set(k,this._serializer.serializeValue(b));return n.map(N,this._stable)}else{const N=new Map;for(const[k,b]of Object.entries(w))N.set(k,this._serializer.serializeValue(b));return n.map(N,this._stable)}default:throw new Error("Invalid value.")}}}mn.JsonDefaultCborEncoder=o;class l{constructor(){this.name="cborEncoder",this.priority=-90}match(w){return typeof w=="object"&&typeof w.toCBOR=="function"}encode(w){return w.toCBOR()}}mn.ToCborEncoder=l;class d{constructor(){this._encoders=new Set}static withDefaultEncoders(w=!1){const N=new this;return N.addEncoder(new o(N,w)),N.addEncoder(new l),N}removeEncoder(w){for(const N of this._encoders.values())N.name==w&&this._encoders.delete(N)}addEncoder(w){this._encoders.add(w)}getEncoderFor(w){let N=null;for(const k of this._encoders)(!N||k.priority>N.priority)&&k.match(w)&&(N=k);if(N===null)throw new Error("Could not find an encoder for value.");return N}serializeValue(w){return this.getEncoderFor(w).encode(w)}serialize(w){return this.serializeValue(w)}}mn.CborSerializer=d;class p extends d{serialize(w){return n.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(w))]))}}return mn.SelfDescribeCborSerializer=p,mn}var Np;function rv(){return Np||(Np=1,function(r){function n(l){for(var d in l)r.hasOwnProperty(d)||(r[d]=l[d])}var i=xo&&xo.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var p in l)Object.hasOwnProperty.call(l,p)&&(d[p]=l[p]);return d.default=l,d};Object.defineProperty(r,"__esModule",{value:!0}),n(tv());const o=i(fy());r.value=o}(xo)),xo}var yr=rv();class nv{get name(){return"Principal"}get priority(){return 0}match(n){return n&&n._isPrincipal===!0}encode(n){return yr.value.bytes(n.toUint8Array())}}class iv{get name(){return"Buffer"}get priority(){return 1}match(n){return n instanceof ArrayBuffer||ArrayBuffer.isView(n)}encode(n){return yr.value.bytes(new Uint8Array(n))}}class sv{get name(){return"BigInt"}get priority(){return 1}match(n){return typeof n=="bigint"}encode(n){return n>BigInt(0)?yr.value.tagged(2,yr.value.bytes(Sn(n.toString(16)))):yr.value.tagged(3,yr.value.bytes(Sn((BigInt("-1")*n).toString(16))))}}const ru=yr.SelfDescribeCborSerializer.withDefaultEncoders(!0);ru.addEncoder(new nv);ru.addEncoder(new iv);ru.addEncoder(new sv);var Vf;(function(r){r[r.Uint64LittleEndian=71]="Uint64LittleEndian",r[r.Semantic=55799]="Semantic"})(Vf||(Vf={}));function wf(r){return ru.serialize(r)}function Tp(r){const n=r.byteLength;let i=BigInt(0);for(let o=0;o<n;o++)i=i*BigInt(256)+BigInt(r[o]);return i}class ov extends uy.Decoder{createByteString(n){return $r(...n)}createByteStringFromHeap(n,i){return n===i?new ArrayBuffer(0):new Uint8Array(this._heap.slice(n,i))}}function bn(r){const n=new Uint8Array(r),i=new ov({size:n.byteLength,tags:{2:o=>Tp(o),3:o=>-Tp(o),[Vf.Semantic]:o=>o}});try{return i.decodeFirst(n)}catch(o){throw new Error(`Failed to decode CBOR: ${o}, input: ${yt(n)}`)}}const al=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const r=new Uint32Array(1);return window.crypto.getRandomValues(r),r[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const r=new Uint32Array(1);return crypto.getRandomValues(r),r[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var qf;(function(r){r.Call="call"})(qf||(qf={}));function Hf(){const r=new ArrayBuffer(16),n=new DataView(r),i=al(),o=al(),l=al(),d=al();return n.setUint32(0,i),n.setUint32(4,o),n.setUint32(8,l),n.setUint32(12,d),r}const Ap=BigInt(1e6),av=60*1e3;class ll{constructor(n){if(n<90*1e3){const u=BigInt(Date.now()+n)*Ap/BigInt(1e9);this._value=u*BigInt(1e9);return}const d=BigInt(Math.floor(Date.now()+n-av))*Ap/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=d}toCBOR(){return yr.value.u64(this._value.toString(16),16)}toHash(){return bt(this._value)}}function Bp(r=Hf){return async n=>{const i=n.request.headers;n.request.headers=i,n.endpoint==="call"&&(n.body.nonce=r())}}function bo(r){const n=[];return r.forEach((i,o)=>{n.push([o,i])}),n}class vf extends _t{constructor(n,i){super(n),this.response=i,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class lv extends _t{constructor(n,i,o,l,d,p){super(n),this.response=i,this.requestId=o,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=p,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class uv extends _t{constructor(n,i,o,l,d,p){super(n),this.response=i,this.requestId=o,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=p,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class cv extends _t{constructor(n,i,o,l,d,p){super(n),this.response=i,this.requestId=o,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=p,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cd=BigInt(0),$l=BigInt(1);function Uo(r,n){if(typeof n!="boolean")throw new Error(r+" boolean expected, got "+n)}function dy(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?cd:BigInt("0x"+r)}function rn(r){return dy(Fs(r))}function Co(r){return qt(r),dy(Fs(Uint8Array.from(r).reverse()))}function zt(r,n){return hm(r.toString(16).padStart(n*2,"0"))}function nu(r,n){return zt(r,n).reverse()}function rr(r,n,i){let o;if(typeof n=="string")try{o=hm(n)}catch(d){throw new Error(r+" must be hex string or Uint8Array, cause: "+d)}else if(rd(n))o=Uint8Array.from(n);else throw new Error(r+" must be hex string or Uint8Array");const l=o.length;if(typeof i=="number"&&l!==i)throw new Error(r+" of length "+i+" expected, got "+l);return o}const xf=r=>typeof r=="bigint"&&cd<=r;function hy(r,n,i){return xf(r)&&xf(n)&&xf(i)&&n<=r&&r<i}function Eo(r,n,i,o){if(!hy(n,i,o))throw new Error("expected valid "+r+": "+i+" <= n < "+o+", got "+n)}function Ro(r){let n;for(n=0;r>cd;r>>=$l,n+=1);return n}function fv(r,n){return r>>BigInt(n)&$l}const ks=r=>($l<<BigInt(r))-$l;function dv(r){return typeof r=="function"&&Number.isSafeInteger(r.outputLen)}function qo(r,n,i={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function o(l,d,p){const u=r[l];if(p&&u===void 0)return;const w=typeof u;if(w!==d||u===null)throw new Error(`param "${l}" is invalid: expected ${d}, got ${w}`)}Object.entries(n).forEach(([l,d])=>o(l,d,!1)),Object.entries(i).forEach(([l,d])=>o(l,d,!0))}const kp=()=>{throw new Error("not implemented")};function Mo(r){const n=new WeakMap;return(i,...o)=>{const l=n.get(i);if(l!==void 0)return l;const d=r(i,...o);return n.set(i,d),d}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fr=BigInt(0),Vt=BigInt(1),Bi=BigInt(2),hv=BigInt(3),py=BigInt(4),my=BigInt(5),yy=BigInt(8);function At(r,n){const i=r%n;return i>=fr?i:n+i}function Yr(r,n,i){let o=r;for(;n-- >fr;)o*=o,o%=i;return o}function Rp(r,n){if(r===fr)throw new Error("invert: expected non-zero number");if(n<=fr)throw new Error("invert: expected positive modulus, got "+n);let i=At(r,n),o=n,l=fr,d=Vt;for(;i!==fr;){const u=o/i,w=o%i,N=l-d*u;o=i,i=w,l=d,d=N}if(o!==Vt)throw new Error("invert: does not exist");return At(l,n)}function gy(r,n){const i=(r.ORDER+Vt)/py,o=r.pow(n,i);if(!r.eql(r.sqr(o),n))throw new Error("Cannot find square root");return o}function pv(r,n){const i=(r.ORDER-my)/yy,o=r.mul(n,Bi),l=r.pow(o,i),d=r.mul(n,l),p=r.mul(r.mul(d,Bi),l),u=r.mul(d,r.sub(p,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}function mv(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let n=r-Vt,i=0;for(;n%Bi===fr;)n/=Bi,i++;let o=Bi;const l=ji(r);for(;zl(l,o)===1;)if(o++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(i===1)return gy;let d=l.pow(o,n);const p=(n+Vt)/Bi;return function(w,N){if(w.is0(N))return N;if(zl(w,N)!==1)throw new Error("Cannot find square root");let k=i,b=w.mul(w.ONE,d),R=w.pow(N,n),T=w.pow(N,p);for(;!w.eql(R,w.ONE);){if(w.is0(R))return w.ZERO;let v=1,G=w.sqr(R);for(;!w.eql(G,w.ONE);)if(v++,G=w.sqr(G),v===k)throw new Error("Cannot find square root");const Y=Vt<<BigInt(k-v-1),se=w.pow(b,Y);k=v,b=w.sqr(se),R=w.mul(R,b),T=w.mul(T,se)}return T}}function yv(r){return r%py===hv?gy:r%yy===my?pv:mv(r)}const gv=(r,n)=>(At(r,n)&Vt)===Vt,wv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wy(r){const n={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},i=wv.reduce((o,l)=>(o[l]="function",o),n);return qo(r,i),r}function yl(r,n,i){if(i<fr)throw new Error("invalid exponent, negatives unsupported");if(i===fr)return r.ONE;if(i===Vt)return n;let o=r.ONE,l=n;for(;i>fr;)i&Vt&&(o=r.mul(o,l)),l=r.sqr(l),i>>=Vt;return o}function Ri(r,n,i=!1){const o=new Array(n.length).fill(i?r.ZERO:void 0),l=n.reduce((p,u,w)=>r.is0(u)?p:(o[w]=p,r.mul(p,u)),r.ONE),d=r.inv(l);return n.reduceRight((p,u,w)=>r.is0(u)?p:(o[w]=r.mul(p,o[w]),r.mul(p,u)),d),o}function zl(r,n){const i=(r.ORDER-Vt)/Bi,o=r.pow(n,i),l=r.eql(o,r.ONE),d=r.eql(o,r.ZERO),p=r.eql(o,r.neg(r.ONE));if(!l&&!d&&!p)throw new Error("invalid Legendre symbol result");return l?1:d?0:-1}function vv(r,n){n!==void 0&&uw(n);const i=n!==void 0?n:r.toString(2).length,o=Math.ceil(i/8);return{nBitLength:i,nByteLength:o}}function ji(r,n,i=!1,o={}){if(r<=fr)throw new Error("invalid field: expected ORDER > 0, got "+r);let l,d;if(typeof n=="object"&&n!=null){if(o.sqrt||i)throw new Error("cannot specify opts in two arguments");const k=n;k.BITS&&(l=k.BITS),k.sqrt&&(d=k.sqrt),typeof k.isLE=="boolean"&&(i=k.isLE)}else typeof n=="number"&&(l=n),o.sqrt&&(d=o.sqrt);const{nBitLength:p,nByteLength:u}=vv(r,l);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let w;const N=Object.freeze({ORDER:r,isLE:i,BITS:p,BYTES:u,MASK:ks(p),ZERO:fr,ONE:Vt,create:k=>At(k,r),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return fr<=k&&k<r},is0:k=>k===fr,isValidNot0:k=>!N.is0(k)&&N.isValid(k),isOdd:k=>(k&Vt)===Vt,neg:k=>At(-k,r),eql:(k,b)=>k===b,sqr:k=>At(k*k,r),add:(k,b)=>At(k+b,r),sub:(k,b)=>At(k-b,r),mul:(k,b)=>At(k*b,r),pow:(k,b)=>yl(N,k,b),div:(k,b)=>At(k*Rp(b,r),r),sqrN:k=>k*k,addN:(k,b)=>k+b,subN:(k,b)=>k-b,mulN:(k,b)=>k*b,inv:k=>Rp(k,r),sqrt:d||(k=>(w||(w=yv(r)),w(N,k))),toBytes:k=>i?nu(k,u):zt(k,u),fromBytes:k=>{if(k.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+k.length);return i?Co(k):rn(k)},invertBatch:k=>Ri(N,k),cmov:(k,b,R)=>R?b:k});return Object.freeze(N)}function vy(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const n=r.toString(2).length;return Math.ceil(n/8)}function xy(r){const n=vy(r);return n+Math.ceil(n/2)}function xv(r,n,i=!1){const o=r.length,l=vy(n),d=xy(n);if(o<16||o<d||o>1024)throw new Error("expected "+d+"-1024 bytes of input, got "+o);const p=i?Co(r):rn(r),u=At(p,n-Vt)+Vt;return i?nu(u,l):zt(u,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=BigInt(0),ki=BigInt(1);function Io(r,n){const i=n.negate();return r?i:n}function Vl(r,n,i){const o=n==="pz"?p=>p.pz:p=>p.ez,l=Ri(r.Fp,i.map(o));return i.map((p,u)=>p.toAffine(l[u])).map(r.fromAffine)}function _y(r,n){if(!Number.isSafeInteger(r)||r<=0||r>n)throw new Error("invalid window size, expected [1.."+n+"], got W="+r)}function _f(r,n){_y(r,n);const i=Math.ceil(n/r)+1,o=2**(r-1),l=2**r,d=ks(r),p=BigInt(r);return{windows:i,windowSize:o,mask:d,maxNumber:l,shiftBy:p}}function Ip(r,n,i){const{windowSize:o,mask:l,maxNumber:d,shiftBy:p}=i;let u=Number(r&l),w=r>>p;u>o&&(u-=d,w+=ki);const N=n*o,k=N+Math.abs(u)-1,b=u===0,R=u<0,T=n%2!==0;return{nextN:w,offset:k,isZero:b,isNeg:R,isNegF:T,offsetF:N}}function _v(r,n){if(!Array.isArray(r))throw new Error("array expected");r.forEach((i,o)=>{if(!(i instanceof n))throw new Error("invalid point at index "+o)})}function bv(r,n){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((i,o)=>{if(!n.isValid(i))throw new Error("invalid scalar at index "+o)})}const bf=new WeakMap,by=new WeakMap;function Ef(r){return by.get(r)||1}function Fp(r){if(r!==Ps)throw new Error("invalid wNAF")}function Ey(r,n){return{constTimeNegate:Io,hasPrecomputes(i){return Ef(i)!==1},unsafeLadder(i,o,l=r.ZERO){let d=i;for(;o>Ps;)o&ki&&(l=l.add(d)),d=d.double(),o>>=ki;return l},precomputeWindow(i,o){const{windows:l,windowSize:d}=_f(o,n),p=[];let u=i,w=u;for(let N=0;N<l;N++){w=u,p.push(w);for(let k=1;k<d;k++)w=w.add(u),p.push(w);u=w.double()}return p},wNAF(i,o,l){let d=r.ZERO,p=r.BASE;const u=_f(i,n);for(let w=0;w<u.windows;w++){const{nextN:N,offset:k,isZero:b,isNeg:R,isNegF:T,offsetF:v}=Ip(l,w,u);l=N,b?p=p.add(Io(T,o[v])):d=d.add(Io(R,o[k]))}return Fp(l),{p:d,f:p}},wNAFUnsafe(i,o,l,d=r.ZERO){const p=_f(i,n);for(let u=0;u<p.windows&&l!==Ps;u++){const{nextN:w,offset:N,isZero:k,isNeg:b}=Ip(l,u,p);if(l=w,!k){const R=o[N];d=d.add(b?R.negate():R)}}return Fp(l),d},getPrecomputes(i,o,l){let d=bf.get(o);return d||(d=this.precomputeWindow(o,i),i!==1&&(typeof l=="function"&&(d=l(d)),bf.set(o,d))),d},wNAFCached(i,o,l){const d=Ef(i);return this.wNAF(d,this.getPrecomputes(d,i,l),o)},wNAFCachedUnsafe(i,o,l,d){const p=Ef(i);return p===1?this.unsafeLadder(i,o,d):this.wNAFUnsafe(p,this.getPrecomputes(p,i,l),o,d)},setWindowSize(i,o){_y(o,n),by.set(i,o),bf.delete(i)}}}function Ev(r,n,i,o){let l=n,d=r.ZERO,p=r.ZERO;for(;i>Ps||o>Ps;)i&ki&&(d=d.add(l)),o&ki&&(p=p.add(l)),l=l.double(),i>>=ki,o>>=ki;return{p1:d,p2:p}}function Sy(r,n,i,o){_v(i,r),bv(o,n);const l=i.length,d=o.length;if(l!==d)throw new Error("arrays of points and scalars must have equal length");const p=r.ZERO,u=Ro(BigInt(l));let w=1;u>12?w=u-3:u>4?w=u-2:u>0&&(w=2);const N=ks(w),k=new Array(Number(N)+1).fill(p),b=Math.floor((n.BITS-1)/w)*w;let R=p;for(let T=b;T>=0;T-=w){k.fill(p);for(let G=0;G<d;G++){const Y=o[G],se=Number(Y>>BigInt(T)&N);k[se]=k[se].add(i[G])}let v=p;for(let G=k.length-1,Y=p;G>0;G--)Y=Y.add(k[G]),v=v.add(Y);if(R=R.add(v),T!==0)for(let G=0;G<w;G++)R=R.double()}return R}function Op(r,n){if(n){if(n.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return wy(n),n}else return ji(r)}function Ny(r,n,i={}){if(!n||typeof n!="object")throw new Error(`expected valid ${r} CURVE object`);for(const u of["p","n","h"]){const w=n[u];if(!(typeof w=="bigint"&&w>Ps))throw new Error(`CURVE.${u} must be positive bigint`)}const o=Op(n.p,i.Fp),l=Op(n.n,i.Fn),p=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const u of p)if(!o.isValid(n[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return{Fp:o,Fn:l}}const Sv=rn;function Xn(r,n){if(jo(r),jo(n),r<0||r>=1<<8*n)throw new Error("invalid I2OSP input: "+r);const i=Array.from({length:n}).fill(0);for(let o=n-1;o>=0;o--)i[o]=r&255,r>>>=8;return new Uint8Array(i)}function Nv(r,n){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[o]^n[o];return i}function jo(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function Tv(r,n,i,o){qt(r),qt(n),jo(i),n.length>255&&(n=o(St(Dl("H2C-OVERSIZE-DST-"),n)));const{outputLen:l,blockLen:d}=o,p=Math.ceil(i/l);if(i>65535||p>255)throw new Error("expand_message_xmd: invalid lenInBytes");const u=St(n,Xn(n.length,1)),w=Xn(0,d),N=Xn(i,2),k=new Array(p),b=o(St(w,r,N,Xn(0,1),u));k[0]=o(St(b,Xn(1,1),u));for(let T=1;T<=p;T++){const v=[Nv(b,k[T-1]),Xn(T+1,1),u];k[T]=o(St(...v))}return St(...k).slice(0,i)}function Av(r,n,i,o,l){if(qt(r),qt(n),jo(i),n.length>255){const d=Math.ceil(2*o/8);n=l.create({dkLen:d}).update(Dl("H2C-OVERSIZE-DST-")).update(n).digest()}if(i>65535||n.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return l.create({dkLen:i}).update(r).update(Xn(i,2)).update(n).update(Xn(n.length,1)).digest()}function Pp(r,n,i){qo(i,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:o,k:l,m:d,hash:p,expand:u,DST:w}=i;if(!rd(w)&&typeof w!="string")throw new Error("DST must be string or uint8array");if(!dv(i.hash))throw new Error("expected valid hash");qt(r),jo(n);const N=typeof w=="string"?Dl(w):w,k=o.toString(2).length,b=Math.ceil((k+l)/8),R=n*d*b;let T;if(u==="xmd")T=Tv(r,N,R,p);else if(u==="xof")T=Av(r,N,R,l,p);else if(u==="_internal_pass")T=r;else throw new Error('expand must be "xmd" or "xof"');const v=new Array(n);for(let G=0;G<n;G++){const Y=new Array(d);for(let se=0;se<d;se++){const ne=b*(se+G*d),ae=T.subarray(ne,ne+b);Y[se]=At(Sv(ae),o)}v[G]=Y}return v}function Ty(r,n){const i=n.map(o=>Array.from(o).reverse());return(o,l)=>{const[d,p,u,w]=i.map(b=>b.reduce((R,T)=>r.add(r.mul(R,o),T))),[N,k]=Ri(r,[p,w],!0);return o=r.mul(d,N),l=r.mul(l,r.mul(u,k)),{x:o,y:l}}}function Up(r,n,i){if(typeof n!="function")throw new Error("mapToCurve() must be defined");function o(d){return r.fromAffine(n(d))}function l(d){const p=d.clearCofactor();return p.equals(r.ZERO)?r.ZERO:(p.assertValidity(),p)}return{defaults:i,hashToCurve(d,p){const u=i.DST?i.DST:{},w=Object.assign({},i,u,p),N=Pp(d,2,w),k=o(N[0]),b=o(N[1]);return l(k.add(b))},encodeToCurve(d,p){const u=i.encodeDST?i.encodeDST:{},w=Object.assign({},i,u,p),N=Pp(d,1,w);return l(o(N[0]))},mapToCurve(d){if(!Array.isArray(d))throw new Error("expected array of bigints");for(const p of d)if(typeof p!="bigint")throw new Error("expected array of bigints");return l(o(d))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gf=BigInt(0),cr=BigInt(1),Zn=BigInt(2),Ss=BigInt(3),Wf=BigInt(4);function Ay(r,n,i){function o(l){const d=r.sqr(l),p=r.mul(d,l);return r.add(r.add(p,r.mul(l,n)),i)}return o}function By(r,n,i){const{BYTES:o}=r;function l(d){let p;if(typeof d=="bigint")p=d;else{let u=rr("private key",d);if(n){if(!n.includes(u.length*2))throw new Error("invalid private key");const w=new Uint8Array(o);w.set(u,w.length-u.length),u=w}try{p=r.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${o}, got ${typeof d}`)}}if(i&&(p=r.create(p)),!r.isValidNot0(p))throw new Error("invalid private key: out of range [1..N-1]");return p}return l}function Bv(r,n={}){const{Fp:i,Fn:o}=Ny("weierstrass",r,n),{h:l,n:d}=r;qo(n,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:p}=n;if(p&&(!i.is0(r.a)||typeof p.beta!="bigint"||typeof p.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function w(M,$,W){const{x:he,y:ve}=$.toAffine(),_=i.toBytes(he);if(Uo("isCompressed",W),W){u();const P=!i.isOdd(ve);return St(kv(P),_)}else return St(Uint8Array.of(4),_,i.toBytes(ve))}function N(M){qt(M);const $=i.BYTES,W=$+1,he=2*$+1,ve=M.length,_=M[0],P=M.subarray(1);if(ve===W&&(_===2||_===3)){const L=i.fromBytes(P);if(!i.isValid(L))throw new Error("bad point: is not on curve, wrong x");const J=R(L);let fe;try{fe=i.sqrt(J)}catch(_e){const z=_e instanceof Error?": "+_e.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}u();const re=i.isOdd(fe);return(_&1)===1!==re&&(fe=i.neg(fe)),{x:L,y:fe}}else if(ve===he&&_===4){const L=i.fromBytes(P.subarray($*0,$*1)),J=i.fromBytes(P.subarray($*1,$*2));if(!T(L,J))throw new Error("bad point: is not on curve");return{x:L,y:J}}else throw new Error(`bad point: got length ${ve}, expected compressed=${W} or uncompressed=${he}`)}const k=n.toBytes||w,b=n.fromBytes||N,R=Ay(i,r.a,r.b);function T(M,$){const W=i.sqr($),he=R(M);return i.eql(W,he)}if(!T(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const v=i.mul(i.pow(r.a,Ss),Wf),G=i.mul(i.sqr(r.b),BigInt(27));if(i.is0(i.add(v,G)))throw new Error("bad curve params: a or b");function Y(M,$,W=!1){if(!i.isValid($)||W&&i.is0($))throw new Error(`bad point coordinate ${M}`);return $}function se(M){if(!(M instanceof j))throw new Error("ProjectivePoint expected")}const ne=Mo((M,$)=>{const{px:W,py:he,pz:ve}=M;if(i.eql(ve,i.ONE))return{x:W,y:he};const _=M.is0();$==null&&($=_?i.ONE:i.inv(ve));const P=i.mul(W,$),L=i.mul(he,$),J=i.mul(ve,$);if(_)return{x:i.ZERO,y:i.ZERO};if(!i.eql(J,i.ONE))throw new Error("invZ was invalid");return{x:P,y:L}}),ae=Mo(M=>{if(M.is0()){if(n.allowInfinityPoint&&!i.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:$,y:W}=M.toAffine();if(!i.isValid($)||!i.isValid(W))throw new Error("bad point: x or y not field elements");if(!T($,W))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function be(M,$,W,he,ve){return W=new j(i.mul(W.px,M),W.py,W.pz),$=Io(he,$),W=Io(ve,W),$.add(W)}class j{constructor($,W,he){this.px=Y("x",$),this.py=Y("y",W,!0),this.pz=Y("z",he),Object.freeze(this)}static fromAffine($){const{x:W,y:he}=$||{};if(!$||!i.isValid(W)||!i.isValid(he))throw new Error("invalid affine point");if($ instanceof j)throw new Error("projective point not allowed");return i.is0(W)&&i.is0(he)?j.ZERO:new j(W,he,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ($){return Vl(j,"pz",$)}static fromBytes($){return qt($),j.fromHex($)}static fromHex($){const W=j.fromAffine(b(rr("pointHex",$)));return W.assertValidity(),W}static fromPrivateKey($){const W=By(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey);return j.BASE.multiply(W($))}static msm($,W){return Sy(j,o,$,W)}precompute($=8,W=!0){return ce.setWindowSize(this,$),W||this.multiply(Ss),this}_setWindowSize($){this.precompute($)}assertValidity(){ae(this)}hasEvenY(){const{y:$}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd($)}equals($){se($);const{px:W,py:he,pz:ve}=this,{px:_,py:P,pz:L}=$,J=i.eql(i.mul(W,L),i.mul(_,ve)),fe=i.eql(i.mul(he,L),i.mul(P,ve));return J&&fe}negate(){return new j(this.px,i.neg(this.py),this.pz)}double(){const{a:$,b:W}=r,he=i.mul(W,Ss),{px:ve,py:_,pz:P}=this;let L=i.ZERO,J=i.ZERO,fe=i.ZERO,re=i.mul(ve,ve),xe=i.mul(_,_),_e=i.mul(P,P),z=i.mul(ve,_);return z=i.add(z,z),fe=i.mul(ve,P),fe=i.add(fe,fe),L=i.mul($,fe),J=i.mul(he,_e),J=i.add(L,J),L=i.sub(xe,J),J=i.add(xe,J),J=i.mul(L,J),L=i.mul(z,L),fe=i.mul(he,fe),_e=i.mul($,_e),z=i.sub(re,_e),z=i.mul($,z),z=i.add(z,fe),fe=i.add(re,re),re=i.add(fe,re),re=i.add(re,_e),re=i.mul(re,z),J=i.add(J,re),_e=i.mul(_,P),_e=i.add(_e,_e),re=i.mul(_e,z),L=i.sub(L,re),fe=i.mul(_e,xe),fe=i.add(fe,fe),fe=i.add(fe,fe),new j(L,J,fe)}add($){se($);const{px:W,py:he,pz:ve}=this,{px:_,py:P,pz:L}=$;let J=i.ZERO,fe=i.ZERO,re=i.ZERO;const xe=r.a,_e=i.mul(r.b,Ss);let z=i.mul(W,_),le=i.mul(he,P),Fe=i.mul(ve,L),F=i.add(W,he),Oe=i.add(_,P);F=i.mul(F,Oe),Oe=i.add(z,le),F=i.sub(F,Oe),Oe=i.add(W,ve);let $e=i.add(_,L);return Oe=i.mul(Oe,$e),$e=i.add(z,Fe),Oe=i.sub(Oe,$e),$e=i.add(he,ve),J=i.add(P,L),$e=i.mul($e,J),J=i.add(le,Fe),$e=i.sub($e,J),re=i.mul(xe,Oe),J=i.mul(_e,Fe),re=i.add(J,re),J=i.sub(le,re),re=i.add(le,re),fe=i.mul(J,re),le=i.add(z,z),le=i.add(le,z),Fe=i.mul(xe,Fe),Oe=i.mul(_e,Oe),le=i.add(le,Fe),Fe=i.sub(z,Fe),Fe=i.mul(xe,Fe),Oe=i.add(Oe,Fe),z=i.mul(le,Oe),fe=i.add(fe,z),z=i.mul($e,Oe),J=i.mul(F,J),J=i.sub(J,z),z=i.mul(F,le),re=i.mul($e,re),re=i.add(re,z),new j(J,fe,re)}subtract($){return this.add($.negate())}is0(){return this.equals(j.ZERO)}multiply($){const{endo:W}=n;if(!o.isValidNot0($))throw new Error("invalid scalar: out of range");let he,ve;const _=P=>ce.wNAFCached(this,P,j.normalizeZ);if(W){const{k1neg:P,k1:L,k2neg:J,k2:fe}=W.splitScalar($),{p:re,f:xe}=_(L),{p:_e,f:z}=_(fe);ve=xe.add(z),he=be(W.beta,re,_e,P,J)}else{const{p:P,f:L}=_($);he=P,ve=L}return j.normalizeZ([he,ve])[0]}multiplyUnsafe($){const{endo:W}=n,he=this;if(!o.isValid($))throw new Error("invalid scalar: out of range");if($===Gf||he.is0())return j.ZERO;if($===cr)return he;if(ce.hasPrecomputes(this))return this.multiply($);if(W){const{k1neg:ve,k1:_,k2neg:P,k2:L}=W.splitScalar($),{p1:J,p2:fe}=Ev(j,he,_,L);return be(W.beta,J,fe,ve,P)}else return ce.wNAFCachedUnsafe(he,$)}multiplyAndAddUnsafe($,W,he){const ve=this.multiplyUnsafe(W).add($.multiplyUnsafe(he));return ve.is0()?void 0:ve}toAffine($){return ne(this,$)}isTorsionFree(){const{isTorsionFree:$}=n;return l===cr?!0:$?$(j,this):ce.wNAFCachedUnsafe(this,d).is0()}clearCofactor(){const{clearCofactor:$}=n;return l===cr?this:$?$(j,this):this.multiplyUnsafe(l)}toBytes($=!0){return Uo("isCompressed",$),this.assertValidity(),k(j,this,$)}toRawBytes($=!0){return this.toBytes($)}toHex($=!0){return Fs(this.toBytes($))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}j.BASE=new j(r.Gx,r.Gy,i.ONE),j.ZERO=new j(i.ZERO,i.ONE,i.ZERO),j.Fp=i,j.Fn=o;const ie=o.BITS,ce=Ey(j,n.endo?Math.ceil(ie/2):ie);return j}function Cp(r){const{CURVE:n,curveOpts:i}=Rv(r),o=Bv(n,i);return Iv(r,o)}function kv(r){return Uint8Array.of(r?2:3)}function Rv(r){const n={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},i=r.Fp,o=ji(n.n,r.nBitLength),l={Fp:i,Fn:o,allowedPrivateKeyLengths:r.allowedPrivateKeyLengths,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,wrapPrivateKey:r.wrapPrivateKey,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:n,curveOpts:l}}function Iv(r,n){const{Fp:i,Fn:o}=n;function l(u){return hy(u,cr,o.ORDER)}const d=Ay(i,r.a,r.b),p=By(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey);return Object.assign({},{CURVE:r,Point:n,ProjectivePoint:n,normPrivateKeyToScalar:p,weierstrassEquation:d,isWithinCurveOrder:l})}function Fv(r,n){const i=r.ORDER;let o=Gf;for(let v=i-cr;v%Zn===Gf;v/=Zn)o+=cr;const l=o,d=Zn<<l-cr-cr,p=d*Zn,u=(i-cr)/p,w=(u-cr)/Zn,N=p-cr,k=d,b=r.pow(n,u),R=r.pow(n,(u+cr)/Zn);let T=(v,G)=>{let Y=b,se=r.pow(G,N),ne=r.sqr(se);ne=r.mul(ne,G);let ae=r.mul(v,ne);ae=r.pow(ae,w),ae=r.mul(ae,se),se=r.mul(ae,G),ne=r.mul(ae,v);let be=r.mul(ne,se);ae=r.pow(be,k);let j=r.eql(ae,r.ONE);se=r.mul(ne,R),ae=r.mul(be,Y),ne=r.cmov(se,ne,j),be=r.cmov(ae,be,j);for(let ie=l;ie>cr;ie--){let ce=ie-Zn;ce=Zn<<ce-cr;let M=r.pow(be,ce);const $=r.eql(M,r.ONE);se=r.mul(ne,Y),Y=r.mul(Y,Y),M=r.mul(be,Y),ne=r.cmov(se,ne,$),be=r.cmov(M,be,$)}return{isValid:j,value:ne}};if(r.ORDER%Wf===Ss){const v=(r.ORDER-Ss)/Wf,G=r.sqrt(r.neg(n));T=(Y,se)=>{let ne=r.sqr(se);const ae=r.mul(Y,se);ne=r.mul(ne,ae);let be=r.pow(ne,v);be=r.mul(be,ae);const j=r.mul(be,G),ie=r.mul(r.sqr(be),se),ce=r.eql(ie,Y);let M=r.cmov(j,be,ce);return{isValid:ce,value:M}}}return T}function ky(r,n){wy(r);const{A:i,B:o,Z:l}=n;if(!r.isValid(i)||!r.isValid(o)||!r.isValid(l))throw new Error("mapToCurveSimpleSWU: invalid opts");const d=Fv(r,l);if(!r.isOdd)throw new Error("Field does not have .isOdd()");return p=>{let u,w,N,k,b,R,T,v;u=r.sqr(p),u=r.mul(u,l),w=r.sqr(u),w=r.add(w,u),N=r.add(w,r.ONE),N=r.mul(N,o),k=r.cmov(l,r.neg(w),!r.eql(w,r.ZERO)),k=r.mul(k,i),w=r.sqr(N),R=r.sqr(k),b=r.mul(R,i),w=r.add(w,b),w=r.mul(w,N),R=r.mul(R,k),b=r.mul(R,o),w=r.add(w,b),T=r.mul(u,N);const{isValid:G,value:Y}=d(w,R);v=r.mul(u,p),v=r.mul(v,Y),T=r.cmov(T,N,G),v=r.cmov(v,Y,G);const se=r.isOdd(p)===r.isOdd(v);v=r.cmov(r.neg(v),v,se);const ne=Ri(r,[k],!0)[0];return T=r.mul(T,ne),{x:T,y:v}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ov=BigInt(0),ul=BigInt(1),Mp=BigInt(2),Ns=BigInt(3);function Pv(r){const n=[];for(;r>ul;r>>=ul)(r&ul)===Ov?n.unshift(0):(r&Ns)===Ns?(n.unshift(-1),r+=ul):n.unshift(1);return n}function Uv(r){const{Fp:n,Fr:i,Fp2:o,Fp6:l,Fp12:d}=r.fields,p=r.params.xNegative,u=r.params.twistType,w=Cp(r.G1),N=Object.assign(w,Up(w.Point,r.G1.mapToCurve,{...r.htfDefaults,...r.G1.htfDefaults})),k=Cp(r.G2),b=Object.assign(k,Up(k.Point,r.G2.mapToCurve,{...r.htfDefaults,...r.G2.htfDefaults}));let R;if(u==="multiplicative")R=(Ee,de,we,B,O,V)=>d.mul014(B,Ee,o.mul(de,O),o.mul(we,V));else if(u==="divisive")R=(Ee,de,we,B,O,V)=>d.mul034(B,o.mul(we,V),o.mul(de,O),Ee);else throw new Error("bls: unknown twist type");const T=o.div(o.ONE,o.mul(o.ONE,Mp));function v(Ee,de,we,B){const O=o.sqr(we),V=o.sqr(B),D=o.mulByB(o.mul(V,Ns)),K=o.mul(D,Ns),Z=o.sub(o.sub(o.sqr(o.add(we,B)),V),O),x=o.sub(D,O),h=o.mul(o.sqr(de),Ns),c=o.neg(Z);return Ee.push([x,h,c]),de=o.mul(o.mul(o.mul(o.sub(O,K),de),we),T),we=o.sub(o.sqr(o.mul(o.add(O,K),T)),o.mul(o.sqr(D),Ns)),B=o.mul(O,Z),{Rx:de,Ry:we,Rz:B}}function G(Ee,de,we,B,O,V){const D=o.sub(we,o.mul(V,B)),K=o.sub(de,o.mul(O,B)),Z=o.sub(o.mul(D,O),o.mul(K,V)),x=o.neg(D),h=K;Ee.push([Z,x,h]);const c=o.sqr(K),S=o.mul(c,K),I=o.mul(c,de),q=o.add(o.sub(S,o.mul(I,Mp)),o.mul(o.sqr(D),B));return de=o.mul(K,q),we=o.sub(o.mul(o.sub(I,q),D),o.mul(S,we)),B=o.mul(B,S),{Rx:de,Ry:we,Rz:B}}const Y=Pv(r.params.ateLoopSize),se=Mo(Ee=>{const de=Ee,{x:we,y:B}=de.toAffine(),O=we,V=B,D=o.neg(B);let K=O,Z=V,x=o.ONE;const h=[];for(const c of Y){const S=[];({Rx:K,Ry:Z,Rz:x}=v(S,K,Z,x)),c&&({Rx:K,Ry:Z,Rz:x}=G(S,K,Z,x,O,c===-1?D:V)),h.push(S)}if(r.postPrecompute){const c=h[h.length-1];r.postPrecompute(K,Z,x,O,V,G.bind(null,c))}return h});function ne(Ee,de=!1){let we=d.ONE;if(Ee.length){const B=Ee[0][0].length;for(let O=0;O<B;O++){we=d.sqr(we);for(const[V,D,K]of Ee)for(const[Z,x,h]of V[O])we=R(Z,x,h,we,D,K)}}return p&&(we=d.conjugate(we)),de?d.finalExponentiate(we):we}function ae(Ee,de=!0){const we=[];Vl(N.Point,"pz",Ee.map(({g1:B})=>B)),Vl(b.Point,"pz",Ee.map(({g2:B})=>B));for(const{g1:B,g2:O}of Ee){if(B.is0()||O.is0())throw new Error("pairing is not available for ZERO point");B.assertValidity(),O.assertValidity();const V=B.toAffine();we.push([se(O),V.x,V.y])}return ne(we,de)}function be(Ee,de,we=!0){return ae([{g1:Ee,g2:de}],we)}const j=r.randomBytes||mm,ie={randomPrivateKey:()=>{const Ee=xy(i.ORDER);return xv(j(Ee),i.ORDER)},calcPairingPrecomputes:se};function ce(Ee){if(!Array.isArray(Ee)||Ee.length===0)throw new Error("expected non-empty array")}function M(Ee){return Ee instanceof N.Point?Ee:N.Point.fromHex(Ee)}function $(Ee){return Ee instanceof b.Point?Ee:P.fromHex(Ee)}function W(Ee,de){function we(D){return D instanceof Ee.Point?D:Ee.Point.fromHex(D)}function B(D){return D instanceof de.Point?D:de.Point.fromHex(D)}function O(D){if(!(D instanceof de.Point))throw new Error(`expected valid message hashed to ${V?"G2":"G1"} curve`);return D}const V=de.Point.Fp.BYTES>Ee.Point.Fp.BYTES;return{getPublicKey(D){return Ee.Point.fromPrivateKey(D)},sign(D,K,Z){if(Z!=null)throw new Error("sign() expects 2 arguments");return O(D).assertValidity(),D.multiply(Ee.normPrivateKeyToScalar(K))},verify(D,K,Z,x){if(x!=null)throw new Error("verify() expects 3 arguments");D=B(D),Z=we(Z);const h=Z.negate(),c=Ee.Point.BASE,S=O(K),I=D,oe=ae(V?[{g1:h,g2:S},{g1:c,g2:I}]:[{g1:S,g2:h},{g1:I,g2:c}]);return d.eql(oe,d.ONE)},aggregatePublicKeys(D){ce(D),D=D.map(Z=>we(Z));const K=D.reduce((Z,x)=>Z.add(x),Ee.Point.ZERO);return K.assertValidity(),K},aggregateSignatures(D){ce(D),D=D.map(Z=>B(Z));const K=D.reduce((Z,x)=>Z.add(x),de.Point.ZERO);return K.assertValidity(),K},hash(D,K){qt(D);const Z=K?{DST:K}:void 0;return de.hashToCurve(D,Z)},Signature:V?r.G2.Signature:r.G1.ShortSignature}}const he=W(N,b),ve=W(b,N),{ShortSignature:_}=r.G1,{Signature:P}=r.G2;function L(Ee,de){return Ee instanceof N.Point?Ee:ve.hash(rr("point",Ee),de?.DST)}function J(Ee,de){return Ee instanceof b.Point?Ee:he.hash(rr("point",Ee),de?.DST)}function fe(Ee){return he.getPublicKey(Ee).toBytes(!0)}function re(Ee){return ve.getPublicKey(Ee).toBytes(!0)}function xe(Ee,de,we){const B=J(Ee,we),O=he.sign(B,de);return Ee instanceof b.Point?O:P.toBytes(O)}function _e(Ee,de,we){const B=L(Ee,we),O=ve.sign(B,de);return Ee instanceof N.Point?O:_.toBytes(O)}function z(Ee,de,we,B){const O=J(de,B);return he.verify(Ee,O,we)}function le(Ee,de,we,B){const O=L(de,B);return ve.verify(Ee,O,we)}function Fe(Ee){const de=he.aggregatePublicKeys(Ee);return Ee[0]instanceof N.Point?de:de.toBytes(!0)}function F(Ee){const de=he.aggregateSignatures(Ee);return Ee[0]instanceof b.Point?de:P.toBytes(de)}function Oe(Ee){const de=ve.aggregateSignatures(Ee);return Ee[0]instanceof N.Point?de:_.toBytes(de)}function $e(Ee,de,we,B){if(ce(de),we.length!==de.length)throw new Error("amount of public keys and messages should be equal");const O=$(Ee),V=de.map(x=>J(x,B)),D=we.map(M),K=new Map;for(let x=0;x<D.length;x++){const h=D[x],c=V[x];let S=K.get(c);S===void 0&&(S=[],K.set(c,S)),S.push(h)}const Z=[];try{for(const[x,h]of K){const c=h.reduce((S,I)=>S.add(I));Z.push({g1:c,g2:x})}return Z.push({g1:N.Point.BASE.negate(),g2:O}),d.eql(ae(Z),d.ONE)}catch{return!1}}return N.Point.BASE.precompute(4),{longSignatures:he,shortSignatures:ve,millerLoopBatch:ne,pairing:be,pairingBatch:ae,verifyBatch:$e,curves:{G1:w.Point,G2:k.Point},fields:{Fr:i,Fp:n,Fp2:o,Fp6:l,Fp12:d},params:{ateLoopSize:r.params.ateLoopSize,twistType:r.params.twistType,r:r.params.r,G1b:r.G1.b,G2b:r.G2.b},utils:ie,getPublicKey:fe,getPublicKeyForShortSignatures:re,sign:xe,signShortSignature:_e,verify:z,verifyShortSignature:le,aggregatePublicKeys:Fe,aggregateSignatures:F,aggregateShortSignatures:Oe,G1:N,G2:b,Signature:P,ShortSignature:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jp=BigInt(0),Ts=BigInt(1),vn=BigInt(2),$p=BigInt(3);function Sf(r,n,i,o,l=1,d){const p=BigInt(d===void 0?o:d),u=i**BigInt(o),w=[];for(let N=0;N<l;N++){const k=BigInt(N+1),b=[];for(let R=0,T=Ts;R<o;R++){const v=(k*T-k)/p%u;b.push(r.pow(n,v)),T*=i}w.push(b)}return w}function Cv(r,n,i){const o=n.pow(i,(r.ORDER-Ts)/$p),l=n.pow(i,(r.ORDER-Ts)/vn);function d(R,T){const v=n.mul(n.frobeniusMap(R,1),o),G=n.mul(n.frobeniusMap(T,1),l);return[v,G]}const p=n.pow(i,(r.ORDER**vn-Ts)/$p),u=n.pow(i,(r.ORDER**vn-Ts)/vn);if(!n.eql(u,n.neg(n.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function w(R,T){return[n.mul(R,p),n.neg(T)]}const N=R=>(T,v)=>{const G=v.toAffine(),Y=R(G.x,G.y);return T.fromAffine({x:Y[0],y:Y[1]})},k=N(d),b=N(w);return{psi:d,psi2:w,G2psi:k,G2psi2:b,PSI_X:o,PSI_Y:l,PSI2_X:p,PSI2_Y:u}}function Mv(r){const{ORDER:n}=r,i=ji(n),o=i.create(r.NONRESIDUE||BigInt(-1)),l=i.div(i.ONE,vn),d=Sf(i,o,i.ORDER,2)[0],p=({c0:_,c1:P},{c0:L,c1:J})=>({c0:i.add(_,L),c1:i.add(P,J)}),u=({c0:_,c1:P},{c0:L,c1:J})=>({c0:i.sub(_,L),c1:i.sub(P,J)}),w=({c0:_,c1:P},L)=>{if(typeof L=="bigint")return{c0:i.mul(_,L),c1:i.mul(P,L)};const{c0:J,c1:fe}=L;let re=i.mul(_,J),xe=i.mul(P,fe);const _e=i.sub(re,xe),z=i.sub(i.mul(i.add(_,P),i.add(J,fe)),i.add(re,xe));return{c0:_e,c1:z}},N=({c0:_,c1:P})=>{const L=i.add(_,P),J=i.sub(_,P),fe=i.add(_,_);return{c0:i.mul(L,J),c1:i.mul(fe,P)}},k=_=>{if(_.length!==2)throw new Error("invalid tuple");const P=_.map(L=>i.create(L));return{c0:P[0],c1:P[1]}};function b(_,P){return typeof _=="bigint"&&jp<=_&&_<P}const R=n*n,T=k(r.FP2_NONRESIDUE),v={ORDER:R,isLE:i.isLE,NONRESIDUE:T,BITS:Ro(R),BYTES:Math.ceil(Ro(R)/8),MASK:ks(Ro(R)),ZERO:{c0:i.ZERO,c1:i.ZERO},ONE:{c0:i.ONE,c1:i.ZERO},create:_=>_,isValid:({c0:_,c1:P})=>b(_,R)&&b(P,R),is0:({c0:_,c1:P})=>i.is0(_)&&i.is0(P),isValidNot0:_=>!v.is0(_)&&v.isValid(_),eql:({c0:_,c1:P},{c0:L,c1:J})=>i.eql(_,L)&&i.eql(P,J),neg:({c0:_,c1:P})=>({c0:i.neg(_),c1:i.neg(P)}),pow:(_,P)=>yl(v,_,P),invertBatch:_=>Ri(v,_),add:p,sub:u,mul:w,sqr:N,addN:p,subN:u,mulN:w,sqrN:N,div:(_,P)=>v.mul(_,typeof P=="bigint"?i.inv(i.create(P)):v.inv(P)),inv:({c0:_,c1:P})=>{const L=i.inv(i.create(_*_+P*P));return{c0:i.mul(L,i.create(_)),c1:i.mul(L,i.create(-P))}},sqrt:_=>{if(r.Fp2sqrt)return r.Fp2sqrt(_);const{c0:P,c1:L}=_;if(i.is0(L))return zl(i,P)===1?v.create({c0:i.sqrt(P),c1:i.ZERO}):v.create({c0:i.ZERO,c1:i.sqrt(i.div(P,o))});const J=i.sqrt(i.sub(i.sqr(P),i.mul(i.sqr(L),o)));let fe=i.mul(i.add(J,P),l);zl(i,fe)===-1&&(fe=i.sub(fe,J));const xe=i.sqrt(fe),_e=v.create({c0:xe,c1:i.div(i.mul(L,l),xe)});if(!v.eql(v.sqr(_e),_))throw new Error("Cannot find square root");const z=_e,le=v.neg(z),{re:Fe,im:F}=v.reim(z),{re:Oe,im:$e}=v.reim(le);return F>$e||F===$e&&Fe>Oe?z:le},isOdd:_=>{const{re:P,im:L}=v.reim(_),J=P%vn,fe=P===jp,re=L%vn;return BigInt(J||fe&&re)==Ts},fromBytes(_){if(_.length!==v.BYTES)throw new Error("fromBytes invalid length="+_.length);return{c0:i.fromBytes(_.subarray(0,i.BYTES)),c1:i.fromBytes(_.subarray(i.BYTES))}},toBytes:({c0:_,c1:P})=>St(i.toBytes(_),i.toBytes(P)),cmov:({c0:_,c1:P},{c0:L,c1:J},fe)=>({c0:i.cmov(_,L,fe),c1:i.cmov(P,J,fe)}),reim:({c0:_,c1:P})=>({re:_,im:P}),mulByNonresidue:({c0:_,c1:P})=>v.mul({c0:_,c1:P},T),mulByB:r.Fp2mulByB,fromBigTuple:k,frobeniusMap:({c0:_,c1:P},L)=>({c0:_,c1:i.mul(P,d[L%2])})},G=({c0:_,c1:P,c2:L},{c0:J,c1:fe,c2:re})=>({c0:v.add(_,J),c1:v.add(P,fe),c2:v.add(L,re)}),Y=({c0:_,c1:P,c2:L},{c0:J,c1:fe,c2:re})=>({c0:v.sub(_,J),c1:v.sub(P,fe),c2:v.sub(L,re)}),se=({c0:_,c1:P,c2:L},J)=>{if(typeof J=="bigint")return{c0:v.mul(_,J),c1:v.mul(P,J),c2:v.mul(L,J)};const{c0:fe,c1:re,c2:xe}=J,_e=v.mul(_,fe),z=v.mul(P,re),le=v.mul(L,xe);return{c0:v.add(_e,v.mulByNonresidue(v.sub(v.mul(v.add(P,L),v.add(re,xe)),v.add(z,le)))),c1:v.add(v.sub(v.mul(v.add(_,P),v.add(fe,re)),v.add(_e,z)),v.mulByNonresidue(le)),c2:v.sub(v.add(z,v.mul(v.add(_,L),v.add(fe,xe))),v.add(_e,le))}},ne=({c0:_,c1:P,c2:L})=>{let J=v.sqr(_),fe=v.mul(v.mul(_,P),vn),re=v.mul(v.mul(P,L),vn),xe=v.sqr(L);return{c0:v.add(v.mulByNonresidue(re),J),c1:v.add(v.mulByNonresidue(xe),fe),c2:v.sub(v.sub(v.add(v.add(fe,v.sqr(v.add(v.sub(_,P),L))),re),J),xe)}},[ae,be]=Sf(v,T,i.ORDER,6,2,3),j={ORDER:v.ORDER,isLE:v.isLE,BITS:3*v.BITS,BYTES:3*v.BYTES,MASK:ks(3*v.BITS),ZERO:{c0:v.ZERO,c1:v.ZERO,c2:v.ZERO},ONE:{c0:v.ONE,c1:v.ZERO,c2:v.ZERO},create:_=>_,isValid:({c0:_,c1:P,c2:L})=>v.isValid(_)&&v.isValid(P)&&v.isValid(L),is0:({c0:_,c1:P,c2:L})=>v.is0(_)&&v.is0(P)&&v.is0(L),isValidNot0:_=>!j.is0(_)&&j.isValid(_),neg:({c0:_,c1:P,c2:L})=>({c0:v.neg(_),c1:v.neg(P),c2:v.neg(L)}),eql:({c0:_,c1:P,c2:L},{c0:J,c1:fe,c2:re})=>v.eql(_,J)&&v.eql(P,fe)&&v.eql(L,re),sqrt:kp,div:(_,P)=>j.mul(_,typeof P=="bigint"?i.inv(i.create(P)):j.inv(P)),pow:(_,P)=>yl(j,_,P),invertBatch:_=>Ri(j,_),add:G,sub:Y,mul:se,sqr:ne,addN:G,subN:Y,mulN:se,sqrN:ne,inv:({c0:_,c1:P,c2:L})=>{let J=v.sub(v.sqr(_),v.mulByNonresidue(v.mul(L,P))),fe=v.sub(v.mulByNonresidue(v.sqr(L)),v.mul(_,P)),re=v.sub(v.sqr(P),v.mul(_,L)),xe=v.inv(v.add(v.mulByNonresidue(v.add(v.mul(L,fe),v.mul(P,re))),v.mul(_,J)));return{c0:v.mul(xe,J),c1:v.mul(xe,fe),c2:v.mul(xe,re)}},fromBytes:_=>{if(_.length!==j.BYTES)throw new Error("fromBytes invalid length="+_.length);return{c0:v.fromBytes(_.subarray(0,v.BYTES)),c1:v.fromBytes(_.subarray(v.BYTES,2*v.BYTES)),c2:v.fromBytes(_.subarray(2*v.BYTES))}},toBytes:({c0:_,c1:P,c2:L})=>St(v.toBytes(_),v.toBytes(P),v.toBytes(L)),cmov:({c0:_,c1:P,c2:L},{c0:J,c1:fe,c2:re},xe)=>({c0:v.cmov(_,J,xe),c1:v.cmov(P,fe,xe),c2:v.cmov(L,re,xe)}),fromBigSix:_=>{if(!Array.isArray(_)||_.length!==6)throw new Error("invalid Fp6 usage");return{c0:v.fromBigTuple(_.slice(0,2)),c1:v.fromBigTuple(_.slice(2,4)),c2:v.fromBigTuple(_.slice(4,6))}},frobeniusMap:({c0:_,c1:P,c2:L},J)=>({c0:v.frobeniusMap(_,J),c1:v.mul(v.frobeniusMap(P,J),ae[J%6]),c2:v.mul(v.frobeniusMap(L,J),be[J%6])}),mulByFp2:({c0:_,c1:P,c2:L},J)=>({c0:v.mul(_,J),c1:v.mul(P,J),c2:v.mul(L,J)}),mulByNonresidue:({c0:_,c1:P,c2:L})=>({c0:v.mulByNonresidue(L),c1:_,c2:P}),mul1:({c0:_,c1:P,c2:L},J)=>({c0:v.mulByNonresidue(v.mul(L,J)),c1:v.mul(_,J),c2:v.mul(P,J)}),mul01({c0:_,c1:P,c2:L},J,fe){let re=v.mul(_,J),xe=v.mul(P,fe);return{c0:v.add(v.mulByNonresidue(v.sub(v.mul(v.add(P,L),fe),xe)),re),c1:v.sub(v.sub(v.mul(v.add(J,fe),v.add(_,P)),re),xe),c2:v.add(v.sub(v.mul(v.add(_,L),J),re),xe)}}},ie=Sf(v,T,i.ORDER,12,1,6)[0],ce=({c0:_,c1:P},{c0:L,c1:J})=>({c0:j.add(_,L),c1:j.add(P,J)}),M=({c0:_,c1:P},{c0:L,c1:J})=>({c0:j.sub(_,L),c1:j.sub(P,J)}),$=({c0:_,c1:P},L)=>{if(typeof L=="bigint")return{c0:j.mul(_,L),c1:j.mul(P,L)};let{c0:J,c1:fe}=L,re=j.mul(_,J),xe=j.mul(P,fe);return{c0:j.add(re,j.mulByNonresidue(xe)),c1:j.sub(j.mul(j.add(_,P),j.add(J,fe)),j.add(re,xe))}},W=({c0:_,c1:P})=>{let L=j.mul(_,P);return{c0:j.sub(j.sub(j.mul(j.add(j.mulByNonresidue(P),_),j.add(_,P)),L),j.mulByNonresidue(L)),c1:j.add(L,L)}};function he(_,P){const L=v.sqr(_),J=v.sqr(P);return{first:v.add(v.mulByNonresidue(J),L),second:v.sub(v.sub(v.sqr(v.add(_,P)),L),J)}}const ve={ORDER:v.ORDER,isLE:j.isLE,BITS:2*j.BITS,BYTES:2*j.BYTES,MASK:ks(2*j.BITS),ZERO:{c0:j.ZERO,c1:j.ZERO},ONE:{c0:j.ONE,c1:j.ZERO},create:_=>_,isValid:({c0:_,c1:P})=>j.isValid(_)&&j.isValid(P),is0:({c0:_,c1:P})=>j.is0(_)&&j.is0(P),isValidNot0:_=>!ve.is0(_)&&ve.isValid(_),neg:({c0:_,c1:P})=>({c0:j.neg(_),c1:j.neg(P)}),eql:({c0:_,c1:P},{c0:L,c1:J})=>j.eql(_,L)&&j.eql(P,J),sqrt:kp,inv:({c0:_,c1:P})=>{let L=j.inv(j.sub(j.sqr(_),j.mulByNonresidue(j.sqr(P))));return{c0:j.mul(_,L),c1:j.neg(j.mul(P,L))}},div:(_,P)=>ve.mul(_,typeof P=="bigint"?i.inv(i.create(P)):ve.inv(P)),pow:(_,P)=>yl(ve,_,P),invertBatch:_=>Ri(ve,_),add:ce,sub:M,mul:$,sqr:W,addN:ce,subN:M,mulN:$,sqrN:W,fromBytes:_=>{if(_.length!==ve.BYTES)throw new Error("fromBytes invalid length="+_.length);return{c0:j.fromBytes(_.subarray(0,j.BYTES)),c1:j.fromBytes(_.subarray(j.BYTES))}},toBytes:({c0:_,c1:P})=>St(j.toBytes(_),j.toBytes(P)),cmov:({c0:_,c1:P},{c0:L,c1:J},fe)=>({c0:j.cmov(_,L,fe),c1:j.cmov(P,J,fe)}),fromBigTwelve:_=>({c0:j.fromBigSix(_.slice(0,6)),c1:j.fromBigSix(_.slice(6,12))}),frobeniusMap(_,P){const{c0:L,c1:J,c2:fe}=j.frobeniusMap(_.c1,P),re=ie[P%12];return{c0:j.frobeniusMap(_.c0,P),c1:j.create({c0:v.mul(L,re),c1:v.mul(J,re),c2:v.mul(fe,re)})}},mulByFp2:({c0:_,c1:P},L)=>({c0:j.mulByFp2(_,L),c1:j.mulByFp2(P,L)}),conjugate:({c0:_,c1:P})=>({c0:_,c1:j.neg(P)}),mul014:({c0:_,c1:P},L,J,fe)=>{let re=j.mul01(_,L,J),xe=j.mul1(P,fe);return{c0:j.add(j.mulByNonresidue(xe),re),c1:j.sub(j.sub(j.mul01(j.add(P,_),L,v.add(J,fe)),re),xe)}},mul034:({c0:_,c1:P},L,J,fe)=>{const re=j.create({c0:v.mul(_.c0,L),c1:v.mul(_.c1,L),c2:v.mul(_.c2,L)}),xe=j.mul01(P,J,fe),_e=j.mul01(j.add(_,P),v.add(L,J),fe);return{c0:j.add(j.mulByNonresidue(xe),re),c1:j.sub(_e,j.add(re,xe))}},_cyclotomicSquare:r.Fp12cyclotomicSquare,_cyclotomicExp:r.Fp12cyclotomicExp,finalExponentiate:r.Fp12finalExponentiate};return{Fp:i,Fp2:v,Fp6:j,Fp12:ve,Fp4Square:he}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qt=BigInt(0),ql=BigInt(1),Ct=BigInt(2),iu=BigInt(3),$o=BigInt(4),Jn=BigInt("0xd201000000010000"),jv=Ro(Jn),Mi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:Qt,b:$o,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},$v=ji(Mi.n),{Fp:Ke,Fp2:Ge,Fp6:Lf,Fp4Square:Nf,Fp12:nt}=Mv({ORDER:Mi.p,FP2_NONRESIDUE:[ql,ql],Fp2mulByB:({c0:r,c1:n})=>{const i=Ke.mul(r,$o),o=Ke.mul(n,$o);return{c0:Ke.sub(i,o),c1:Ke.add(i,o)}},Fp12cyclotomicSquare:({c0:r,c1:n})=>{const{c0:i,c1:o,c2:l}=r,{c0:d,c1:p,c2:u}=n,{first:w,second:N}=Nf(i,p),{first:k,second:b}=Nf(d,l),{first:R,second:T}=Nf(o,u),v=Ge.mulByNonresidue(T);return{c0:Lf.create({c0:Ge.add(Ge.mul(Ge.sub(w,i),Ct),w),c1:Ge.add(Ge.mul(Ge.sub(k,o),Ct),k),c2:Ge.add(Ge.mul(Ge.sub(R,l),Ct),R)}),c1:Lf.create({c0:Ge.add(Ge.mul(Ge.add(v,d),Ct),v),c1:Ge.add(Ge.mul(Ge.add(N,p),Ct),N),c2:Ge.add(Ge.mul(Ge.add(b,u),Ct),b)})}},Fp12cyclotomicExp(r,n){let i=nt.ONE;for(let o=jv-1;o>=0;o--)i=nt._cyclotomicSquare(i),fv(n,o)&&(i=nt.mul(i,r));return i},Fp12finalExponentiate:r=>{const n=Jn,i=nt.div(nt.frobeniusMap(r,6),r),o=nt.mul(nt.frobeniusMap(i,2),i),l=nt.conjugate(nt._cyclotomicExp(o,n)),d=nt.mul(nt.conjugate(nt._cyclotomicSquare(o)),l),p=nt.conjugate(nt._cyclotomicExp(d,n)),u=nt.conjugate(nt._cyclotomicExp(p,n)),w=nt.mul(nt.conjugate(nt._cyclotomicExp(u,n)),nt._cyclotomicSquare(l)),N=nt.conjugate(nt._cyclotomicExp(w,n)),k=nt.frobeniusMap(nt.mul(l,u),2),b=nt.frobeniusMap(nt.mul(p,o),3),R=nt.frobeniusMap(nt.mul(w,nt.conjugate(o)),1),T=nt.mul(nt.mul(N,nt.conjugate(d)),o);return nt.mul(nt.mul(nt.mul(k,b),R),T)}}),{G2psi:zp,G2psi2:zv}=Cv(Ke,Ge,Ge.div(Ge.ONE,Ge.NONRESIDUE)),Tf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ke.ORDER,m:2,k:128,expand:"xmd",hash:id}),fd={p:Ge.ORDER,n:Mi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ge.ZERO,b:Ge.fromBigTuple([$o,$o]),Gx:Ge.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ge.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},su=Ho(Ke.toBytes(Qt),{infinity:!0,compressed:!0});function ou(r){r=r.slice();const n=r[0]&224,i=!!(n>>7&1),o=!!(n>>6&1),l=!!(n>>5&1);return r[0]&=31,{compressed:i,infinity:o,sort:l,value:r}}function Ho(r,n){if(r[0]&224)throw new Error("setMask: non-empty mask");return n.compressed&&(r[0]|=128),n.infinity&&(r[0]|=64),n.sort&&(r[0]|=32),r}function Vv(r,n,i){const{BYTES:o,ORDER:l}=Ke,d=n.is0(),{x:p,y:u}=n.toAffine();if(i){if(d)return su.slice();const w=!!(u*Ct/l);return Ho(zt(p,o),{compressed:!0,sort:w})}else return d?St(Uint8Array.of(64),new Uint8Array(2*o-1)):St(zt(p,o),zt(u,o))}function Af(r){r.assertValidity();const{BYTES:n,ORDER:i}=Ke,{x:o,y:l}=r.toAffine();if(r.is0())return su.slice();const d=!!(l*Ct/i);return Ho(zt(o,n),{compressed:!0,sort:d})}function qv(r){const{compressed:n,infinity:i,sort:o,value:l}=ou(r),{BYTES:d,ORDER:p}=Ke;if(l.length===48&&n){const u=rn(l),w=Ke.create(u&Ke.MASK);if(i){if(w!==Qt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:Qt,y:Qt}}const N=Ke.add(Ke.pow(w,iu),Ke.create(Mi.b));let k=Ke.sqrt(N);if(!k)throw new Error("invalid G1 point: compressed point");return k*Ct/p!==BigInt(o)&&(k=Ke.neg(k)),{x:Ke.create(w),y:Ke.create(k)}}else if(l.length===96&&!n){const u=rn(l.subarray(0,d)),w=rn(l.subarray(d));if(i){if(u!==Qt||w!==Qt)throw new Error("G1: non-empty point at infinity");return au.G1.Point.ZERO.toAffine()}return{x:Ke.create(u),y:Ke.create(w)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Vp(r){const{infinity:n,sort:i,value:o}=ou(rr("signatureHex",r,48)),l=Ke.ORDER,d=au.G1.Point,p=rn(o);if(n)return d.ZERO;const u=Ke.create(p&Ke.MASK),w=Ke.add(Ke.pow(u,iu),Ke.create(Mi.b));let N=Ke.sqrt(w);if(!N)throw new Error("invalid G1 point: compressed");const k=BigInt(i);N*Ct/l!==k&&(N=Ke.neg(N));const b=d.fromAffine({x:u,y:N});return b.assertValidity(),b}function Hv(r,n,i){const{BYTES:o,ORDER:l}=Ke,d=n.is0(),{x:p,y:u}=n.toAffine();if(i){if(d)return St(su,zt(Qt,o));const w=!!(u.c1===Qt?u.c0*Ct/l:u.c1*Ct/l);return St(Ho(zt(p.c1,o),{compressed:!0,sort:w}),zt(p.c0,o))}else{if(d)return St(Uint8Array.of(64),new Uint8Array(4*o-1));const{re:w,im:N}=Ge.reim(p),{re:k,im:b}=Ge.reim(u);return St(zt(N,o),zt(w,o),zt(b,o),zt(k,o))}}function Bf(r){r.assertValidity();const{BYTES:n}=Ke;if(r.is0())return St(su,zt(Qt,n));const{x:i,y:o}=r.toAffine(),{re:l,im:d}=Ge.reim(i),{re:p,im:u}=Ge.reim(o),N=!!((u>Qt?u*Ct:p*Ct)/Ke.ORDER&ql),k=l;return St(Ho(zt(d,n),{sort:N,compressed:!0}),zt(k,n))}function Gv(r){const{BYTES:n,ORDER:i}=Ke,{compressed:o,infinity:l,sort:d,value:p}=ou(r);if(!o&&!l&&d||!o&&l&&d||d&&l&&o)throw new Error("invalid encoding flag: "+(r[0]&224));const u=(w,N,k)=>rn(w.slice(N,k));if(p.length===96&&o){if(l){if(p.reduce((v,G)=>v!==0?G+1:G,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ge.ZERO,y:Ge.ZERO}}const w=u(p,0,n),N=u(p,n,2*n),k=Ge.create({c0:Ke.create(N),c1:Ke.create(w)}),b=Ge.add(Ge.pow(k,iu),fd.b);let R=Ge.sqrt(b);const T=R.c1===Qt?R.c0*Ct/i:R.c1*Ct/i?ql:Qt;return R=d&&T>0?R:Ge.neg(R),{x:k,y:R}}else if(p.length===192&&!o){if(l){if(p.reduce((R,T)=>R!==0?T+1:T,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ge.ZERO,y:Ge.ZERO}}const w=u(p,0*n,1*n),N=u(p,1*n,2*n),k=u(p,2*n,3*n),b=u(p,3*n,4*n);return{x:Ge.fromBigTuple([N,w]),y:Ge.fromBigTuple([b,k])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function qp(r){const{ORDER:n}=Ke,{infinity:i,sort:o,value:l}=ou(rr("signatureHex",r)),d=au.G2.Point,p=l.length/2;if(p!==48&&p!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const u=rn(l.slice(0,p)),w=rn(l.slice(p));if(i)return d.ZERO;const N=Ke.create(u&Ke.MASK),k=Ke.create(w),b=Ge.create({c0:k,c1:N}),R=Ge.add(Ge.pow(b,iu),fd.b);let T=Ge.sqrt(R);if(!T)throw new Error("Failed to find a square root");const{re:v,im:G}=Ge.reim(T),Y=BigInt(o),se=G>Qt&&G*Ct/n!==Y,ne=G===Qt&&v*Ct/n!==Y;(se||ne)&&(T=Ge.neg(T));const ae=d.fromAffine({x:b,y:T});return ae.assertValidity(),ae}const au=Uv({fields:{Fp:Ke,Fp2:Ge,Fp6:Lf,Fp12:nt,Fr:$v},G1:{...Mi,Fp:Ke,htfDefaults:{...Tf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(r,n)=>{const i=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),o=new r(Ke.mul(n.px,i),n.py,n.pz);return n.multiplyUnsafe(Jn).negate().multiplyUnsafe(Jn).equals(o)},clearCofactor:(r,n)=>n.multiplyUnsafe(Jn).add(n),mapToCurve:Yv,fromBytes:qv,toBytes:Vv,ShortSignature:{fromBytes(r){return qt(r),Vp(r)},fromHex(r){return Vp(r)},toBytes(r){return Af(r)},toRawBytes(r){return Af(r)},toHex(r){return Fs(Af(r))}}},G2:{...fd,Fp:Ge,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Tf},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:Zv,isTorsionFree:(r,n)=>n.multiplyUnsafe(Jn).negate().equals(zp(r,n)),clearCofactor:(r,n)=>{const i=Jn;let o=n.multiplyUnsafe(i).negate(),l=zp(r,n),d=n.double();return d=zv(r,d),d=d.subtract(l),l=o.add(l),l=l.multiplyUnsafe(i).negate(),d=d.add(l),d=d.subtract(o),d.subtract(n)},fromBytes:Gv,toBytes:Hv,Signature:{fromBytes(r){return qt(r),qp(r)},fromHex(r){return qp(r)},toBytes(r){return Bf(r)},toRawBytes(r){return Bf(r)},toHex(r){return Fs(Bf(r))}}},params:{ateLoopSize:Jn,r:Mi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Tf,hash:id}),Wv=Ty(Ge,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(r=>r.map(n=>Ge.fromBigTuple(n.map(BigInt))))),Lv=Ty(Ke,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(n=>BigInt(n)))),Kv=ky(Ke,{A:Ke.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ke.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ke.create(BigInt(11))}),Dv=ky(Ge,{A:Ge.create({c0:Ke.create(Qt),c1:Ke.create(BigInt(240))}),B:Ge.create({c0:Ke.create(BigInt(1012)),c1:Ke.create(BigInt(1012))}),Z:Ge.create({c0:Ke.create(BigInt(-2)),c1:Ke.create(BigInt(-1))})});function Yv(r){const{x:n,y:i}=Kv(Ke.create(r[0]));return Lv(n,i)}function Zv(r){const{x:n,y:i}=Dv(Ge.fromBigTuple(r));return Wv(n,i)}function Qv(r,n,i){const o=typeof r=="string"?r:yt(r),l=typeof n=="string"?n:yt(n),d=typeof i=="string"?i:yt(i);return au.verifyShortSignature(l,d,o)}const Ry=r=>Ut(new Cs(r)),dd=r=>{const n=Ry(r);return new Date(Number(n)/1e6)};var Xv=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},Jv=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},gl;class en extends _t{constructor(n){super(`Invalid certificate: ${n}`)}}var gr;(function(r){r[r.Empty=0]="Empty",r[r.Fork=1]="Fork",r[r.Labeled=2]="Labeled",r[r.Leaf=3]="Leaf",r[r.Pruned=4]="Pruned"})(gr||(gr={}));function ex(r,n){const i=new Uint8Array(r),o=new Uint8Array(n);for(let l=0;l<i.length;l++)if(i[l]>o[l])return!0;return!1}class Ii{constructor(n,i,o,l,d=5,p=!1){this._rootKey=i,this._canisterId=o,this._blsVerify=l,this._maxAgeInMinutes=d,gl.set(this,!1),Xv(this,gl,p,"f"),this.cert=bn(new Uint8Array(n))}static async create(n){const i=Ii.createUnverified(n);return await i.verify(),i}static createUnverified(n){let i=n.blsVerify;return i||(i=Qv),new Ii(n.certificate,n.rootKey,n.canisterId,i,n.maxAgeInMinutes,n.disableTimeVerification)}lookup(n){return Us(n,this.cert.tree)}lookup_label(n){return this.lookup([n])}async verify(){const n=await wl(this.cert.tree),i=await this._checkDelegationAndGetKey(this.cert.delegation),o=this.cert.signature,l=rx(i),d=$r(So("ic-state-root"),n);let p=!1;const u=Nr(this.lookup(["time"]));if(!u)throw new en("Certificate does not contain a time");if(!Jv(this,gl,"f")){const N=this._maxAgeInMinutes*60*1e3,k=Date.now(),b=k-N,R=k+3e5,T=dd(u);if(T.getTime()<b)throw new en(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+T.toISOString()+" Current time: "+new Date(k).toISOString());if(T.getTime()>R)throw new en("Certificate is signed more than 5 minutes in the future. Certificate time: "+T.toISOString()+" Current time: "+new Date(k).toISOString())}try{p=await this._blsVerify(new Uint8Array(l),new Uint8Array(o),new Uint8Array(d))}catch{p=!1}if(!p)throw new en("Signature verification failed")}async _checkDelegationAndGetKey(n){if(!n)return this._rootKey;const i=await Ii.createUnverified({certificate:n.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(i.cert.delegation)throw new en("Delegation certificates cannot be nested");if(await i.verify(),this._canisterId.toString()!==Bx&&!Iy({canisterId:this._canisterId,subnetId:et.fromUint8Array(new Uint8Array(n.subnet_id)),tree:i.cert.tree}))throw new en(`Canister ${this._canisterId} not in range of delegations for subnet 0x${yt(n.subnet_id)}`);const o=Nr(i.lookup(["subnet",n.subnet_id,"public_key"]));if(!o)throw new Error(`Could not find subnet key for subnet 0x${yt(n.subnet_id)}`);return o}}gl=new WeakMap;const _o=Sn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),tx=96;function rx(r){const n=_o.byteLength+tx;if(r.byteLength!==n)throw new TypeError(`BLS DER-encoded public key must be ${n} bytes long`);const i=r.slice(0,_o.byteLength);if(!zo(i,_o))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${_o}, but get ${i}`);return r.slice(_o.byteLength)}function Nr(r){if(r.status===Rt.Found){if(r.value instanceof ArrayBuffer)return r.value;if(r.value instanceof Uint8Array)return r.value.buffer}}async function wl(r){switch(r[0]){case gr.Empty:return jr(So("ic-hashtree-empty"));case gr.Pruned:return r[1];case gr.Leaf:return jr($r(So("ic-hashtree-leaf"),r[1]));case gr.Labeled:return jr($r(So("ic-hashtree-labeled"),r[1],await wl(r[2])));case gr.Fork:return jr($r(So("ic-hashtree-fork"),await wl(r[1]),await wl(r[2])));default:throw new Error("unreachable")}}function So(r){const n=new Uint8Array([r.length]),i=new TextEncoder().encode(r);return $r(n,i)}var Rt;(function(r){r.Unknown="unknown",r.Absent="absent",r.Found="found"})(Rt||(Rt={}));var xn;(function(r){r.Less="less",r.Greater="greater"})(xn||(xn={}));function Us(r,n){if(r.length===0)switch(n[0]){case gr.Leaf:{if(!n[1])throw new Error("Invalid tree structure for leaf");return n[1]instanceof ArrayBuffer?{status:Rt.Found,value:n[1]}:n[1]instanceof Uint8Array?{status:Rt.Found,value:n[1].buffer}:{status:Rt.Found,value:n[1]}}default:return{status:Rt.Found,value:n}}const i=typeof r[0]=="string"?new TextEncoder().encode(r[0]):r[0],o=vl(i,n);switch(o.status){case Rt.Found:return Us(r.slice(1),o.value);case xn.Greater:case xn.Less:return{status:Rt.Absent};default:return o}}function Kf(r){switch(r[0]){case gr.Empty:return[];case gr.Fork:return Kf(r[1]).concat(Kf(r[2]));default:return[r]}}function vl(r,n){switch(n[0]){case gr.Labeled:return ex(r,n[1])?{status:xn.Greater}:zo(r,n[1])?{status:Rt.Found,value:n[2]}:{status:xn.Less};case gr.Fork:const i=vl(r,n[1]);switch(i.status){case xn.Greater:{const o=vl(r,n[2]);return o.status===xn.Less?{status:Rt.Absent}:o}case Rt.Unknown:{let o=vl(r,n[2]);return o.status===xn.Less?{status:Rt.Unknown}:o}default:return i}case gr.Pruned:return{status:Rt.Unknown};default:return{status:Rt.Absent}}}function Iy(r){const{canisterId:n,subnetId:i,tree:o}=r,l=Us(["subnet",i.toUint8Array(),"canister_ranges"],o);if(l.status!==Rt.Found||!(l.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${i}`);return bn(l.value).map(w=>[et.fromUint8Array(w[0]),et.fromUint8Array(w[1])]).some(w=>w[0].ltEq(n)&&w[1].gtEq(n))}class nx{constructor(n,i,o){this.key=n,this.path=i,this.decodeStrategy=o}}const Fy=async r=>{const{agent:n,paths:i}=r,o=et.from(r.canisterId),l=[...new Set(i)],d=l.map(w=>Df(w,o)),p=new Map,u=l.map((w,N)=>(async()=>{var k;try{const b=await n.readState(o,{paths:[d[N]]});if(n.rootKey==null)throw new Error("Agent is missing root key");const R=await Ii.create({certificate:b.certificate,rootKey:n.rootKey,canisterId:o,disableTimeVerification:!0}),T=(Y,se)=>{if(se==="subnet"){if(n.rootKey==null)throw new Error("Agent is missing root key");const ne=Oy(b.certificate,o,n.rootKey);return{path:se,data:ne}}else return{path:se,data:Nr(Y.lookup(Df(se,o)))}},{path:v,data:G}=T(R,l[N]);if(!G)console.warn(`Expected to find result for path ${v}, but instead found nothing.`),typeof v=="string"?p.set(v,null):p.set(v.key,null);else switch(v){case"time":{p.set(v,dd(G));break}case"controllers":{p.set(v,sx(G));break}case"module_hash":{p.set(v,Hp(G));break}case"subnet":{p.set(v,G);break}case"candid":{p.set(v,new TextDecoder().decode(G));break}default:if(typeof v!="string"&&"key"in v&&"path"in v)switch(v.decodeStrategy){case"raw":p.set(v.key,G);break;case"leb128":{p.set(v.key,Ry(G));break}case"cbor":{p.set(v.key,Py(G));break}case"hex":{p.set(v.key,Hp(G));break}case"utf-8":p.set(v.key,ix(G))}}}catch(b){if(!((k=b?.message)===null||k===void 0)&&k.includes("Invalid certificate"))throw new _t(b.message);typeof w!="string"&&"key"in w&&"path"in w?p.set(w.key,null):p.set(w,null),console.group(),console.warn(`Expected to find result for path ${w}, but instead found nothing.`),console.warn(b),console.groupEnd()}})());return await Promise.all(u),p},Oy=(r,n,i)=>{if(!n._isPrincipal)throw new Error("Invalid canisterId");const o=bn(new Uint8Array(r)),l=o.tree;let d=o.delegation,p;if(d&&d.subnet_id?p=et.fromUint8Array(new Uint8Array(d.subnet_id)):!d&&typeof i<"u"?(p=et.selfAuthenticating(new Uint8Array(i)),d={subnet_id:p.toUint8Array(),certificate:new ArrayBuffer(0)}):(p=et.selfAuthenticating(et.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),d={subnet_id:p.toUint8Array(),certificate:new ArrayBuffer(0)}),!Iy({canisterId:n,subnetId:p,tree:l}))throw new Error("Canister not in range");const w=Us(["subnet",d.subnet_id,"node"],l);if(w.status!==Rt.Found)throw new Error("Node not found");if(w.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const N=Kf(w.value),k=new Map;return N.forEach(b=>{const R=et.from(new Uint8Array(b[1])).toText(),T=Us(["public_key"],b[2]);if(T.status!==Rt.Found)throw new Error("Public key not found");const v=T.value;if(v.byteLength!==44)throw new Error("Invalid public key length");k.set(R,v)}),{subnetId:et.fromUint8Array(new Uint8Array(d.subnet_id)).toText(),nodeKeys:k}},Df=(r,n)=>{const i=new TextEncoder,o=d=>new DataView(i.encode(d).buffer).buffer,l=new DataView(n.toUint8Array().buffer).buffer;switch(r){case"time":return[o("time")];case"controllers":return[o("canister"),l,o("controllers")];case"module_hash":return[o("canister"),l,o("module_hash")];case"subnet":return[o("subnet")];case"candid":return[o("canister"),l,o("metadata"),o("candid:service")];default:if("key"in r&&"path"in r)if(typeof r.path=="string"||r.path instanceof ArrayBuffer){const d=r.path,p=typeof d=="string"?o(d):d;return[o("canister"),l,o("metadata"),p]}else return r.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${r} was formatted correctly.`)},Hp=r=>yt(r),Py=r=>bn(r),ix=r=>new TextDecoder().decode(r),sx=r=>Py(r).map(i=>et.fromUint8Array(new Uint8Array(i))),ox=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:nx,encodePath:Df,fetchNodeKeys:Oy,request:Fy},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qr=BigInt(0),er=BigInt(1),kf=BigInt(2),ax=BigInt(8),lx={zip215:!0};function ux(r,n,i,o){const l=r.sqr(i),d=r.sqr(o),p=r.add(r.mul(n.a,l),d),u=r.add(r.ONE,r.mul(n.d,r.mul(l,d)));return r.eql(p,u)}function cx(r,n={}){const{Fp:i,Fn:o}=Ny("edwards",r,n),{h:l,n:d}=r;qo(n,{},{uvRatio:"function"});const p=kf<<BigInt(o.BYTES*8)-er,u=G=>i.create(G),w=n.uvRatio||((G,Y)=>{try{return{isValid:!0,value:i.sqrt(i.div(G,Y))}}catch{return{isValid:!1,value:Qr}}});if(!ux(i,r,r.Gx,r.Gy))throw new Error("bad curve params: generator point");function N(G,Y,se=!1){const ne=se?er:Qr;return Eo("coordinate "+G,Y,ne,p),Y}function k(G){if(!(G instanceof T))throw new Error("ExtendedPoint expected")}const b=Mo((G,Y)=>{const{ex:se,ey:ne,ez:ae}=G,be=G.is0();Y==null&&(Y=be?ax:i.inv(ae));const j=u(se*Y),ie=u(ne*Y),ce=u(ae*Y);if(be)return{x:Qr,y:er};if(ce!==er)throw new Error("invZ was invalid");return{x:j,y:ie}}),R=Mo(G=>{const{a:Y,d:se}=r;if(G.is0())throw new Error("bad point: ZERO");const{ex:ne,ey:ae,ez:be,et:j}=G,ie=u(ne*ne),ce=u(ae*ae),M=u(be*be),$=u(M*M),W=u(ie*Y),he=u(M*u(W+ce)),ve=u($+u(se*u(ie*ce)));if(he!==ve)throw new Error("bad point: equation left != right (1)");const _=u(ne*ae),P=u(be*j);if(_!==P)throw new Error("bad point: equation left != right (2)");return!0});class T{constructor(Y,se,ne,ae){this.ex=N("x",Y),this.ey=N("y",se),this.ez=N("z",ne,!0),this.et=N("t",ae),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Y){if(Y instanceof T)throw new Error("extended point not allowed");const{x:se,y:ne}=Y||{};return N("x",se),N("y",ne),new T(se,ne,er,u(se*ne))}static normalizeZ(Y){return Vl(T,"ez",Y)}static msm(Y,se){return Sy(T,o,Y,se)}_setWindowSize(Y){this.precompute(Y)}precompute(Y=8,se=!0){return v.setWindowSize(this,Y),se||this.multiply(kf),this}assertValidity(){R(this)}equals(Y){k(Y);const{ex:se,ey:ne,ez:ae}=this,{ex:be,ey:j,ez:ie}=Y,ce=u(se*ie),M=u(be*ae),$=u(ne*ie),W=u(j*ae);return ce===M&&$===W}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:Y}=r,{ex:se,ey:ne,ez:ae}=this,be=u(se*se),j=u(ne*ne),ie=u(kf*u(ae*ae)),ce=u(Y*be),M=se+ne,$=u(u(M*M)-be-j),W=ce+j,he=W-ie,ve=ce-j,_=u($*he),P=u(W*ve),L=u($*ve),J=u(he*W);return new T(_,P,J,L)}add(Y){k(Y);const{a:se,d:ne}=r,{ex:ae,ey:be,ez:j,et:ie}=this,{ex:ce,ey:M,ez:$,et:W}=Y,he=u(ae*ce),ve=u(be*M),_=u(ie*ne*W),P=u(j*$),L=u((ae+be)*(ce+M)-he-ve),J=P-_,fe=P+_,re=u(ve-se*he),xe=u(L*J),_e=u(fe*re),z=u(L*re),le=u(J*fe);return new T(xe,_e,le,z)}subtract(Y){return this.add(Y.negate())}multiply(Y){const se=Y;Eo("scalar",se,er,d);const{p:ne,f:ae}=v.wNAFCached(this,se,T.normalizeZ);return T.normalizeZ([ne,ae])[0]}multiplyUnsafe(Y,se=T.ZERO){const ne=Y;return Eo("scalar",ne,Qr,d),ne===Qr?T.ZERO:this.is0()||ne===er?this:v.wNAFCachedUnsafe(this,ne,T.normalizeZ,se)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return v.wNAFCachedUnsafe(this,d).is0()}toAffine(Y){return b(this,Y)}clearCofactor(){return l===er?this:this.multiplyUnsafe(l)}static fromBytes(Y,se=!1){return qt(Y),this.fromHex(Y,se)}static fromHex(Y,se=!1){const{d:ne,a:ae}=r,be=i.BYTES;Y=rr("pointHex",Y,be),Uo("zip215",se);const j=Y.slice(),ie=Y[be-1];j[be-1]=ie&-129;const ce=Co(j),M=se?p:i.ORDER;Eo("pointHex.y",ce,Qr,M);const $=u(ce*ce),W=u($-er),he=u(ne*$-ae);let{isValid:ve,value:_}=w(W,he);if(!ve)throw new Error("Point.fromHex: invalid y coordinate");const P=(_&er)===er,L=(ie&128)!==0;if(!se&&_===Qr&&L)throw new Error("Point.fromHex: x=0 and x_0=1");return L!==P&&(_=u(-_)),T.fromAffine({x:_,y:ce})}static fromPrivateScalar(Y){return T.BASE.multiply(Y)}toBytes(){const{x:Y,y:se}=this.toAffine(),ne=nu(se,i.BYTES);return ne[ne.length-1]|=Y&er?128:0,ne}toRawBytes(){return this.toBytes()}toHex(){return Fs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(r.Gx,r.Gy,er,u(r.Gx*r.Gy)),T.ZERO=new T(Qr,er,er,Qr),T.Fp=i,T.Fn=o;const v=Ey(T,o.BYTES*8);return T}function fx(r,n){qo(n,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i,hash:o}=n,{BASE:l,Fp:d,Fn:p}=r,u=p.ORDER,w=n.randomBytes||mm,N=n.adjustScalarBytes||(j=>j),k=n.domain||((j,ie,ce)=>{if(Uo("phflag",ce),ie.length||ce)throw new Error("Contexts/pre-hash are not supported");return j});function b(j){return p.create(j)}function R(j){return b(Co(j))}function T(j){const ie=d.BYTES;j=rr("private key",j,ie);const ce=rr("hashed private key",o(j),2*ie),M=N(ce.slice(0,ie)),$=ce.slice(ie,2*ie),W=R(M);return{head:M,prefix:$,scalar:W}}function v(j){const{head:ie,prefix:ce,scalar:M}=T(j),$=l.multiply(M),W=$.toBytes();return{head:ie,prefix:ce,scalar:M,point:$,pointBytes:W}}function G(j){return v(j).pointBytes}function Y(j=Uint8Array.of(),...ie){const ce=St(...ie);return R(o(k(ce,rr("context",j),!!i)))}function se(j,ie,ce={}){j=rr("message",j),i&&(j=i(j));const{prefix:M,scalar:$,pointBytes:W}=v(ie),he=Y(ce.context,M,j),ve=l.multiply(he).toBytes(),_=Y(ce.context,ve,W,j),P=b(he+_*$);Eo("signature.s",P,Qr,u);const L=d.BYTES,J=St(ve,nu(P,L));return rr("result",J,L*2)}const ne=lx;function ae(j,ie,ce,M=ne){const{context:$,zip215:W}=M,he=d.BYTES;j=rr("signature",j,2*he),ie=rr("message",ie),ce=rr("publicKey",ce,he),W!==void 0&&Uo("zip215",W),i&&(ie=i(ie));const ve=Co(j.slice(he,2*he));let _,P,L;try{_=r.fromHex(ce,W),P=r.fromHex(j.slice(0,he),W),L=l.multiplyUnsafe(ve)}catch{return!1}if(!W&&_.isSmallOrder())return!1;const J=Y($,P.toBytes(),_.toBytes(),ie);return P.add(_.multiplyUnsafe(J)).subtract(L).clearCofactor().is0()}return l.precompute(8),{getPublicKey:G,sign:se,verify:ae,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>w(d.BYTES),precompute(j=8,ie=r.BASE){return ie.precompute(j,!1)}},Point:r}}function dx(r){const n={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},i=r.Fp,o=ji(n.n,r.nBitLength,!0),l={Fp:i,Fn:o,uvRatio:r.uvRatio},d={hash:r.hash,randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:n,curveOpts:l,eddsaOpts:d}}function hx(r,n){return Object.assign({},n,{ExtendedPoint:n.Point,CURVE:r})}function px(r){const{CURVE:n,curveOpts:i,eddsaOpts:o}=dx(r),l=cx(n,i),d=fx(l,o);return hx(r,d)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const mx=BigInt(1),Gp=BigInt(2);BigInt(3);const yx=BigInt(5),gx=BigInt(8),lu={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:gx,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function wx(r){const n=BigInt(10),i=BigInt(20),o=BigInt(40),l=BigInt(80),d=lu.p,u=r*r%d*r%d,w=Yr(u,Gp,d)*u%d,N=Yr(w,mx,d)*r%d,k=Yr(N,yx,d)*N%d,b=Yr(k,n,d)*k%d,R=Yr(b,i,d)*b%d,T=Yr(R,o,d)*R%d,v=Yr(T,l,d)*T%d,G=Yr(v,l,d)*T%d,Y=Yr(G,n,d)*k%d;return{pow_p_5_8:Yr(Y,Gp,d)*r%d,b2:u}}function vx(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Wp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function xx(r,n){const i=lu.p,o=At(n*n*n,i),l=At(o*o*n,i),d=wx(r*l).pow_p_5_8;let p=At(r*o*d,i);const u=At(n*p*p,i),w=p,N=At(p*Wp,i),k=u===r,b=u===At(-r,i),R=u===At(-r*Wp,i);return k&&(p=w),(b||R)&&(p=N),gv(p,i)&&(p=At(-p,i)),{isValid:k||b,value:p}}const _x=ji(lu.p,void 0,!0),bx={...lu,Fp:_x,hash:Rw,adjustScalarBytes:vx,uvRatio:xx},gs=px(bx);var Lp=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},tr=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Yt,No,Uy,Cy;class Ex{constructor(n={}){Yt.set(this,void 0),No.set(this,void 0),this[Uy]=this.entries.bind(this),this[Cy]="ExpirableMap";const{source:i=[],expirationTime:o=10*60*1e3}=n,l=Date.now();Lp(this,Yt,new Map([...i].map(([d,p])=>[d,{value:p,timestamp:l}])),"f"),Lp(this,No,o,"f")}prune(){const n=Date.now();for(const[i,o]of tr(this,Yt,"f").entries())n-o.timestamp>tr(this,No,"f")&&tr(this,Yt,"f").delete(i);return this}set(n,i){this.prune();const o={value:i,timestamp:Date.now()};return tr(this,Yt,"f").set(n,o),this}get(n){const i=tr(this,Yt,"f").get(n);if(i!==void 0){if(Date.now()-i.timestamp>tr(this,No,"f")){tr(this,Yt,"f").delete(n);return}return i.value}}clear(){tr(this,Yt,"f").clear()}entries(){const n=tr(this,Yt,"f").entries();return function*(){for(const[o,l]of n)yield[o,l.value]}()}values(){const n=tr(this,Yt,"f").values();return function*(){for(const o of n)yield o.value}()}keys(){return tr(this,Yt,"f").keys()}forEach(n,i){for(const[o,l]of tr(this,Yt,"f").entries())n.call(i,l.value,o,this)}has(n){return tr(this,Yt,"f").has(n)}delete(n){return tr(this,Yt,"f").delete(n)}get size(){return tr(this,Yt,"f").size}}Yt=new WeakMap,No=new WeakMap,Uy=Symbol.iterator,Cy=Symbol.toStringTag;const Kp=r=>{if(r<=127)return 1;if(r<=255)return 2;if(r<=65535)return 3;if(r<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Dp=(r,n,i)=>{if(i<=127)return r[n]=i,1;if(i<=255)return r[n]=129,r[n+1]=i,2;if(i<=65535)return r[n]=130,r[n+1]=i>>8,r[n+2]=i,3;if(i<=16777215)return r[n]=131,r[n+1]=i>>16,r[n+2]=i>>8,r[n+3]=i,4;throw new Error("Length too long (> 4 bytes)")},Yf=(r,n)=>{if(r[n]<128)return 1;if(r[n]===128)throw new Error("Invalid length 0");if(r[n]===129)return 2;if(r[n]===130)return 3;if(r[n]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Sx=(r,n)=>{const i=Yf(r,n);if(i===1)return r[n];if(i===2)return r[n+1];if(i===3)return(r[n+1]<<8)+r[n+2];if(i===4)return(r[n+1]<<16)+(r[n+2]<<8)+r[n+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Hl=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function My(r,n){const i=2+Kp(r.byteLength+1),o=n.byteLength+i+r.byteLength;let l=0;const d=new Uint8Array(1+Kp(o)+o);return d[l++]=48,l+=Dp(d,l,o),d.set(n,l),l+=n.byteLength,d[l++]=3,l+=Dp(d,l,r.byteLength+1),d[l++]=0,d.set(new Uint8Array(r),l),d}const jy=(r,n)=>{let i=0;const o=(u,w)=>{if(l[i++]!==u)throw new Error("Expected: "+w)},l=new Uint8Array(r);if(o(48,"sequence"),i+=Yf(l,i),!zo(l.slice(i,i+n.byteLength),n))throw new Error("Not the expected OID.");i+=n.byteLength,o(3,"bit string");const d=Sx(l,i)-1;i+=Yf(l,i),o(0,"0 padding");const p=l.slice(i);if(d!==p.length)throw new Error(`DER payload mismatch: Expected length ${d} actual length ${p.length}`);return p};var Yp=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},Zp=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},xl,_l;let $y=class To{constructor(n){if(xl.set(this,void 0),_l.set(this,void 0),n.byteLength!==To.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Yp(this,xl,n,"f"),Yp(this,_l,To.derEncode(n),"f")}static from(n){return this.fromDer(n.toDer())}static fromRaw(n){return new To(n)}static fromDer(n){return new To(this.derDecode(n))}static derEncode(n){return My(n,Hl).buffer}static derDecode(n){const i=jy(n,Hl);if(i.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return i}get rawKey(){return Zp(this,xl,"f")}get derKey(){return Zp(this,_l,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};xl=new WeakMap,_l=new WeakMap;$y.RAW_KEY_LENGTH=32;class Nx{constructor(){this.observers=[]}subscribe(n){this.observers.push(n)}unsubscribe(n){this.observers=this.observers.filter(i=>i!==n)}notify(n,...i){this.observers.forEach(o=>o(n,...i))}}class Tx extends Nx{constructor(){super()}print(n,...i){this.notify({message:n,level:"info"},...i)}warn(n,...i){this.notify({message:n,level:"warn"},...i)}error(n,i,...o){this.notify({message:n,level:"error",error:i},...o)}}var Zr=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},Dt=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Xr,bl,El,Sl,Nl,Tl,Al,Bl,ws;const zy=.5,Vy=1.5,qy=500,Hy=6e4,Gy=9e5,Wy=10;class uu{constructor(n=uu.default){Xr.set(this,void 0),bl.set(this,void 0),El.set(this,void 0),Sl.set(this,void 0),Nl.set(this,void 0),Tl.set(this,void 0),Al.set(this,void 0),Bl.set(this,void 0),ws.set(this,0);const{initialInterval:i=qy,randomizationFactor:o=zy,multiplier:l=Vy,maxInterval:d=Hy,maxElapsedTime:p=Gy,maxIterations:u=Wy,date:w=Date}=n;Zr(this,Xr,i,"f"),Zr(this,bl,o,"f"),Zr(this,El,l,"f"),Zr(this,Sl,d,"f"),Zr(this,Bl,w,"f"),Zr(this,Nl,w.now(),"f"),Zr(this,Tl,p,"f"),Zr(this,Al,u,"f")}get ellapsedTimeInMsec(){return Dt(this,Bl,"f").now()-Dt(this,Nl,"f")}get currentInterval(){return Dt(this,Xr,"f")}get count(){return Dt(this,ws,"f")}get randomValueFromInterval(){const n=Dt(this,bl,"f")*Dt(this,Xr,"f"),i=Dt(this,Xr,"f")-n,o=Dt(this,Xr,"f")+n;return Math.random()*(o-i)+i}incrementCurrentInterval(){var n;return Zr(this,Xr,Math.min(Dt(this,Xr,"f")*Dt(this,El,"f"),Dt(this,Sl,"f")),"f"),Zr(this,ws,(n=Dt(this,ws,"f"),n++,n),"f"),Dt(this,Xr,"f")}next(){return this.ellapsedTimeInMsec>=Dt(this,Tl,"f")||Dt(this,ws,"f")>=Dt(this,Al,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Xr=new WeakMap,bl=new WeakMap,El=new WeakMap,Sl=new WeakMap,Nl=new WeakMap,Tl=new WeakMap,Al=new WeakMap,Bl=new WeakMap,ws=new WeakMap;uu.default={initialInterval:qy,randomizationFactor:zy,multiplier:Vy,maxInterval:Hy,maxElapsedTime:Gy,maxIterations:Wy,date:Date};var $t=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},Re=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Zt,bi,Rs,Jr,gn,As,Ao,vs,Ur,Cr,Ei,Si,Bo,xs,_s,Ni,Ai,Ly,kl,Rl,Ti,wn;(function(r){r.Received="received",r.Processing="processing",r.Replied="replied",r.Rejected="rejected",r.Unknown="unknown",r.Done="done"})(wn||(wn={}));const cl=60*1e3,Ax="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Bx="aaaaa-aa",kx="ic0.app",Rx=".ic0.app",Ix="icp0.io",Fx=".icp0.io",Ox="icp-api.io",Px=".icp-api.io";class Rf extends _t{constructor(n){super(n),this.message=n}}class fl extends _t{constructor(n){super(n),this.message=n}}function Ux(){let r;if(typeof window<"u")if(window.fetch)r=window.fetch.bind(window);else throw new Rf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)r=global.fetch.bind(global);else throw new Rf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(r=self.fetch.bind(self));if(r)return r;throw new Rf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Cx(r){let n;if(r!==void 0)!r.match(/^[a-z]+:/)&&typeof window<"u"?n=new URL(window.location.protocol+"//"+r):n=new URL(r);else{const i=["ic0.app","icp0.io","127.0.0.1","localhost"],o=[".github.dev",".gitpod.io"],l=typeof window<"u"?window.location:void 0,d=l?.hostname;let p;d&&typeof d=="string"&&(o.some(u=>d.endsWith(u))?p=d:p=i.find(u=>d.endsWith(u))),l&&p?n=new URL(`${l.protocol}//${p}${l.port?":"+l.port:""}`):n=new URL("https://icp-api.io")}return n.toString()}class Bs{constructor(n={}){var i,o;Zt.add(this),bi.set(this,null),Rs.set(this,!1),Jr.set(this,void 0),gn.set(this,void 0),As.set(this,void 0),Ao.set(this,void 0),vs.set(this,0),Ur.set(this,void 0),Cr.set(this,void 0),Ei.set(this,void 0),Si.set(this,void 0),this._isAgent=!0,this.config={},Bo.set(this,0),this.log=new Tx,xs.set(this,[]),_s.set(this,[]),Ni.set(this,new Ex({expirationTime:5*60*1e3})),Ai.set(this,!0),Rl.set(this,(p,u)=>{if(Re(this,Ai,"f")===!1)return p;if(!u)throw new en("Invalid signature from replica signed query: no matching node key found.");const{status:w,signatures:N=[],requestId:k}=p,b=_n(new TextEncoder().encode("\vic-response"));for(const R of N){const{timestamp:T,identity:v}=R,G=et.fromUint8Array(v).toText();let Y;if(w==="replied"){const{reply:j}=p;Y=Ml({status:w,reply:j,timestamp:BigInt(T),request_id:k})}else if(w==="rejected"){const{reject_code:j,reject_message:ie,error_code:ce}=p;Y=Ml({status:w,reject_code:j,reject_message:ie,error_code:ce,timestamp:BigInt(T),request_id:k})}else throw new Error(`Unknown status: ${w}`);const se=$r(b,_n(new Uint8Array(Y))),ne=u?.nodeKeys.get(G);if(!ne)throw new en("Invalid signature from replica signed query: no matching node key found.");const ae=$y.fromDer(ne).rawKey;if(gs.verify(R.signature,new Uint8Array(se),new Uint8Array(ae)))return p;throw new en(`Invalid signature from replica ${G} signed query.`)}return p}),this.config=n,$t(this,gn,n.fetch||Ux()||fetch.bind(global),"f"),$t(this,As,n.fetchOptions,"f"),$t(this,Ao,n.callOptions,"f"),$t(this,Rs,(i=n.shouldFetchRootKey)!==null&&i!==void 0?i:!1,"f"),n.rootKey?this.rootKey=n.rootKey:Re(this,Rs,"f")?this.rootKey=null:this.rootKey=Sn(Ax);const l=Cx(n.host);this.host=new URL(l),n.verifyQuerySignatures!==void 0&&$t(this,Ai,n.verifyQuerySignatures,"f"),$t(this,Cr,(o=n.retryTimes)!==null&&o!==void 0?o:3,"f");const d=()=>new uu({maxIterations:Re(this,Cr,"f")});if($t(this,Ei,n.backoffStrategy||d,"f"),this.host.hostname.endsWith(Rx)?this.host.hostname=kx:this.host.hostname.endsWith(Fx)?this.host.hostname=Ix:this.host.hostname.endsWith(Px)&&(this.host.hostname=Ox),n.credentials){const{name:p,password:u}=n.credentials;$t(this,Ur,`${p}${u?":"+u:""}`,"f")}if($t(this,Jr,Promise.resolve(n.identity||new jl),"f"),n.ingressExpiryInMinutes&&n.ingressExpiryInMinutes>5)throw new _t(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${n.ingressExpiryInMinutes} minutes.`);if(n.ingressExpiryInMinutes&&n.ingressExpiryInMinutes<=0)throw new _t(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${n.ingressExpiryInMinutes} minutes.`);$t(this,Si,n.ingressExpiryInMinutes||5,"f"),this.addTransform("update",Bp(Hf)),n.useQueryNonces&&this.addTransform("query",Bp(Hf)),n.logToConsole&&this.log.subscribe(p=>{p.level==="error"?console.error(p.message):p.level==="warn"?console.warn(p.message):console.log(p.message)})}get waterMark(){return Re(this,Bo,"f")}static createSync(n={}){return new this(Object.assign({},n))}static async create(n={shouldFetchRootKey:!1}){const i=Bs.createSync(n),o=[i.syncTime()];return i.host.toString()!=="https://icp-api.io"&&n.shouldFetchRootKey&&o.push(i.fetchRootKey()),await Promise.all(o),i}static async from(n){var i;try{return"config"in n?await Bs.create(n.config):await Bs.create({fetch:n._fetch,fetchOptions:n._fetchOptions,callOptions:n._callOptions,host:n._host.toString(),identity:(i=n._identity)!==null&&i!==void 0?i:void 0})}catch{throw new _t("Failed to create agent from provided agent")}}isLocal(){const n=this.host.hostname;return n==="127.0.0.1"||n.endsWith("127.0.0.1")}addTransform(n,i,o=i.priority||0){if(n==="update"){const l=Re(this,_s,"f").findIndex(d=>(d.priority||0)<o);Re(this,_s,"f").splice(l>=0?l:Re(this,_s,"f").length,0,Object.assign(i,{priority:o}))}else if(n==="query"){const l=Re(this,xs,"f").findIndex(d=>(d.priority||0)<o);Re(this,xs,"f").splice(l>=0?l:Re(this,xs,"f").length,0,Object.assign(i,{priority:o}))}}async getPrincipal(){if(!Re(this,Jr,"f"))throw new fl("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Re(this,Jr,"f")).getPrincipal()}async call(n,i,o){var l,d;await Re(this,Zt,"m",Ti).call(this);const p=(l=i.callSync)!==null&&l!==void 0?l:!0,u=await(o!==void 0?await o:await Re(this,Jr,"f"));if(!u)throw new fl("This identity has expired due this application's security policy. Please refresh your authentication.");const w=et.from(n),N=i.effectiveCanisterId?et.from(i.effectiveCanisterId):w,k=u.getPrincipal()||et.anonymous();let b=new ll(Re(this,Si,"f")*cl);Math.abs(Re(this,vs,"f"))>1e3*30&&(b=new ll(Re(this,Si,"f")*cl+Re(this,vs,"f")));const R={request_type:qf.Call,canister_id:w,method_name:i.methodName,arg:i.arg,sender:k,ingress_expiry:b};let T=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,Ur,"f")?{Authorization:"Basic "+btoa(Re(this,Ur,"f"))}:{})},endpoint:"call",body:R}),v;i?.nonce?v=G(i.nonce):T.body.nonce?v=G(T.body.nonce):v=void 0,R.nonce=v;function G(ae){return new Uint8Array(ae)}T=await u.transformRequest(T);const Y=wf(T.body),se=Re(this,Ei,"f").call(this),ne=Po(R);try{const ae=()=>(this.log.print(`fetching "/api/v3/canister/${N.toText()}/call" with request:`,T),Re(this,gn,"f").call(this,""+new URL(`/api/v3/canister/${N.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ao,"f")),T.request),{body:Y}))),be=()=>(this.log.print(`fetching "/api/v2/canister/${N.toText()}/call" with request:`,T),Re(this,gn,"f").call(this,""+new URL(`/api/v2/canister/${N.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ao,"f")),T.request),{body:Y}))),ie=await Re(this,Zt,"m",kl).call(this,{request:p?ae:be,backoff:se,tries:0}),ce=await ie.arrayBuffer(),M=ie.status===200&&ce.byteLength>0?bn(ce):null;if(M&&"certificate"in M){const $=await this.parseTimeFromResponse({certificate:M.certificate});$t(this,Bo,$,"f")}return{requestId:ne,response:{ok:ie.ok,status:ie.status,statusText:ie.statusText,body:M,headers:bo(ie.headers)},requestDetails:R}}catch(ae){if(ae.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(n,Object.assign(Object.assign({},i),{callSync:!1}),o);const be=`Error while making call: ${(d=ae.message)!==null&&d!==void 0?d:String(ae)}`,j=new lv(be,ae,yt(ne),yt(T.body.sender_pubkey),yt(T.body.sender_sig),String(T.body.content.ingress_expiry._value));throw this.log.error(be,j),j}}async query(n,i,o){var l,d,p,u;await Re(this,Zt,"m",Ti).call(this);const w=Re(this,Ei,"f").call(this),N=i.effectiveCanisterId?et.from(i.effectiveCanisterId):et.from(n);this.log.print(`ecid ${N.toString()}`),this.log.print(`canisterId ${n.toString()}`);let k,b;const R=await(o!==void 0?o:Re(this,Jr,"f"));if(!R)throw new fl("This identity has expired due this application's security policy. Please refresh your authentication.");const T=et.from(n),v=R?.getPrincipal()||et.anonymous(),G={request_type:"query",canister_id:T,method_name:i.methodName,arg:i.arg,sender:v,ingress_expiry:new ll(Re(this,Si,"f")*cl)},Y=Po(G);k=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,Ur,"f")?{Authorization:"Basic "+btoa(Re(this,Ur,"f"))}:{})},endpoint:"read",body:G}),k=await R?.transformRequest(k);const se=wf(k.body),ne={canister:T.toText(),ecid:N,transformedRequest:k,body:se,requestId:Y,backoff:w,tries:0},ae=async()=>({requestDetails:G,query:await Re(this,Zt,"m",Ly).call(this,ne)}),be=async()=>{if(!Re(this,Ai,"f"))return;const j=Re(this,Ni,"f").get(N.toString());return j||(await this.fetchSubnetKeys(N.toString()),Re(this,Ni,"f").get(N.toString()))};try{const[j,ie]=await Promise.all([ae(),be()]);b=j;const{requestDetails:ce,query:M}=b,$=Object.assign(Object.assign({},M),{requestDetails:ce});if(this.log.print("Query response:",$),!Re(this,Ai,"f"))return $;try{return Re(this,Rl,"f").call(this,$,ie)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Re(this,Ni,"f").delete(n.toString()),await this.fetchSubnetKeys(N.toString());const he=Re(this,Ni,"f").get(n.toString());if(!he)throw new en("Invalid signature from replica signed query: no matching node key found.");return Re(this,Rl,"f").call(this,$,he)}}catch(j){const ie=`Error while making call: ${(l=j.message)!==null&&l!==void 0?l:String(j)}`,ce=new uv(ie,j,String(Y),yt((d=k?.body)===null||d===void 0?void 0:d.sender_pubkey),yt((p=k?.body)===null||p===void 0?void 0:p.sender_sig),String((u=k?.body)===null||u===void 0?void 0:u.content.ingress_expiry._value));throw this.log.error(ie,ce),ce}}async createReadStateRequest(n,i){await Re(this,Zt,"m",Ti).call(this);const o=await(i!==void 0?await i:await Re(this,Jr,"f"));if(!o)throw new fl("This identity has expired due this application's security policy. Please refresh your authentication.");const l=o?.getPrincipal()||et.anonymous(),d=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,Ur,"f")?{Authorization:"Basic "+btoa(Re(this,Ur,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:n.paths,sender:l,ingress_expiry:new ll(Re(this,Si,"f")*cl)}});return o?.transformRequest(d)}async readState(n,i,o,l){var d,p,u,w;function N(G){for(const Y of G.paths){const[se,ne]=Y,ae=_n(new TextEncoder().encode("request_status"));if(zo(se,ae))return ne}}const k=N(i);await Re(this,Zt,"m",Ti).call(this);const b=typeof n=="string"?et.fromText(n):n,R=l??await this.createReadStateRequest(i,o),T=wf(R.body);this.log.print(`fetching "/api/v2/canister/${b}/read_state" with request:`,R);const v=Re(this,Ei,"f").call(this);try{const G=await Re(this,Zt,"m",kl).call(this,{request:()=>Re(this,gn,"f").call(this,""+new URL(`/api/v2/canister/${b.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,As,"f")),R.request),{body:T})),backoff:v,tries:0});if(!G.ok)throw new Error(`Server returned an error:
  Code: ${G.status} (${G.statusText})
  Body: ${await G.text()}
`);const Y=bn(await G.arrayBuffer());this.log.print("Read state response:",Y);const se=await this.parseTimeFromResponse(Y);return se>0&&(this.log.print("Read state response time:",se),$t(this,Bo,se,"f")),Y}catch(G){const Y=`Caught exception while attempting to read state: ${(d=G.message)!==null&&d!==void 0?d:String(G)}`,se=new cv(Y,G,String(k),yt((p=R?.body)===null||p===void 0?void 0:p.sender_pubkey),yt((u=R?.body)===null||u===void 0?void 0:u.sender_sig),String((w=R?.body)===null||w===void 0?void 0:w.content.ingress_expiry._value));throw this.log.error(Y,se),se}}async parseTimeFromResponse(n){let i;if(n.certificate){const o=bn(n.certificate);if(o&&"tree"in o)i=o.tree;else throw new Error("Could not decode time from response");const l=Us(["time"],i);if(l.status!==Rt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(l.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(l))throw new Error("Time was not found in the response or was not in its expected format.");const d=dd(_n(l.value));return this.log.print("Time from response:",d),this.log.print("Time from response in milliseconds:",Number(d)),Number(d)}else this.log.warn("No certificate found in response");return 0}async syncTime(n){await Re(this,Zt,"m",Ti).call(this);const i=await iw(()=>Promise.resolve().then(()=>ox),void 0),o=Date.now();try{n||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const l=Bs.createSync({identity:new jl,host:this.host.toString(),fetch:Re(this,gn,"f"),retryTimes:0}),p=(await i.request({canisterId:n??et.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:l,paths:["time"]})).get("time");p&&($t(this,vs,Number(p)-Number(o),"f"),this.log.notify({message:`Syncing time: offset of ${Re(this,vs,"f")}`,level:"info"}))}catch(l){this.log.error("Caught exception while attempting to sync time",l)}}async status(){const n=Re(this,Ur,"f")?{Authorization:"Basic "+btoa(Re(this,Ur,"f"))}:{};this.log.print('fetching "/api/v2/status"');const i=Re(this,Ei,"f").call(this),o=await Re(this,Zt,"m",kl).call(this,{backoff:i,request:()=>Re(this,gn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:n},Re(this,As,"f"))),tries:0});return bn(await o.arrayBuffer())}async fetchRootKey(){let n;return Re(this,bi,"f")?n=await Re(this,bi,"f"):($t(this,bi,new Promise((i,o)=>{this.status().then(l=>{const d=l.root_key;this.rootKey=d,i(d)}).catch(o)}),"f"),n=await Re(this,bi,"f")),$t(this,bi,null,"f"),n}invalidateIdentity(){$t(this,Jr,null,"f")}replaceIdentity(n){$t(this,Jr,Promise.resolve(n),"f")}async fetchSubnetKeys(n){await Re(this,Zt,"m",Ti).call(this);const i=et.from(n),l=(await Fy({canisterId:i,paths:["subnet"],agent:this})).get("subnet");if(l&&typeof l=="object"&&"nodeKeys"in l)return Re(this,Ni,"f").set(i.toText(),l),l}_transform(n){let i=Promise.resolve(n);if(n.endpoint==="call")for(const o of Re(this,_s,"f"))i=i.then(l=>o(l).then(d=>d||l));else for(const o of Re(this,xs,"f"))i=i.then(l=>o(l).then(d=>d||l));return i}}bi=new WeakMap,Rs=new WeakMap,Jr=new WeakMap,gn=new WeakMap,As=new WeakMap,Ao=new WeakMap,vs=new WeakMap,Ur=new WeakMap,Cr=new WeakMap,Ei=new WeakMap,Si=new WeakMap,Bo=new WeakMap,xs=new WeakMap,_s=new WeakMap,Ni=new WeakMap,Ai=new WeakMap,Rl=new WeakMap,Zt=new WeakSet,Ly=async function r(n){var i,o;const{ecid:l,transformedRequest:d,body:p,requestId:u,backoff:w,tries:N}=n,k=N===0?0:w.next();if(this.log.print(`fetching "/api/v2/canister/${l.toString()}/query" with tries:`,{tries:N,backoff:w,delay:k}),k===null)throw new _t(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);k>0&&await new Promise(v=>setTimeout(v,k));let b;try{this.log.print(`fetching "/api/v2/canister/${l.toString()}/query" with request:`,d);const v=await Re(this,gn,"f").call(this,""+new URL(`/api/v2/canister/${l.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,As,"f")),d.request),{body:p}));if(v.status===200){const G=bn(await v.arrayBuffer());b=Object.assign(Object.assign({},G),{httpDetails:{ok:v.ok,status:v.status,statusText:v.statusText,headers:bo(v.headers)},requestId:u})}else throw new vf(`Gateway returned an error:
  Code: ${v.status} (${v.statusText})
  Body: ${await v.text()}
`,{ok:v.ok,status:v.status,statusText:v.statusText,headers:bo(v.headers)})}catch(v){if(N<Re(this,Cr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${v}
  Retrying query.`),await Re(this,Zt,"m",r).call(this,Object.assign(Object.assign({},n),{tries:N+1}));throw v}const R=(o=(i=b.signatures)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.timestamp;if(!Re(this,Ai,"f"))return b;if(!R)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const T=Number(BigInt(R)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:T}),Number(this.waterMark)>T){const v=new _t("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",v,{timestamp:R,waterMark:this.waterMark}),N<Re(this,Cr,"f"))return await Re(this,Zt,"m",r).call(this,Object.assign(Object.assign({},n),{tries:N+1}));throw new _t(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return b},kl=async function r(n){const{request:i,backoff:o,tries:l}=n,d=l===0?0:o.next();if(d===null)throw new _t(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(N=>setTimeout(N,d));let p;try{p=await i()}catch(N){if(Re(this,Cr,"f")>l)return this.log.warn(`Caught exception while attempting to make request:
  ${N}
  Retrying request.`),await Re(this,Zt,"m",r).call(this,{request:i,backoff:o,tries:l+1});throw N}if(p.ok)return p;const u=await p.clone().text(),w=`Server returned an error:
  Code: ${p.status} (${p.statusText})
  Body: ${u}
`;if(p.status===404&&p.url.includes("api/v3"))throw new vf("v3 api not supported. Fall back to v2",{ok:p.ok,status:p.status,statusText:p.statusText,headers:bo(p.headers)});if(l<Re(this,Cr,"f"))return await Re(this,Zt,"m",r).call(this,{request:i,backoff:o,tries:l+1});throw new vf(w,{ok:p.ok,status:p.status,statusText:p.statusText,headers:bo(p.headers)})},Ti=async function(){if(!this.rootKey)if(this.rootKey===null&&Re(this,Rs,"f"))await this.fetchRootKey();else throw new _t(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Re(this,Rs,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var Qp;(function(r){r.Error="err",r.GetPrincipal="gp",r.GetPrincipalResponse="gpr",r.Query="q",r.QueryResponse="qr",r.Call="c",r.CallResponse="cr",r.ReadState="rs",r.ReadStateResponse="rsr",r.Status="s",r.StatusResponse="sr"})(Qp||(Qp={}));function Xp(){const r=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!r)throw new Error("No Agent could be found.");return r}const Mx=5*60*1e3;function Ky(){return qx($x(jx(),1e3),Vx(1e3,1.2),zx(Mx))}function jx(){let r=!0;return async()=>r?(r=!1,!0):!1}function $x(r,n){return async(i,o,l)=>{if(await r(i,o,l))return new Promise(d=>setTimeout(d,n))}}function zx(r){const n=Date.now()+r;return async(i,o,l)=>{if(Date.now()>n)throw new Error(`Request timed out after ${r} msec:
  Request ID: ${yt(o)}
  Request status: ${l}
`)}}function Vx(r,n){let i=r;return()=>new Promise(o=>setTimeout(()=>{i*=n,o()},i))}function qx(...r){return async(n,i,o)=>{for(const l of r)await l(n,i,o)}}async function Dy(r,n,i,o=Ky(),l,d){var p;const u=[new TextEncoder().encode("request_status"),i],w=l??await((p=r.createReadStateRequest)===null||p===void 0?void 0:p.call(r,{paths:[u]})),N=await r.readState(n,{paths:[u]},void 0,w);if(r.rootKey==null)throw new Error("Agent root key not initialized before polling");const k=await Ii.create({certificate:N.certificate,rootKey:r.rootKey,canisterId:n,blsVerify:d}),b=Nr(k.lookup([...u,new TextEncoder().encode("status")]));let R;switch(typeof b>"u"?R=wn.Unknown:R=new TextDecoder().decode(b),R){case wn.Replied:return{reply:Nr(k.lookup([...u,"reply"])),certificate:k};case wn.Received:case wn.Unknown:case wn.Processing:return await o(n,i,R),Dy(r,n,i,o,w,d);case wn.Rejected:{const T=new Uint8Array(Nr(k.lookup([...u,"reject_code"])))[0],v=new TextDecoder().decode(Nr(k.lookup([...u,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${yt(i)}
  Reject code: ${T}
  Reject text: ${v}
`)}case wn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${yt(i)}
`)}throw new Error("unreachable")}const Hx=({IDL:r})=>{const n=r.Variant({mainnet:r.Null,testnet:r.Null}),i=r.Text,o=r.Record({network:n,address:i,min_confirmations:r.Opt(r.Nat32)}),l=r.Nat64,d=l,p=r.Nat32,u=r.Record({start_height:p,end_height:r.Opt(p),network:n}),w=r.Vec(r.Nat8),N=r.Record({tip_height:p,block_headers:r.Vec(w)}),k=r.Record({network:n}),b=r.Nat64,R=r.Vec(b),T=r.Record({network:n,filter:r.Opt(r.Variant({page:r.Vec(r.Nat8),min_confirmations:r.Nat32})),address:i}),v=r.Vec(r.Nat8),G=r.Record({txid:r.Vec(r.Nat8),vout:r.Nat32}),Y=r.Record({height:r.Nat32,value:l,outpoint:G}),se=r.Record({next_page:r.Opt(r.Vec(r.Nat8)),tip_height:p,tip_block_hash:v,utxos:r.Vec(Y)}),ne=r.Record({transaction:r.Vec(r.Nat8),network:n}),ae=r.Principal,be=r.Record({canister_id:ae,num_requested_changes:r.Opt(r.Nat64)}),j=r.Variant({from_user:r.Record({user_id:r.Principal}),from_canister:r.Record({canister_version:r.Opt(r.Nat64),canister_id:r.Principal})}),ie=r.Vec(r.Nat8),ce=r.Variant({creation:r.Record({controllers:r.Vec(r.Principal)}),code_deployment:r.Record({mode:r.Variant({reinstall:r.Null,upgrade:r.Null,install:r.Null}),module_hash:r.Vec(r.Nat8)}),load_snapshot:r.Record({canister_version:r.Nat64,taken_at_timestamp:r.Nat64,snapshot_id:ie}),controllers_change:r.Record({controllers:r.Vec(r.Principal)}),code_uninstall:r.Null}),M=r.Record({timestamp_nanos:r.Nat64,canister_version:r.Nat64,origin:j,details:ce}),$=r.Record({controllers:r.Vec(r.Principal),module_hash:r.Opt(r.Vec(r.Nat8)),recent_changes:r.Vec(M),total_num_changes:r.Nat64}),W=r.Record({canister_id:ae}),he=r.Variant({controllers:r.Null,public:r.Null,allowed_viewers:r.Vec(r.Principal)}),ve=r.Record({freezing_threshold:r.Nat,controllers:r.Vec(r.Principal),reserved_cycles_limit:r.Nat,log_visibility:he,wasm_memory_limit:r.Nat,memory_allocation:r.Nat,compute_allocation:r.Nat}),_=r.Record({status:r.Variant({stopped:r.Null,stopping:r.Null,running:r.Null}),memory_size:r.Nat,cycles:r.Nat,settings:ve,query_stats:r.Record({response_payload_bytes_total:r.Nat,num_instructions_total:r.Nat,num_calls_total:r.Nat,request_payload_bytes_total:r.Nat}),idle_cycles_burned_per_day:r.Nat,module_hash:r.Opt(r.Vec(r.Nat8)),reserved_cycles:r.Nat}),P=r.Record({canister_id:ae}),L=r.Record({freezing_threshold:r.Opt(r.Nat),controllers:r.Opt(r.Vec(r.Principal)),reserved_cycles_limit:r.Opt(r.Nat),log_visibility:r.Opt(he),wasm_memory_limit:r.Opt(r.Nat),memory_allocation:r.Opt(r.Nat),compute_allocation:r.Opt(r.Nat)}),J=r.Record({settings:r.Opt(L),sender_canister_version:r.Opt(r.Nat64)}),fe=r.Record({canister_id:ae}),re=r.Record({canister_id:ae}),xe=r.Record({canister_id:ae,snapshot_id:ie}),_e=r.Record({canister_id:ae}),z=r.Variant({secp256k1:r.Null}),le=r.Record({key_id:r.Record({name:r.Text,curve:z}),canister_id:r.Opt(ae),derivation_path:r.Vec(r.Vec(r.Nat8))}),Fe=r.Record({public_key:r.Vec(r.Nat8),chain_code:r.Vec(r.Nat8)}),F=r.Record({canister_id:ae}),Oe=r.Record({idx:r.Nat64,timestamp_nanos:r.Nat64,content:r.Vec(r.Nat8)}),$e=r.Record({canister_log_records:r.Vec(Oe)}),Ee=r.Record({value:r.Text,name:r.Text}),de=r.Record({status:r.Nat,body:r.Vec(r.Nat8),headers:r.Vec(Ee)}),we=r.Record({url:r.Text,method:r.Variant({get:r.Null,head:r.Null,post:r.Null}),max_response_bytes:r.Opt(r.Nat64),body:r.Opt(r.Vec(r.Nat8)),transform:r.Opt(r.Record({function:r.Func([r.Record({context:r.Vec(r.Nat8),response:de})],[de],["query"]),context:r.Vec(r.Nat8)})),headers:r.Vec(Ee)}),B=r.Variant({reinstall:r.Null,upgrade:r.Opt(r.Record({wasm_memory_persistence:r.Opt(r.Variant({keep:r.Null,replace:r.Null})),skip_pre_upgrade:r.Opt(r.Bool)})),install:r.Null}),O=r.Record({hash:r.Vec(r.Nat8)}),V=r.Record({arg:r.Vec(r.Nat8),wasm_module_hash:r.Vec(r.Nat8),mode:B,chunk_hashes_list:r.Vec(O),target_canister:ae,store_canister:r.Opt(ae),sender_canister_version:r.Opt(r.Nat64)}),D=r.Vec(r.Nat8),K=r.Record({arg:r.Vec(r.Nat8),wasm_module:D,mode:B,canister_id:ae,sender_canister_version:r.Opt(r.Nat64)}),Z=r.Record({canister_id:ae}),x=r.Record({id:ie,total_size:r.Nat64,taken_at_timestamp:r.Nat64}),h=r.Vec(x),c=r.Record({canister_id:ae,sender_canister_version:r.Opt(r.Nat64),snapshot_id:ie}),S=r.Record({start_at_timestamp_nanos:r.Nat64,subnet_id:r.Principal}),I=r.Record({num_block_failures_total:r.Nat64,node_id:r.Principal,num_blocks_proposed_total:r.Nat64}),q=r.Vec(r.Record({timestamp_nanos:r.Nat64,node_metrics:r.Vec(I)})),oe=r.Record({settings:r.Opt(L),specified_id:r.Opt(ae),amount:r.Opt(r.Nat),sender_canister_version:r.Opt(r.Nat64)}),Se=r.Record({canister_id:ae}),Ie=r.Record({canister_id:ae,amount:r.Nat}),Ce=r.Vec(r.Nat8),Me=r.Variant({ed25519:r.Null,bip340secp256k1:r.Null}),E=r.Record({key_id:r.Record({algorithm:Me,name:r.Text}),canister_id:r.Opt(ae),derivation_path:r.Vec(r.Vec(r.Nat8))}),m=r.Record({public_key:r.Vec(r.Nat8),chain_code:r.Vec(r.Nat8)}),g=r.Record({key_id:r.Record({name:r.Text,curve:z}),derivation_path:r.Vec(r.Vec(r.Nat8)),message_hash:r.Vec(r.Nat8)}),U=r.Record({signature:r.Vec(r.Nat8)}),ee=r.Variant({bip341:r.Record({merkle_root_hash:r.Vec(r.Nat8)})}),ye=r.Record({aux:r.Opt(ee),key_id:r.Record({algorithm:Me,name:r.Text}),derivation_path:r.Vec(r.Vec(r.Nat8)),message:r.Vec(r.Nat8)}),pe=r.Record({signature:r.Vec(r.Nat8)}),De=r.Record({canister_id:ae}),Be=r.Record({canister_id:ae}),Pe=r.Record({canister_id:ae}),We=r.Vec(O),Xe=r.Record({subnet_id:r.Principal}),ot=r.Record({replica_version:r.Text}),ai=r.Record({replace_snapshot:r.Opt(ie),canister_id:ae}),zr=x,Vr=r.Record({canister_id:ae,sender_canister_version:r.Opt(r.Nat64)}),$i=r.Record({canister_id:r.Principal,settings:L,sender_canister_version:r.Opt(r.Nat64)}),zi=r.Record({chunk:r.Vec(r.Nat8),canister_id:r.Principal}),Ar=O;return r.Service({bitcoin_get_balance:r.Func([o],[d],[]),bitcoin_get_block_headers:r.Func([u],[N],[]),bitcoin_get_current_fee_percentiles:r.Func([k],[R],[]),bitcoin_get_utxos:r.Func([T],[se],[]),bitcoin_send_transaction:r.Func([ne],[],[]),canister_info:r.Func([be],[$],[]),canister_status:r.Func([W],[_],[]),clear_chunk_store:r.Func([P],[],[]),create_canister:r.Func([J],[fe],[]),delete_canister:r.Func([re],[],[]),delete_canister_snapshot:r.Func([xe],[],[]),deposit_cycles:r.Func([_e],[],[]),ecdsa_public_key:r.Func([le],[Fe],[]),fetch_canister_logs:r.Func([F],[$e],["query"]),http_request:r.Func([we],[de],[]),install_chunked_code:r.Func([V],[],[]),install_code:r.Func([K],[],[]),list_canister_snapshots:r.Func([Z],[h],[]),load_canister_snapshot:r.Func([c],[],[]),node_metrics_history:r.Func([S],[q],[]),provisional_create_canister_with_cycles:r.Func([oe],[Se],[]),provisional_top_up_canister:r.Func([Ie],[],[]),raw_rand:r.Func([],[Ce],[]),schnorr_public_key:r.Func([E],[m],[]),sign_with_ecdsa:r.Func([g],[U],[]),sign_with_schnorr:r.Func([ye],[pe],[]),start_canister:r.Func([De],[],[]),stop_canister:r.Func([Be],[],[]),stored_chunks:r.Func([Pe],[We],[]),subnet_info:r.Func([Xe],[ot],[]),take_canister_snapshot:r.Func([ai],[zr],[]),uninstall_code:r.Func([Vr],[],[]),update_settings:r.Func([$i],[],[]),upload_chunk:r.Func([zi],[Ar],[])})};class Yy extends _t{constructor(n,i,o,l){super(["Call failed:",`  Canister: ${n.toText()}`,`  Method: ${i} (${o})`,...Object.getOwnPropertyNames(l).map(d=>`  "${d}": ${JSON.stringify(l[d])}`)].join(`
`)),this.canisterId=n,this.methodName=i,this.type=o,this.props=l}}class Gx extends Yy{constructor(n,i,o){var l;super(n,i,"query",{Status:o.status,Code:(l=jf[o.reject_code])!==null&&l!==void 0?l:`Unknown Code "${o.reject_code}"`,Message:o.reject_message}),this.result=o}}class Jp extends Yy{constructor(n,i,o,l,d,p,u){super(n,i,"update",Object.assign({"Request ID":yt(o)},l.body?Object.assign(Object.assign({},u?{"Error code":u}:{}),{"Reject code":String(d),"Reject message":p}):{"HTTP status code":l.status.toString(),"HTTP status text":l.statusText})),this.requestId=o,this.response=l,this.reject_code=d,this.reject_message=p,this.error_code=u}}const Sr=Symbol.for("ic-agent-metadata");class cu{constructor(n){this[Sr]=Object.freeze(n)}static agentOf(n){return n[Sr].config.agent}static interfaceOf(n){return n[Sr].service}static canisterIdOf(n){return et.from(n[Sr].config.canisterId)}static async install(n,i){const o=n.mode===void 0?{install:null}:n.mode,l=n.arg?[...new Uint8Array(n.arg)]:[],d=[...new Uint8Array(n.module)],p=typeof i.canisterId=="string"?et.fromText(i.canisterId):i.canisterId;await em(i).install_code({mode:o,arg:l,wasm_module:d,canister_id:p,sender_canister_version:[]})}static async createCanister(n,i){function o(d){return[{controllers:d.controllers?[d.controllers]:[],compute_allocation:d.compute_allocation?[d.compute_allocation]:[],freezing_threshold:d.freezing_threshold?[d.freezing_threshold]:[],memory_allocation:d.memory_allocation?[d.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:l}=await em(n||{}).provisional_create_canister_with_cycles({amount:[],settings:o(i||{}),specified_id:[],sender_canister_version:[]});return l}static async createAndInstallCanister(n,i,o){const l=await this.createCanister(o);return await this.install(Object.assign({},i),Object.assign(Object.assign({},o),{canisterId:l})),this.createActor(n,Object.assign(Object.assign({},o),{canisterId:l}))}static createActorClass(n,i){const o=n({IDL:Ww});class l extends cu{constructor(p){if(!p.canisterId)throw new _t(`Canister ID is required, but received ${typeof p.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const u=typeof p.canisterId=="string"?et.fromText(p.canisterId):p.canisterId;super({config:Object.assign(Object.assign(Object.assign({},Zy),p),{canisterId:u}),service:o});for(const[w,N]of o._fields)i?.httpDetails&&N.annotations.push(Zf),i?.certificate&&N.annotations.push(Qy),this[w]=Wx(this,w,N,p.blsVerify)}}return l}static createActor(n,i){if(!i.canisterId)throw new _t(`Canister ID is required, but received ${typeof i.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(n))(i)}static createActorWithHttpDetails(n,i){return new(this.createActorClass(n,{httpDetails:!0}))(i)}static createActorWithExtendedDetails(n,i,o={httpDetails:!0,certificate:!0}){return new(this.createActorClass(n,o))(i)}}function ms(r,n){const i=Im(r,tw.Buffer.from(n));switch(i.length){case 0:return;case 1:return i[0];default:return i}}const Zy={pollingStrategyFactory:Ky},Zf="http-details",Qy="certificate";function Wx(r,n,i,o){let l;i.annotations.includes("query")||i.annotations.includes("composite_query")?l=async(p,...u)=>{var w,N;p=Object.assign(Object.assign({},p),(N=(w=r[Sr].config).queryTransform)===null||N===void 0?void 0:N.call(w,n,u,Object.assign(Object.assign({},r[Sr].config),p)));const k=p.agent||r[Sr].config.agent||Xp(),b=et.from(p.canisterId||r[Sr].config.canisterId),R=zf(i.argTypes,u),T=await k.query(b,{methodName:n,arg:R,effectiveCanisterId:p.effectiveCanisterId}),v=Object.assign(Object.assign({},T.httpDetails),{requestDetails:T.requestDetails});switch(T.status){case"rejected":throw new Gx(b,n,T);case"replied":return i.annotations.includes(Zf)?{httpDetails:v,result:ms(i.retTypes,T.reply.arg)}:ms(i.retTypes,T.reply.arg)}}:l=async(p,...u)=>{var w,N;p=Object.assign(Object.assign({},p),(N=(w=r[Sr].config).callTransform)===null||N===void 0?void 0:N.call(w,n,u,Object.assign(Object.assign({},r[Sr].config),p)));const k=p.agent||r[Sr].config.agent||Xp(),{canisterId:b,effectiveCanisterId:R,pollingStrategyFactory:T}=Object.assign(Object.assign(Object.assign({},Zy),r[Sr].config),p),v=et.from(b),G=R!==void 0?et.from(R):v,Y=zf(i.argTypes,u),{requestId:se,response:ne,requestDetails:ae}=await k.call(v,{methodName:n,arg:Y,effectiveCanisterId:G});let be,j;if(ne.body&&ne.body.certificate){if(k.rootKey==null)throw new Error("Agent is missing root key");const $=ne.body.certificate;j=await Ii.create({certificate:Fi($),rootKey:k.rootKey,canisterId:et.from(b),blsVerify:o});const W=[new TextEncoder().encode("request_status"),se];switch(new TextDecoder().decode(Nr(j.lookup([...W,"status"])))){case"replied":be=Nr(j.lookup([...W,"reply"]));break;case"rejected":{const ve=new Uint8Array(Nr(j.lookup([...W,"reject_code"])))[0],_=new TextDecoder().decode(Nr(j.lookup([...W,"reject_message"]))),P=Nr(j.lookup([...W,"error_code"])),L=P?new TextDecoder().decode(P):void 0;throw new Jp(v,n,se,ne,ve,_,L)}}}else if(ne.body&&"reject_message"in ne.body){const{reject_code:$,reject_message:W,error_code:he}=ne.body;throw new Jp(v,n,se,ne,$,W,he)}if(ne.status===202){const $=T(),W=await Dy(k,G,se,$,o);j=W.certificate,be=W.reply}const ie=i.annotations.includes(Zf),ce=i.annotations.includes(Qy),M=Object.assign(Object.assign({},ne),{requestDetails:ae});if(be!==void 0)return ie&&ce?{httpDetails:M,certificate:j,result:ms(i.retTypes,be)}:ce?{certificate:j,result:ms(i.retTypes,be)}:ie?{httpDetails:M,result:ms(i.retTypes,be)}:ms(i.retTypes,be);if(i.retTypes.length===0)return ie?{httpDetails:ne,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${i.retTypes.join(",")}].`)};const d=(...p)=>l({},...p);return d.withOptions=p=>(...u)=>l(p,...u),d}function em(r){function n(i,o){if(r.effectiveCanisterId)return{effectiveCanisterId:et.from(r.effectiveCanisterId)};const l=o[0];let d=et.fromHex("");return l&&typeof l=="object"&&l.target_canister&&i==="install_chunked_code"&&(d=et.from(l.target_canister)),l&&typeof l=="object"&&l.canister_id&&(d=et.from(l.canister_id)),{effectiveCanisterId:d}}return cu.createActor(Hx,Object.assign(Object.assign(Object.assign({},r),{canisterId:et.fromHex("")}),{callTransform:n,queryTransform:n}))}const Lx=({IDL:r})=>{const n=r.Text,i=r.Text,o=r.Text,l=r.Record({id:n,dam:r.Opt(n),birthDate:r.Int,owner:r.Principal,dnaHash:r.Opt(i),name:r.Text,sire:r.Opt(n),isVerified:r.Bool,microchipId:o,breed:r.Text,species:r.Text,breeder:r.Principal}),d=r.Record({id:r.Nat,owner:r.Principal,imageUrl:r.Text,breed:r.Text}),p=r.Record({principal:r.Principal,balance:r.Nat,name:r.Text,isVerified:r.Bool,passwordHash:r.Vec(r.Nat8),registeredAt:r.Int}),u=r.Record({reputationScore:r.Nat,totalAnimals:r.Nat,verifiedAnimals:r.Nat,breeder:r.Principal}),w=r.Record({id:r.Text,dam:n,birthDate:r.Int,sire:n,offspring:r.Vec(n),breeder:r.Principal}),N=r.Variant({ok:r.Nat,err:r.Text}),k=r.Variant({ok:n,err:r.Text}),b=r.Variant({ok:r.Text,err:r.Text}),R=r.Variant({ok:r.Null,err:r.Text}),T=r.Variant({ok:r.Principal,err:r.Text});return r.Service({getAllAnimals:r.Func([],[r.Vec(l)],["query"]),getAllBreedNFTs:r.Func([],[r.Vec(d)],["query"]),getAllUsers:r.Func([],[r.Vec(p)],["query"]),getAnimal:r.Func([n],[r.Opt(l)],["query"]),getAnimalsByBreeder:r.Func([r.Principal],[r.Vec(l)],["query"]),getAnimalsByOwner:r.Func([r.Principal],[r.Vec(l)],["query"]),getBalance:r.Func([r.Principal],[r.Nat],["query"]),getBreedNFTsByOwner:r.Func([r.Principal],[r.Vec(d)],["query"]),getBreederStats:r.Func([r.Principal],[r.Opt(u)],["query"]),getLineage:r.Func([n],[r.Vec(l)],["query"]),getLitter:r.Func([r.Text],[r.Opt(w)],["query"]),getStats:r.Func([],[r.Record({totalAnimals:r.Nat,totalLitters:r.Nat,totalBreeders:r.Nat,verifiedAnimals:r.Nat})],["query"]),getUser:r.Func([r.Principal],[r.Opt(p)],["query"]),isUserRegistered:r.Func([r.Principal],[r.Bool],["query"]),isUserRegisteredByName:r.Func([r.Text],[r.Bool],["query"]),isUserVerified:r.Func([r.Principal],[r.Bool],["query"]),mintBreedNFT:r.Func([r.Text],[N],[]),registerAnimal:r.Func([o,r.Text,r.Text,r.Text,r.Opt(n),r.Opt(n),r.Opt(i)],[k],[]),registerLitter:r.Func([n,n,r.Vec(n)],[b],[]),registerUser:r.Func([],[R],[]),registerUserByName:r.Func([r.Text,r.Text],[R],[]),transferOwnership:r.Func([n,r.Principal],[R],[]),verifyAnimal:r.Func([n],[R],[]),verifyMicrochip:r.Func([o],[r.Opt(n)],["query"]),verifyUser:r.Func([],[R],[]),verifyUserByName:r.Func([r.Text,r.Text],[T],[])})},Kx="umunu-kh777-77774-qaaca-cai",Dx=(r,n={})=>{const i=n.agent||new Bs({...n.agentOptions});return n.agent&&n.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),i.fetchRootKey().catch(o=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(o)}),cu.createActor(Lx,{agent:i,canisterId:r,...n.actorOptions})},Mr=Dx(Kx);var Gl=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},ei=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Il,Fl,bs,Es;function tm(r){return r!==null&&typeof r=="object"}class En{constructor(n){if(Il.set(this,void 0),Fl.set(this,void 0),n.byteLength!==En.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Gl(this,Il,_n(n),"f"),Gl(this,Fl,En.derEncode(n),"f")}static from(n){if(typeof n=="string"){const i=Sn(n);return this.fromRaw(i)}else if(tm(n)){const i=n;if(tm(i)&&Object.hasOwnProperty.call(i,"__derEncodedPublicKey__"))return this.fromDer(i);if(ArrayBuffer.isView(i)){const o=i;return this.fromRaw(_n(o.buffer))}else{if(i instanceof ArrayBuffer)return this.fromRaw(i);if("rawKey"in i)return this.fromRaw(i.rawKey);if("derKey"in i)return this.fromDer(i.derKey);if("toDer"in i)return this.fromDer(i.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(n){return new En(n)}static fromDer(n){return new En(this.derDecode(n))}static derEncode(n){const i=My(n,Hl).buffer;return i.__derEncodedPublicKey__=void 0,i}static derDecode(n){const i=jy(n,Hl);if(i.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return _n(i)}get rawKey(){return ei(this,Il,"f")}get derKey(){return ei(this,Fl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Il=new WeakMap,Fl=new WeakMap;En.RAW_KEY_LENGTH=32;class ni extends ud{constructor(n,i){super(),bs.set(this,void 0),Es.set(this,void 0),Gl(this,bs,En.from(n),"f"),Gl(this,Es,new Uint8Array(i),"f")}static generate(n){if(n&&n.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");n||(n=gs.utils.randomPrivateKey()),zo(n,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const i=new Uint8Array(32);for(let l=0;l<32;l++)i[l]=new Uint8Array(n)[l];const o=gs.getPublicKey(i);return ni.fromKeyPair(o,i)}static fromParsedJson(n){const[i,o]=n;return new ni(En.fromDer(Sn(i)),Sn(o))}static fromJSON(n){const i=JSON.parse(n);if(Array.isArray(i)){if(typeof i[0]=="string"&&typeof i[1]=="string")return this.fromParsedJson([i[0],i[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(n)}`)}static fromKeyPair(n,i){return new ni(En.fromRaw(n),i)}static fromSecretKey(n){const i=gs.getPublicKey(new Uint8Array(n));return ni.fromKeyPair(i,n)}toJSON(){return[yt(ei(this,bs,"f").toDer()),yt(ei(this,Es,"f"))]}getKeyPair(){return{secretKey:ei(this,Es,"f"),publicKey:ei(this,bs,"f")}}getPublicKey(){return ei(this,bs,"f")}async sign(n){const i=new Uint8Array(n),o=ko(gs.sign(i,ei(this,Es,"f").slice(0,32)));return Object.defineProperty(o,"__signature__",{enumerable:!1,value:void 0}),o}static verify(n,i,o){const[l,d,p]=[n,i,o].map(u=>(typeof u=="string"&&(u=Sn(u)),u instanceof Uint8Array&&(u=_n(u.buffer)),new Uint8Array(u)));return gs.verify(l,d,p)}}bs=new WeakMap,Es=new WeakMap;class hd extends Error{constructor(n){super(n),this.message=n,Object.setPrototypeOf(this,hd.prototype)}}function rm(r){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(r)return r;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new hd("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Wl extends ud{constructor(n,i,o){super(),this._keyPair=n,this._derKey=i,this._subtleCrypto=o}static async generate(n){const{extractable:i=!1,keyUsages:o=["sign","verify"],subtleCrypto:l}=n??{},d=rm(l),p=await d.generateKey({name:"ECDSA",namedCurve:"P-256"},i,o),u=await d.exportKey("spki",p.publicKey);return new this(p,u,d)}static async fromKeyPair(n,i){const o=rm(i),l=await o.exportKey("spki",n.publicKey);return new Wl(n,l,o)}getKeyPair(){return this._keyPair}getPublicKey(){const n=this._derKey,i=Object.create(this._keyPair.publicKey);return i.toDer=function(){return n},i}async sign(n){const i={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(i,this._keyPair.privateKey,n)}}var Yx=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},ys=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},yn;class Zx{constructor(n){yn.set(this,void 0),Yx(this,yn,n,"f")}get rawKey(){return ys(this,yn,"f").rawKey}get derKey(){return ys(this,yn,"f").derKey}toDer(){return ys(this,yn,"f").toDer()}getPublicKey(){return ys(this,yn,"f")}getPrincipal(){if(!ys(this,yn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return et.fromUint8Array(new Uint8Array(ys(this,yn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}yn=new WeakMap;var Qx=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},Xx=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Jx=function(r,n){var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(i[o[l]]=r[o[l]]);return i},Ol;const e2=new TextEncoder().encode("ic-request-auth-delegation"),t2=new TextEncoder().encode(`
ic-request`);function If(r){if(typeof r!="string"||r.length<64)throw new Error("Invalid public key.");return Sn(r)}class pd{constructor(n,i,o){this.pubkey=n,this.expiration=i,this.targets=o}toCBOR(){return yr.value.map(Object.assign({pubkey:yr.value.bytes(this.pubkey),expiration:yr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:yr.value.array(this.targets.map(n=>yr.value.bytes(Fi(n.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:yt(this.pubkey)},this.targets&&{targets:this.targets.map(n=>n.toHex())})}}async function r2(r,n,i,o){const l=new pd(n.toDer(),BigInt(+i)*BigInt(1e6),o),d=new Uint8Array([...e2,...new Uint8Array(Po(Object.assign({},l)))]),p=await r.sign(Fi(d));return{delegation:l,signature:p}}class Ll{constructor(n,i){this.delegations=n,this.publicKey=i}static async create(n,i,o=new Date(Date.now()+15*60*1e3),l={}){var d,p;const u=await r2(n,i,o,l.targets);return new Ll([...((d=l.previous)===null||d===void 0?void 0:d.delegations)||[],u],((p=l.previous)===null||p===void 0?void 0:p.publicKey)||n.getPublicKey().toDer())}static fromJSON(n){const{publicKey:i,delegations:o}=typeof n=="string"?JSON.parse(n):n;if(!Array.isArray(o))throw new Error("Invalid delegations.");const l=o.map(d=>{const{delegation:p,signature:u}=d,{pubkey:w,expiration:N,targets:k}=p;if(k!==void 0&&!Array.isArray(k))throw new Error("Invalid targets.");return{delegation:new pd(If(w),BigInt("0x"+N),k&&k.map(b=>{if(typeof b!="string")throw new Error("Invalid target.");return et.fromHex(b)})),signature:If(u)}});return new this(l,If(i))}static fromDelegations(n,i){return new this(n,i)}toJSON(){return{delegations:this.delegations.map(n=>{const{delegation:i,signature:o}=n,{targets:l}=i;return{delegation:Object.assign({expiration:i.expiration.toString(16),pubkey:yt(i.pubkey)},l&&{targets:l.map(d=>d.toHex())}),signature:yt(o)}}),publicKey:yt(this.publicKey)}}}class nm extends ud{constructor(n,i){super(),this._inner=n,this._delegation=i}static fromDelegation(n,i){return new this(n,i)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(n){return this._inner.sign(n)}async transformRequest(n){const{body:i}=n,o=Jx(n,["body"]),l=await Po(i);return Object.assign(Object.assign({},o),{body:{content:i,sender_sig:await this.sign(Fi(new Uint8Array([...t2,...new Uint8Array(l)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class Kl extends Zx{constructor(n,i){super(n),Ol.set(this,void 0),Qx(this,Ol,i,"f")}get delegation(){return Xx(this,Ol,"f")}static fromDelegation(n,i){return new Kl(n,i)}}Ol=new WeakMap;function n2(r,n){for(const{delegation:o}of r.delegations)if(+new Date(Number(o.expiration/BigInt(1e6)))<=+Date.now())return!1;const i=[];for(const o of i){const l=o.toText();for(const{delegation:d}of r.delegations){if(d.targets===void 0)continue;let p=!0;for(const u of d.targets)if(u.toText()===l){p=!1;break}if(p)return!1}}return!0}var im;(function(r){r[r.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(im||(im={}));const sm=["mousedown","mousemove","keydown","touchstart","wheel"];class om{constructor(n={}){var i;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:o,idleTimeout:l=10*60*1e3}=n||{};this.callbacks=o?[o]:[],this.idleTimeout=l;const d=this._resetTimer.bind(this);window.addEventListener("load",d,!0),sm.forEach(function(u){document.addEventListener(u,d,!0)});const p=(u,w)=>{let N;return(...k)=>{const b=this,R=function(){N=void 0,u.apply(b,k)};clearTimeout(N),N=window.setTimeout(R,w)}};if(n?.captureScroll){const u=p(d,(i=n?.scrollDebounce)!==null&&i!==void 0?i:100);window.addEventListener("scroll",u,!0)}d()}static create(n={}){return new this(n)}registerCallback(n){this.callbacks.push(n)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const n=this._resetTimer.bind(this);sm.forEach(function(i){document.removeEventListener(i,n,!0)}),this.callbacks.forEach(i=>i())}_resetTimer(){const n=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(n,this.idleTimeout)}}const i2=(r,n)=>n.some(i=>r instanceof i);let am,lm;function s2(){return am||(am=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return lm||(lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xy=new WeakMap,Qf=new WeakMap,Jy=new WeakMap,Ff=new WeakMap,md=new WeakMap;function a2(r){const n=new Promise((i,o)=>{const l=()=>{r.removeEventListener("success",d),r.removeEventListener("error",p)},d=()=>{i(si(r.result)),l()},p=()=>{o(r.error),l()};r.addEventListener("success",d),r.addEventListener("error",p)});return n.then(i=>{i instanceof IDBCursor&&Xy.set(i,r)}).catch(()=>{}),md.set(n,r),n}function l2(r){if(Qf.has(r))return;const n=new Promise((i,o)=>{const l=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",p),r.removeEventListener("abort",p)},d=()=>{i(),l()},p=()=>{o(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",d),r.addEventListener("error",p),r.addEventListener("abort",p)});Qf.set(r,n)}let Xf={get(r,n,i){if(r instanceof IDBTransaction){if(n==="done")return Qf.get(r);if(n==="objectStoreNames")return r.objectStoreNames||Jy.get(r);if(n==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return si(r[n])},set(r,n,i){return r[n]=i,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function u2(r){Xf=r(Xf)}function c2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...i){const o=r.call(Of(this),n,...i);return Jy.set(o,n.sort?n.sort():[n]),si(o)}:o2().includes(r)?function(...n){return r.apply(Of(this),n),si(Xy.get(this))}:function(...n){return si(r.apply(Of(this),n))}}function f2(r){return typeof r=="function"?c2(r):(r instanceof IDBTransaction&&l2(r),i2(r,s2())?new Proxy(r,Xf):r)}function si(r){if(r instanceof IDBRequest)return a2(r);if(Ff.has(r))return Ff.get(r);const n=f2(r);return n!==r&&(Ff.set(r,n),md.set(n,r)),n}const Of=r=>md.get(r);function d2(r,n,{blocked:i,upgrade:o,blocking:l,terminated:d}={}){const p=indexedDB.open(r,n),u=si(p);return o&&p.addEventListener("upgradeneeded",w=>{o(si(p.result),w.oldVersion,w.newVersion,si(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),u.then(w=>{d&&w.addEventListener("close",()=>d()),l&&w.addEventListener("versionchange",N=>l(N.oldVersion,N.newVersion,N))}).catch(()=>{}),u}const h2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],Pf=new Map;function um(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(Pf.get(n))return Pf.get(n);const i=n.replace(/FromIndex$/,""),o=n!==i,l=p2.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(l||h2.includes(i)))return;const d=async function(p,...u){const w=this.transaction(p,l?"readwrite":"readonly");let N=w.store;return o&&(N=N.index(u.shift())),(await Promise.all([N[i](...u),l&&w.done]))[0]};return Pf.set(n,d),d}u2(r=>({...r,get:(n,i,o)=>um(n,i)||r.get(n,i,o),has:(n,i)=>!!um(n,i)||r.has(n,i)}));const eg="auth-client-db",tg="ic-keyval",m2=async(r=eg,n=tg,i)=>(rg&&(localStorage!=null&&localStorage.getItem(ri))&&(localStorage.removeItem(ri),localStorage.removeItem(ti)),await d2(r,i,{upgrade:o=>{o.objectStoreNames.contains(n)&&o.clear(n),o.createObjectStore(n)}}));async function y2(r,n,i){return await r.get(n,i)}async function g2(r,n,i,o){return await r.put(n,o,i)}async function w2(r,n,i){return await r.delete(n,i)}class yd{constructor(n,i){this._db=n,this._storeName=i}static async create(n){const{dbName:i=eg,storeName:o=tg,version:l=b2}=n??{},d=await m2(i,o,l);return new yd(d,o)}async set(n,i){return await g2(this._db,this._storeName,n,i)}async get(n){var i;return(i=await y2(this._db,this._storeName,n))!==null&&i!==void 0?i:null}async remove(n){return await w2(this._db,this._storeName,n)}}var v2=function(r,n,i,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,i):l?l.value=i:n.set(r,i),i},x2=function(r,n,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:n.get(r)},Pl;const ti="identity",ri="delegation",_2="iv",b2=1,rg=typeof window<"u";class E2{constructor(n="ic-",i){this.prefix=n,this._localStorage=i}get(n){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+n))}set(n,i){return this._getLocalStorage().setItem(this.prefix+n,i),Promise.resolve()}remove(n){return this._getLocalStorage().removeItem(this.prefix+n),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const n=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!n)throw new Error("Could not find local storage.");return n}}class S2{constructor(n){Pl.set(this,void 0),v2(this,Pl,n??{},"f")}get _db(){return new Promise(n=>{if(this.initializedDb){n(this.initializedDb);return}yd.create(x2(this,Pl,"f")).then(i=>{this.initializedDb=i,n(i)})})}async get(n){return await(await this._db).get(n)}async set(n,i){await(await this._db).set(n,i)}async remove(n){await(await this._db).remove(n)}}Pl=new WeakMap;const N2="https://identity.internetcomputer.org",T2="#authorize",Uf="ECDSA",Cf="Ed25519",A2=500,B2="UserInterrupt";class k2{constructor(n,i,o,l,d,p,u,w){this._identity=n,this._key=i,this._chain=o,this._storage=l,this.idleManager=d,this._createOptions=p,this._idpWindow=u,this._eventHandler=w,this._registerDefaultIdleCallback()}static async create(n={}){var i,o,l;const d=(i=n.storage)!==null&&i!==void 0?i:new S2,p=(o=n.keyType)!==null&&o!==void 0?o:Uf;let u=null;if(n.identity)u=n.identity;else{let b=await d.get(ti);if(!b&&rg)try{const R=new E2,T=await R.get(ri),v=await R.get(ti);T&&v&&p===Uf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await d.set(ri,T),await d.set(ti,v),b=T,await R.remove(ri),await R.remove(ti))}catch(R){console.error("error while attempting to recover localstorage: "+R)}if(b)try{typeof b=="object"?p===Cf&&typeof b=="string"?u=await ni.fromJSON(b):u=await Wl.fromKeyPair(b):typeof b=="string"&&(u=ni.fromJSON(b))}catch{}}let w=new jl,N=null;if(u)try{const b=await d.get(ri);if(typeof b=="object"&&b!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");n.identity?w=n.identity:b&&(N=Ll.fromJSON(b),n2(N)?"toDer"in u?w=Kl.fromDelegation(u,N):w=nm.fromDelegation(u,N):(await Mf(d),u=null))}catch(b){console.error(b),await Mf(d),u=null}let k;return!((l=n.idleOptions)===null||l===void 0)&&l.disableIdle?k=void 0:(N||n.identity)&&(k=om.create(n.idleOptions)),u||(p===Cf?(u=await ni.generate(),await d.set(ti,JSON.stringify(u.toJSON()))):(n.storage&&p===Uf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Cf}' as the key type, as it can serialize to a string`),u=await Wl.generate(),await d.set(ti,u.getKeyPair()))),new this(w,u,N,d,k,n)}_registerDefaultIdleCallback(){var n,i;const o=(n=this._createOptions)===null||n===void 0?void 0:n.idleOptions;!o?.onIdle&&!o?.disableDefaultIdleCallback&&((i=this.idleManager)===null||i===void 0||i.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(n,i){var o,l;const d=n.delegations.map(N=>({delegation:new pd(N.delegation.pubkey,N.delegation.expiration,N.delegation.targets),signature:N.signature.buffer})),p=Ll.fromDelegations(d,n.userPublicKey.buffer),u=this._key;if(!u)return;this._chain=p,"toDer"in u?this._identity=Kl.fromDelegation(u,this._chain):this._identity=nm.fromDelegation(u,this._chain),(o=this._idpWindow)===null||o===void 0||o.close();const w=(l=this._createOptions)===null||l===void 0?void 0:l.idleOptions;!this.idleManager&&!w?.disableIdle&&(this.idleManager=om.create(w),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(ri,JSON.stringify(this._chain.toJSON())),i?.(n)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(n){var i,o,l,d;const p=BigInt(8)*BigInt(36e11),u=new URL(((i=n?.identityProvider)===null||i===void 0?void 0:i.toString())||N2);u.hash=T2,(o=this._idpWindow)===null||o===void 0||o.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(u,Object.assign({maxTimeToLive:(l=n?.maxTimeToLive)!==null&&l!==void 0?l:p},n)),window.addEventListener("message",this._eventHandler),this._idpWindow=(d=window.open(u.toString(),"idpWindow",n?.windowOpenerFeatures))!==null&&d!==void 0?d:void 0;const w=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(B2,n?.onError):setTimeout(w,A2))};w()}_getEventHandler(n,i){return async o=>{var l,d,p;if(o.origin!==n.origin)return;const u=o.data;switch(u.kind){case"authorize-ready":{const w=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((l=this._key)===null||l===void 0?void 0:l.getPublicKey().toDer()),maxTimeToLive:i?.maxTimeToLive,allowPinAuthentication:i?.allowPinAuthentication,derivationOrigin:(d=i?.derivationOrigin)===null||d===void 0?void 0:d.toString()},i?.customValues);(p=this._idpWindow)===null||p===void 0||p.postMessage(w,n.origin);break}case"authorize-client-success":try{await this._handleSuccess(u,i?.onSuccess)}catch(w){this._handleFailure(w.message,i?.onError)}break;case"authorize-client-failure":this._handleFailure(u.text,i?.onError);break}}}_handleFailure(n,i){var o;(o=this._idpWindow)===null||o===void 0||o.close(),i?.(n),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(n={}){if(await Mf(this._storage),this._identity=new jl,this._chain=null,n.returnTo)try{window.history.pushState({},"",n.returnTo)}catch{window.location.href=n.returnTo}}}async function Mf(r){await r.remove(ti),await r.remove(ri),await r.remove(_2)}const cm=[{type:"receive",amount:1e4,token:"AMT",desc:"Airdrop: Welcome Bonus",date:new Date().toLocaleString()}];function R2(r){return r?r.slice(0,8)+"..."+r.slice(-4):""}function I2(r){return""}function F2(){try{const r=localStorage.getItem("myNFTs");return r?JSON.parse(r):[]}catch{return[]}}function O2(r){localStorage.setItem("myNFTs",JSON.stringify(r))}function P2({principal:r,onLogout:n}){const[i,o]=Ve.useState(!1),[l,d]=Ve.useState(""),[p,u]=Ve.useState(0),[w,N]=Ve.useState(F2()),[k,b]=Ve.useState(""),[R,T]=Ve.useState(!1),[v,G]=Ve.useState(""),[Y,se]=Ve.useState(""),[ne,ae]=Ve.useState(!1),[be,j]=Ve.useState(""),[ie,ce]=Ve.useState("tokens"),[M,$]=Ve.useState(cm),[W,he]=Ve.useState(!1),[ve,_]=Ve.useState(!1),[P,L]=Ve.useState(!0),[J,fe]=Ve.useState(""),[re,xe]=Ve.useState(""),[_e,z]=Ve.useState("signup"),[le,Fe]=Ve.useState(""),[F,Oe]=Ve.useState(""),[$e,Ee]=Ve.useState(!1),[de,we]=Ve.useState(null),[B,O]=Ve.useState(!1),[V,D]=Ve.useState(!1),[K,Z]=Ve.useState(0),x=Ve.useRef(),h=Ve.useRef(),[c,S]=Ve.useState(null),[I,q]=Ve.useState(!1),[oe,Se]=Ve.useState(""),[Ie,Ce]=Ve.useState({}),Me=(Be,Pe="info")=>{we({msg:Be,type:Pe}),setTimeout(()=>we(null),3e3)},E=()=>l||r;Ve.useEffect(()=>{const Be=Pe=>{["ArrowLeft","ArrowRight"].includes(Pe.key)&&Z(We=>{let Xe=We+(Pe.key==="ArrowRight"?1:-1);return Xe<0&&(Xe=3),Xe>3&&(Xe=0),ce(["tokens","nfts","activity","live"][Xe]),Xe})};return document.addEventListener("keydown",Be),()=>document.removeEventListener("keydown",Be)},[]),Ve.useEffect(()=>{async function Be(){L(!0);try{let Pe=!1;J?Pe=await Mr.isUserRegisteredByName(J):Pe=await Mr.isUserRegistered(r),he(Pe),Pe&&(o(!0),d(r),await m(r))}catch{he(!1)}finally{L(!1)}}r&&Be()},[r,J]),Ve.useEffect(()=>{E()&&i?(d(E()),m(E())):i||(d(""),u(0),N([]))},[r,i]),Ve.useEffect(()=>{l&&i&&m(l)},[l,i]),Ve.useEffect(()=>{i&&p===0&&l&&(async()=>{const Be=await Mr.getUser(l);Be&&Be[0]&&Be[0].balance&&Number(Be[0].balance)>0&&u(Number(Be[0].balance))})()},[i,p,l]);const m=async Be=>{O(!0);try{const Pe=await Mr.getBalance(Be);u(Number(Pe))}catch{u(0)}finally{O(!1)}},g=()=>{navigator.clipboard.writeText(E()),D(!0),setTimeout(()=>D(!1),1200)},U=50,[ee,ye]=Ve.useState("");Ve.useEffect(()=>{const Be=localStorage.getItem("animalImages");if(Be)try{Ce(JSON.parse(Be))}catch{}},[]);const pe=async Be=>{if(Be.preventDefault(),!Y.trim()||!v.trim()||isNaN(Number(v))||Number(v)<=0){Me("Valid recipient and amount required.","error"),x.current&&x.current.focus();return}if(p<Number(v)){Me("Insufficient balance to send.","error");return}ae(!0),j("");try{const Pe=await Mr.transferTokens(E(),Y.trim(),Number(v));"ok"in Pe?(Me(`Sent ${v} AMT to ${Y}`,"success"),$([...M,{type:"send",amount:v,token:"AMT",desc:`Sent to ${Y}`,date:new Date().toLocaleString()}]),await m(E()),G(""),se("")):Me(Pe.err||"Send failed.","error")}catch{Me("Error sending tokens.","error")}finally{ae(!1)}};Ve.useEffect(()=>{const Be=localStorage.getItem("walletPrincipal");Be&&(d(Be),o(!0),he(!0)),u(1e5)},[]),Ve.useEffect(()=>{l&&i&&localStorage.setItem("walletPrincipal",l)},[l,i]);const De=()=>{o(!1),d(""),u(0),N([]),$(cm),fe(""),xe(""),Fe(""),Oe(""),ce("tokens"),j(""),we(null),D(!1),Z(0),localStorage.removeItem("walletPrincipal"),n()};return C.jsxs("div",{className:"wallet-modal",role:"dialog","aria-modal":"true","aria-label":"My Wallet",style:{background:"linear-gradient(120deg,#f8fafc 60%,#e0e7ff 100%)",borderRadius:"2.2rem",boxShadow:"0 8px 32px #e0e7ff",padding:"2.5rem 1.5rem",minHeight:"80vh",maxWidth:"600px",margin:"2rem auto",fontFamily:"Inter, Segoe UI, Arial, sans-serif"},children:[C.jsxs("div",{className:"wallet-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[C.jsx("span",{className:"wallet-modal-title",style:{fontSize:"2.1rem",fontWeight:700,color:"#6366f1",letterSpacing:"0.02em"},children:"My Wallet"}),C.jsx("button",{className:"wallet-modal-close","aria-label":"Close wallet",onClick:De,style:{fontSize:"2rem",background:"none",border:"none",color:"#6366f1",cursor:"pointer"},children:""})]}),C.jsxs("div",{className:"wallet-modal-body",children:[C.jsxs("div",{className:"wallet-summary-card",tabIndex:0,"aria-label":"Wallet summary",style:{background:"linear-gradient(120deg,#fff7e6 60%,#e0e7ff 100%)",borderRadius:"2.2rem",boxShadow:"0 4px 24px #e0e7ff",padding:"2.2rem 1.5rem",marginBottom:"2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[C.jsx("div",{className:"wallet-avatar",title:"Your wallet avatar","aria-label":"Wallet avatar",style:{fontSize:"3.2rem",background:"#fff7e6",borderRadius:"50%",boxShadow:"0 2px 8px #ffe0b2",width:"4.2rem",height:"4.2rem",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.7rem auto"},children:I2()}),C.jsxs("div",{className:"wallet-balance-row animated-balance",style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[C.jsx("span",{className:"wallet-balance-label",style:{color:"#6366f1",fontWeight:600,fontSize:"1.3rem",background:"#e0e7ff",borderRadius:"1rem",padding:"0.3rem 1.2rem"},children:"Balance:"}),C.jsxs("span",{className:"wallet-balance-amount","aria-live":"polite",style:{color:"#009688",fontWeight:700,fontSize:"1.3rem",background:"#e0f7fa",borderRadius:"1rem",padding:"0.3rem 1.2rem"},children:["10,000 ",C.jsx("span",{className:"wallet-balance-currency",children:"AMT"})]})]}),C.jsxs("div",{className:"wallet-address-row",style:{marginTop:"1.1rem",display:"flex",alignItems:"center"},children:[C.jsx("span",{className:"wallet-address-label",style:{color:"#6366f1",fontWeight:600,fontSize:"1.1rem",background:"#e0e7ff",borderRadius:"1rem",padding:"0.3rem 1.2rem"},children:"Address:"}),C.jsx("span",{className:"wallet-principal-short",title:E(),style:{background:"#e0f7fa",borderRadius:"1rem",padding:"0.3rem 1.2rem",marginLeft:"0.7rem",fontWeight:600},children:R2(E())}),C.jsx("button",{onClick:g,className:"wallet-chip-copy",title:"Copy address","aria-label":"Copy address",style:{marginLeft:"0.7rem",fontSize:"1.2rem",background:"#fff",border:"none",borderRadius:"1rem",boxShadow:"0 1px 4px #e0e7ff",padding:"0.2rem 0.7rem",cursor:"pointer"},children:V?"":""})]})]}),C.jsxs("div",{className:"wallet-tabs",role:"tablist","aria-label":"Wallet sections",style:{margin:"2rem 0 1.2rem 0",display:"flex",justifyContent:"center",gap:"2.2rem"},children:[C.jsx("button",{className:ie==="tokens"?"wallet-tab-active":"wallet-tab",role:"tab","aria-selected":ie==="tokens",tabIndex:ie==="tokens"?0:-1,onClick:()=>{ce("tokens"),Z(0)},style:{fontWeight:600,fontSize:"1.1rem",background:ie==="tokens"?"linear-gradient(90deg,#ff9800,#6366f1)":"#e0e7ff",color:ie==="tokens"?"#fff":"#6366f1",borderRadius:"1.5rem",padding:"0.5rem 2.2rem",boxShadow:"0 2px 8px #e0e7ff"},children:"Tokens"}),C.jsx("button",{className:ie==="nfts"?"wallet-tab-active":"wallet-tab",role:"tab","aria-selected":ie==="nfts",tabIndex:ie==="nfts"?0:-1,onClick:()=>{ce("nfts"),Z(1)},style:{fontWeight:600,fontSize:"1.1rem",background:ie==="nfts"?"linear-gradient(90deg,#ff9800,#6366f1)":"#e0e7ff",color:ie==="nfts"?"#fff":"#6366f1",borderRadius:"1.5rem",padding:"0.5rem 2.2rem",boxShadow:"0 2px 8px #e0e7ff"},children:"NFTs"}),C.jsx("button",{className:ie==="activity"?"wallet-tab-active":"wallet-tab",role:"tab","aria-selected":ie==="activity",tabIndex:ie==="activity"?0:-1,onClick:()=>{ce("activity"),Z(2)},style:{fontWeight:600,fontSize:"1.1rem",background:ie==="activity"?"linear-gradient(90deg,#ff9800,#6366f1)":"#e0e7ff",color:ie==="activity"?"#fff":"#6366f1",borderRadius:"1.5rem",padding:"0.5rem 2.2rem",boxShadow:"0 2px 8px #e0e7ff"},children:"Activity"})]}),ie==="tokens"&&C.jsx(C.Fragment,{children:C.jsxs("form",{onSubmit:pe,className:"nft-mint-form",style:{marginTop:"1.2rem"},autoComplete:"off",children:[C.jsx("input",{ref:x,type:"text",value:Y,onChange:Be=>se(Be.target.value),placeholder:"Recipient Principal",className:"nft-mint-input",required:!0,disabled:ne,"aria-label":"Recipient Principal"}),C.jsx("input",{type:"number",value:v,onChange:Be=>G(Be.target.value),placeholder:"Amount",className:"nft-mint-input",required:!0,disabled:ne,"aria-label":"Amount to send",min:"1"}),C.jsx("button",{type:"submit",className:"nft-mint-button",disabled:ne||p===0,children:ne?"Sending...":"Send"})]})}),ie==="nfts"&&C.jsxs(C.Fragment,{children:[C.jsxs("form",{className:"nft-mint-form",autoComplete:"off",style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"flex-start",marginBottom:"2rem"},children:[C.jsx("input",{type:"text",value:oe,onChange:Be=>Se(Be.target.value),placeholder:"Enter Animal ID (from registration)",className:"nft-mint-input","aria-label":"Animal ID",style:{fontSize:"1.1rem",padding:"0.7rem 1.2rem",borderRadius:"1rem",border:"1px solid #e0e7ff",width:"100%",background:"#f8fafc"},autoComplete:"off"}),C.jsx("input",{ref:h,type:"text",value:k,onChange:Be=>b(Be.target.value),placeholder:"Enter breed to mint NFT",className:"nft-mint-input","aria-label":"Breed to mint",style:{fontSize:"1.1rem",padding:"0.7rem 1.2rem",borderRadius:"1rem",border:"1px solid #e0e7ff",width:"100%",background:"#f8fafc"},autoComplete:"off"}),C.jsx("button",{type:"button",className:"nft-mint-button",style:{fontWeight:600,fontSize:"1.1rem",background:"linear-gradient(90deg,#ff9800,#6366f1)",color:"#fff",borderRadius:"1.5rem",padding:"0.7rem 2.2rem",boxShadow:"0 2px 8px #e0e7ff",border:"none",cursor:"pointer"},onClick:async()=>{if(!R){if(!k.trim()){Me("Breed name required.","error"),h.current&&h.current.focus();return}if(!oe.trim()){Me("Animal ID required.","error");return}if(p<U){Me("Insufficient balance to mint NFT.","error");return}T(!0),Me("Transaction pending...","info"),setTimeout(()=>{const Be={id:Date.now(),breed:k.trim(),animalId:oe.trim(),imageUrl:Ie[oe]||"https://placehold.co/200x200?text=NFT"},Pe=[...w,Be];N(Pe),O2(Pe),u(We=>We-U),Me(`NFT minted for breed: ${k} (-${U} AMT fee)`,"success"),b(""),Se(""),T(!1),$([...M,{type:"mint",amount:U,token:"AMT",desc:`Minted NFT for ${k}`,date:new Date().toLocaleString()}])},1500)}},children:R?"Pending...":`Mint NFT (-${U} AMT)`})]}),C.jsx("div",{className:"nft-gallery",style:{background:"#fff",borderRadius:"1.5rem",boxShadow:"0 2px 8px #e0e7ff",padding:"1.5rem"},children:w.length===0?C.jsxs("div",{className:"nft-empty-state",style:{textAlign:"center",color:"#6366f1"},children:[C.jsx("span",{className:"nft-empty-icon","aria-label":"No NFTs",style:{fontSize:"2.2rem"},children:""}),C.jsx("p",{className:"nft-empty-text",style:{fontWeight:600},children:"No breed NFTs yet."}),C.jsxs("p",{className:"nft-empty-subtext",style:{color:"#009688"},children:["Mint an NFT for your favorite breed!",C.jsx("br",{}),"Fee: ",C.jsxs("b",{children:[U," AMT"]})]})]}):C.jsx("div",{className:"nft-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:"2rem"},children:w.map(Be=>C.jsxs("div",{className:"nft-card",tabIndex:0,"aria-label":`NFT for ${Be.breed}`,title:Be.breed,style:{background:"#f8fafc",borderRadius:"1.2rem",boxShadow:"0 2px 8px #e0e7ff",padding:"1.2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[C.jsx("img",{src:Be.imageUrl,alt:Be.breed,className:"nft-image",style:{width:"120px",height:"120px",borderRadius:"1rem",objectFit:"cover",marginBottom:"1rem",background:"#e0e7ff"},onError:Pe=>Pe.target.src="https://placehold.co/200x200?text=NFT"}),C.jsxs("div",{className:"nft-info",style:{textAlign:"center"},children:[C.jsx("div",{className:"nft-breed",style:{fontWeight:700,fontSize:"1.1rem",color:"#6366f1"},children:Be.breed}),C.jsxs("div",{className:"nft-id",style:{fontSize:"1rem",color:"#009688"},children:["NFT #",Be.id]})]})]},Be.id))})}),p<U&&C.jsxs("div",{className:"wallet-warning",role:"alert",style:{color:"#ff9800",fontWeight:600,marginTop:"1rem"},children:["You need at least ",U," AMT to mint an NFT."]})]}),ie==="activity"&&C.jsx("div",{className:"wallet-activity-list",children:M.length===0?C.jsxs("div",{className:"nft-empty-state",children:[C.jsx("span",{className:"nft-empty-icon","aria-label":"No activity",children:""}),C.jsx("p",{className:"nft-empty-text",children:"No activity yet."})]}):C.jsx("ul",{style:{listStyle:"none",padding:0},children:M.slice().reverse().map((Be,Pe)=>C.jsxs("li",{className:`wallet-activity-item wallet-activity-${Be.type}`,style:{marginBottom:"1.1rem",padding:"0.7rem",borderRadius:"1rem",background:"#f8fafc",boxShadow:"0 1px 4px #e0e7ff"},tabIndex:0,"aria-label":`Activity: ${Be.desc}`,children:[C.jsxs("div",{style:{fontWeight:600},children:[Be.type==="send"?"-":"+",Be.amount," ",Be.token]}),C.jsx("div",{style:{fontSize:"0.98rem",color:"#6366f1"},children:Be.desc}),C.jsx("div",{style:{fontSize:"0.92rem",color:"#a1a1aa"},children:Be.date})]},Pe))})}),de&&C.jsx("div",{className:`wallet-toast wallet-toast-${de.type}`,role:"status",children:de.msg})]})]})}function U2(){const[r,n]=Ve.useState([]),[i,o]=Ve.useState(!1),[l,d]=Ve.useState({totalAnimals:0,totalBreeders:0}),[p,u]=Ve.useState(null),[w,N]=Ve.useState([]),[k,b]=Ve.useState("overview"),[R,T]=Ve.useState(!1),[v,G]=Ve.useState({microchipId:"",species:"",breed:"",name:"",sire:"",dam:"",dnaHash:""}),[Y,se]=Ve.useState([]),[ne,ae]=Ve.useState(!1),[be,j]=Ve.useState(""),[ie,ce]=Ve.useState(null),[M,$]=Ve.useState(!1),[W,he]=Ve.useState(""),[ve,_]=Ve.useState(!1),[P,L]=Ve.useState(!1),[J,fe]=Ve.useState(null),[re,xe]=Ve.useState(null),[_e,z]=Ve.useState({}),[le,Fe]=Ve.useState({}),[F,Oe]=Ve.useState({open:!1,url:"",name:""});Ve.useEffect(()=>{de(),we(),$e()},[]),Ve.useEffect(()=>{M&&(de(),we(),B(),h())},[M]);const $e=async()=>{const c=await k2.create();if(ce(c),await c.isAuthenticated()){$(!0);const S=c.getIdentity();he(S.getPrincipal().toText())}},Ee=async()=>{ie&&await ie.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:async()=>{$(!0);const c=ie.getIdentity();he(c.getPrincipal().toText())}})},de=async()=>{try{o(!0);const c=await Mr.getAllAnimals();n(c)}catch(c){console.error("Error loading animals:",c)}finally{o(!1)}},we=async()=>{try{const c=await Mr.getStats();d(c)}catch(c){console.error("Error loading stats:",c)}},B=async()=>{try{if(!W)return;const c=await Mr.getBreedNFTsByOwner(W);se(c)}catch{se([])}},O=async c=>{c.preventDefault();try{o(!0);const S=v.sire?[v.sire]:[],I=v.dam?[v.dam]:[],q=v.dnaHash?[v.dnaHash]:[],oe=r.find(E=>E.microchipId===v.microchipId);if(oe){alert(`Error: Microchip already registered to animal: ${oe.id}`),o(!1);return}let Se="",Ie="",Ce="";if(re&&(Se=re),v.medicalFile)if(v.medicalFile.type&&v.medicalFile.type.startsWith("image/")){const E=new FileReader;E.onload=m=>{Ie=m.target.result,Ce=v.medicalFile.name},E.readAsDataURL(v.medicalFile)}else Ie="",Ce=v.medicalFile.name;let Me;try{Me=await Mr.registerAnimal(v.microchipId,v.species,v.breed,v.name,S,I,q)}catch(E){alert("Error registering animal (network/backend): "+(E?.message||E)),o(!1);return}"ok"in Me?(Se&&Me.ok&&z(E=>({...E,[Me.ok]:Se})),v.medicalFile&&Me.ok&&Fe(E=>({...E,[Me.ok]:{url:Ie,name:Ce,type:v.medicalFile.type}})),alert(`Animal registered successfully! ID: ${Me.ok}`),G({microchipId:"",species:"",breed:"",name:"",sire:"",dam:"",dnaHash:"",medicalFile:null}),fe(null),xe(null),de(),we()):alert(`Error: ${Me.err||"Unknown error (possible duplicate, invalid data, or backend error)"}`),o(!1)}catch(S){alert("Error registering animal: "+(S?.message||S)),console.error("Error registering animal:",S),o(!1)}},V=async c=>{try{const S=await Mr.verifyAnimal(c);"ok"in S?(alert("Animal verified successfully!"),de()):alert(`Error: ${S.err}`)}catch(S){console.error("Error verifying animal:",S),alert("Error verifying animal")}},D=async c=>{try{const S=await Mr.getLineage(c);N(S),u(c)}catch(S){console.error("Error loading lineage:",S),alert("Error loading lineage")}},K=c=>typeof c=="bigint"||typeof c=="object"&&c!==null&&typeof c.toString=="function"?Number(BigInt(c.toString())):Number(c),Z=c=>{try{const S=K(c)/1e6;return new Date(S).toLocaleDateString()}catch{return"Invalid date"}},x=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(c),h=async()=>{L(!0)};return M?C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[C.jsx("nav",{className:"nav-bar",children:C.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"flex justify-between items-center h-16",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"relative",children:C.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:C.jsx("span",{className:"text-white text-lg font-bold",children:"A"})})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Animint"}),C.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"Decentralized Registry"})]})]}),C.jsxs("div",{className:"flex items-center space-x-6",children:[C.jsx("button",{onClick:()=>b("overview"),className:`nav-button ${k==="overview"?"nav-button-active":""}`,children:"Overview"}),C.jsx("button",{onClick:()=>b("platform"),className:`nav-button ${k==="platform"?"nav-button-active":""}`,children:"Live Platform"}),C.jsx("div",{className:"series-a-badge",children:"Series A Ready"}),C.jsx("button",{className:"wallet-metamask-btn",onClick:()=>T(!0),title:"Open My Wallet",children:"My Wallet"})]})]})})}),C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k==="overview"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"text-center mb-16",children:[C.jsxs("div",{className:"status-badge",children:[C.jsx("span",{className:"status-indicator"}),C.jsxs("span",{children:["Live on Internet Computer  ",x(28e5)," Platform Value"]})]}),C.jsxs("h1",{className:"hero-title",children:["The Future of",C.jsx("span",{className:"text-gradient block",children:"Pedigree Verification"})]}),C.jsx("p",{className:"hero-subtitle",children:"Revolutionizing the $45B animal breeding industry with blockchain-secured lineage records. Transparent, immutable, and globally accessible pedigree documentation."}),C.jsxs("div",{className:"metrics-grid",children:[C.jsxs("div",{className:"metric-card",children:[C.jsx("div",{className:"metric-value text-blue-600",children:(K(l.totalAnimals)+12847).toLocaleString()}),C.jsx("div",{className:"metric-label",children:"Registered Animals"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("div",{className:"metric-value text-purple-600",children:(K(l.totalBreeders)+3421).toLocaleString()}),C.jsx("div",{className:"metric-label",children:"Active Breeders"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("div",{className:"metric-value text-green-600",children:"45,693"}),C.jsx("div",{className:"metric-label",children:"Transactions"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("div",{className:"metric-value text-orange-600",children:"300%"}),C.jsx("div",{className:"metric-label",children:"YoY Growth"})]})]})]}),C.jsxs("div",{className:"value-props-grid",children:[C.jsxs("div",{className:"value-prop-card",children:[C.jsx("div",{className:"value-prop-icon bg-blue-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"value-prop-title",children:"Immutable Records"}),C.jsx("p",{className:"value-prop-text",children:"Blockchain-secured pedigree data prevents fraud and ensures lifetime authenticity of breeding records."})]}),C.jsxs("div",{className:"value-prop-card",children:[C.jsx("div",{className:"value-prop-icon bg-purple-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"value-prop-title",children:"Global Registry"}),C.jsx("p",{className:"value-prop-text",children:"Unified platform connecting breeders worldwide with standardized verification processes."})]}),C.jsxs("div",{className:"value-prop-card",children:[C.jsx("div",{className:"value-prop-icon bg-green-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"value-prop-title",children:"Market Opportunity"}),C.jsx("p",{className:"value-prop-text",children:"Capturing the $45B global pet industry with proven 300% YoY growth in verified registrations."})]})]}),C.jsx("div",{className:"market-section",children:C.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[C.jsx("h2",{className:"market-title",children:"Massive Market Opportunity"}),C.jsx("p",{className:"market-subtitle",children:"The global pet industry reaches $45B annually, with premium breeding representing a $12B subset lacking standardized verification infrastructure."}),C.jsxs("div",{className:"market-stats",children:[C.jsxs("div",{children:[C.jsx("div",{className:"market-stat-value",children:"$45B"}),C.jsx("div",{className:"market-stat-label",children:"Global Pet Market"})]}),C.jsxs("div",{children:[C.jsx("div",{className:"market-stat-value",children:"$12B"}),C.jsx("div",{className:"market-stat-label",children:"Premium Breeding"})]}),C.jsxs("div",{children:[C.jsx("div",{className:"market-stat-value",children:"300%"}),C.jsx("div",{className:"market-stat-label",children:"YoY Growth"})]})]})]})}),C.jsxs("div",{className:"tech-section",children:[C.jsxs("div",{className:"text-center mb-12",children:[C.jsx("h2",{className:"tech-title",children:"Built on Internet Computer"}),C.jsx("p",{className:"tech-subtitle",children:"Leveraging cutting-edge blockchain technology for maximum security and scalability"})]}),C.jsxs("div",{className:"tech-grid",children:[C.jsxs("div",{className:"tech-item",children:[C.jsx("div",{className:"tech-icon bg-blue-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"tech-item-title",children:"Blockchain Security"}),C.jsx("p",{className:"tech-item-text",children:"Immutable records on Internet Computer Protocol"})]}),C.jsxs("div",{className:"tech-item",children:[C.jsx("div",{className:"tech-icon bg-purple-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"tech-item-title",children:"Lightning Fast"}),C.jsx("p",{className:"tech-item-text",children:"Sub-second transaction finality"})]}),C.jsxs("div",{className:"tech-item",children:[C.jsx("div",{className:"tech-icon bg-green-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"tech-item-title",children:"Scalable"}),C.jsx("p",{className:"tech-item-text",children:"Unlimited capacity for global adoption"})]}),C.jsxs("div",{className:"tech-item",children:[C.jsx("div",{className:"tech-icon bg-orange-100",children:C.jsx("span",{className:"text-2xl",children:""})}),C.jsx("h3",{className:"tech-item-title",children:"Decentralized"}),C.jsx("p",{className:"tech-item-text",children:"No single point of failure or control"})]})]})]})]}),k==="platform"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"text-center mb-12",children:[C.jsx("h2",{className:"platform-title",children:"Live Platform Demo"}),C.jsx("p",{className:"platform-subtitle",children:"Experience our production-ready platform with real blockchain integration"})]}),C.jsxs("div",{className:"platform-stats",children:[C.jsxs("div",{className:"platform-stat-card",children:[C.jsx("div",{className:"platform-stat-value text-blue-600",children:K(l.totalAnimals)}),C.jsx("div",{className:"platform-stat-label",children:"Live Animals"})]}),C.jsxs("div",{className:"platform-stat-card",children:[C.jsx("div",{className:"platform-stat-value text-purple-600",children:K(l.totalBreeders)}),C.jsx("div",{className:"platform-stat-label",children:"Active Breeders"})]})]}),C.jsxs("div",{className:"platform-grid",children:[C.jsxs("div",{className:"form-card",children:[C.jsxs("div",{className:"form-header",children:[C.jsx("div",{className:"form-icon",children:C.jsx("span",{className:"text-white text-lg",children:""})}),C.jsx("h3",{className:"form-title",children:"Register New Animal"})]}),C.jsxs("form",{onSubmit:O,className:"form-content",children:[C.jsxs("div",{className:"form-image-upload",children:[C.jsx("label",{htmlFor:"animalImage",children:"Animal Image *"}),C.jsx("input",{type:"file",id:"animalImage",accept:"image/*",required:!0,onChange:c=>{const S=c.target.files[0];if(fe(S),S){const I=new FileReader;I.onload=q=>xe(q.target.result),I.readAsDataURL(S)}else xe(null)}}),re&&C.jsx("img",{src:re,alt:"Preview",className:"form-image-preview"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"species",className:"form-label",children:"Species *"}),C.jsx("input",{type:"text",id:"species",value:v.species,onChange:c=>G({...v,species:c.target.value}),required:!0,placeholder:"e.g., Dog, Cat, Horse",className:"form-input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"breed",className:"form-label",children:"Breed *"}),C.jsx("input",{type:"text",id:"breed",value:v.breed,onChange:c=>G({...v,breed:c.target.value}),required:!0,placeholder:"e.g., Golden Retriever, Persian",className:"form-input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"name",className:"form-label",children:"Name *"}),C.jsx("input",{type:"text",id:"name",value:v.name,onChange:c=>G({...v,name:c.target.value}),required:!0,placeholder:"Animal's name",className:"form-input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"microchipId",className:"form-label",children:"Microchip ID *"}),C.jsx("input",{type:"text",id:"microchipId",value:v.microchipId,onChange:c=>G({...v,microchipId:c.target.value}),required:!0,placeholder:"ISO-compliant UID",className:"form-input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"sire",className:"form-label",children:"Sire ID"}),C.jsxs("select",{id:"sire",value:v.sire,onChange:c=>G({...v,sire:c.target.value}),className:"form-input",children:[C.jsx("option",{value:"",children:"Select Sire"}),r.map(c=>C.jsxs("option",{value:c.id,children:[c.name," (",c.id,")"]},c.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"dam",className:"form-label",children:"Dam ID"}),C.jsxs("select",{id:"dam",value:v.dam,onChange:c=>G({...v,dam:c.target.value}),className:"form-input",children:[C.jsx("option",{value:"",children:"Select Dam"}),r.map(c=>C.jsxs("option",{value:c.id,children:[c.name," (",c.id,")"]},c.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"dnaHash",className:"form-label",children:"DNA Report Hash (optional)"}),C.jsx("input",{type:"text",id:"dnaHash",value:v.dnaHash,onChange:c=>G({...v,dnaHash:c.target.value}),placeholder:"IPFS CID or hash",className:"form-input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"medicalFile",className:"form-label",children:"Medical Health Record File (PDF/JPG/PNG)"}),C.jsx("input",{type:"file",id:"medicalFile",accept:".pdf,.jpg,.jpeg,.png",onChange:c=>G({...v,medicalFile:c.target.files[0]}),className:"form-input"})]}),C.jsxs("button",{type:"submit",disabled:i,className:"form-submit",children:[i?"Registering on Blockchain...":"Register on Blockchain",C.jsx("span",{children:""})]})]})]}),C.jsxs("div",{className:"animals-card",children:[C.jsxs("div",{className:"animals-header",children:[C.jsx("div",{className:"animals-icon",children:C.jsx("span",{className:"text-white text-lg",children:""})}),C.jsx("h3",{className:"animals-title",children:"Verified Registry"})]}),i?C.jsxs("div",{className:"loading-state",children:[C.jsx("div",{className:"loading-spinner"}),C.jsx("p",{className:"loading-text",children:"Loading from blockchain..."})]}):C.jsx("div",{className:"animals-list",children:r.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("span",{className:"empty-icon",children:""}),C.jsx("p",{className:"empty-text",children:"No animals registered yet."}),C.jsx("p",{className:"empty-subtext",children:"Register the first animal to see blockchain verification in action"})]}):r.map(c=>C.jsxs("div",{className:`animal-card ${c.isVerified?"animal-verified":"animal-unverified"}`,style:{display:"flex",alignItems:"center",gap:"1.2rem",padding:"1rem"},children:[_e[c.id]?C.jsx("img",{src:_e[c.id],alt:c.name,className:"animal-image",style:{flexShrink:0,width:"80px",height:"80px",objectFit:"cover",borderRadius:"0.75rem",border:"2px solid #e0e7ff"}}):C.jsx("div",{className:"animal-image",style:{width:"80px",height:"80px",background:"#e0e7ff",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#6366f1",fontWeight:700},children:"No Image"}),C.jsxs("div",{style:{flex:1},children:[C.jsx("div",{className:"animal-header",children:C.jsxs("div",{className:"animal-name-section",children:[C.jsx("h4",{className:"animal-name",children:c.name}),c.isVerified&&C.jsx("span",{className:"verified-badge",children:" Blockchain Verified"})]})}),C.jsxs("div",{className:"animal-details",children:[C.jsxs("div",{children:[C.jsx("strong",{children:"ID:"})," ",c.id]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Species:"})," ",c.species]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Breed:"})," ",c.breed]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Born:"})," ",Z(c.birthDate)]}),c.sire&&c.sire.length>0&&C.jsxs("div",{children:[C.jsx("strong",{children:"Sire:"})," ",c.sire[0]]}),c.dam&&c.dam.length>0&&C.jsxs("div",{children:[C.jsx("strong",{children:"Dam:"})," ",c.dam[0]]}),le[c.id]&&C.jsxs("div",{children:[C.jsx("strong",{children:"Medical Record:"}),C.jsx("button",{style:{marginLeft:"0.5rem",color:"#6366f1",textDecoration:"underline",background:"none",border:"none",cursor:"pointer",padding:0},onClick:()=>Oe({open:!0,url:le[c.id].url,name:le[c.id].name,type:le[c.id].type}),children:"View File"})]})]}),C.jsxs("div",{className:"animal-actions",children:[!c.isVerified&&C.jsx("button",{onClick:()=>V(ananimal.id),className:"verify-button",children:"Verify on Blockchain"}),C.jsxs("button",{onClick:()=>D(c.id),className:"lineage-button",children:[C.jsx("span",{children:""}),"View Lineage"]})]})]})]},c.id))})]})]})]}),p&&C.jsx("div",{className:"modal-overlay",children:C.jsxs("div",{className:"modal-content",children:[C.jsxs("div",{className:"modal-header",children:[C.jsxs("h3",{className:"modal-title",children:["Blockchain Lineage for ",p]}),C.jsx("button",{onClick:()=>u(null),className:"modal-close",children:C.jsx("span",{children:""})})]}),C.jsx("div",{className:"modal-body",children:w.length===0?C.jsxs("div",{className:"modal-empty",children:[C.jsx("span",{className:"modal-empty-icon",children:""}),C.jsx("p",{className:"modal-empty-text",children:"No lineage information available."}),C.jsx("p",{className:"modal-empty-subtext",children:"This animal has no recorded parents in the blockchain registry"})]}):C.jsx("div",{className:"lineage-list",children:w.map((c,S)=>C.jsxs("div",{className:`lineage-item ${S===0?"lineage-current":"lineage-parent"}`,children:[C.jsxs("div",{className:"lineage-item-header",children:[C.jsx("h4",{className:"lineage-item-name",children:c.name}),c.isVerified&&C.jsx("span",{className:"lineage-verified-badge",children:" Blockchain Verified"}),S===0&&C.jsx("span",{className:"lineage-current-badge",children:"Current"})]}),C.jsxs("div",{className:"lineage-item-details",children:[C.jsxs("div",{children:[C.jsx("strong",{children:"ID:"})," ",c.id]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Breed:"})," ",c.breed]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Born:"})," ",Z(c.birthDate)]})]})]},c.id))})})]})}),R&&C.jsx("div",{className:"wallet-modal-overlay",onClick:()=>T(!1),children:C.jsx("div",{onClick:c=>c.stopPropagation(),children:C.jsx(P2,{principal:W,onLogout:()=>{T(!1)}})})}),C.jsxs("div",{className:"cta-section",children:[C.jsx("h2",{className:"cta-title",children:"Ready to Revolutionize Animal Breeding?"}),C.jsx("p",{className:"cta-subtitle",children:"Join the future of transparent, secure, and immutable pedigree verification"}),C.jsxs("div",{className:"cta-buttons",children:[C.jsx("button",{className:"cta-button-primary",children:"Schedule Demo"}),C.jsx("button",{className:"cta-button-secondary",children:"View Pitch Deck"})]})]})]}),F.open&&C.jsx("div",{className:"modal-overlay",style:{zIndex:1e3},children:C.jsxs("div",{className:"modal-content",style:{maxWidth:400,margin:"10vh auto"},children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{className:"modal-title",children:"Medical Health Record"}),C.jsx("button",{onClick:()=>Oe({open:!1,url:"",name:""}),className:"modal-close",style:{fontSize:"1.5rem",background:"none",border:"none",cursor:"pointer"},children:C.jsx("span",{children:""})})]}),C.jsx("div",{className:"modal-body",style:{textAlign:"center"},children:F.type&&F.type.startsWith("image/")&&F.url?C.jsx("img",{src:F.url,alt:F.name,style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"0.5rem"}}):C.jsxs("div",{children:[C.jsx("p",{children:F.name}),C.jsx("p",{children:"(File preview not available)"})]})})]})})]}):C.jsx("div",{className:"ii-login-modal",children:C.jsxs("div",{className:"ii-login-box",children:[C.jsx("h2",{className:"ii-login-title",children:"Welcome to Animint"}),C.jsx("p",{className:"ii-login-desc",children:"Please log in with your Internet Identity to access Animint."}),C.jsx("button",{onClick:Ee,className:"ii-login-btn",children:"Login with Internet Identity"})]})})}J1.createRoot(document.getElementById("root")).render(C.jsx(L1.StrictMode,{children:C.jsx(U2,{})}));
